[SERVICE]
    Flush        5
    Daemon       off
    Log_Level    info
    HTTP_Server  On
    HTTP_Listen  0.0.0.0
    HTTP_Port    2020

[INPUT]
    Name              tail
    Path              /var/log/*.log
    Tag               logs.*
    Refresh_Interval  5
    Mem_Buf_Limit     10MB
    Skip_Long_Lines   On

[FILTER]
    Name                grep
    Match               *
    Regex               log (Connection refused|timeout|unreachable|disk full)

[FILTER]
    Name    grep
    Match   logs.*
    Regex   log (ERROR|CRITICAL|FAIL|error|critical|fail)

# Development output - console logging
[OUTPUT]
    Name  stdout
    Match *

[OUTPUT]
    Name        http
    Match       *
    Host        ${MCP_HOST:-localhost}
    Port        ${MCP_PORT:-8000}
    URI         /api/v1/logs
    Format      json
    HTTP_User   ${MCP_USER:-}
    HTTP_Passwd ${MCP_PASS:-}
    tls         off
    tls.verify  off