[SERVICE]
    Flush        5
    Daemon       off
    Log_Level    info
    HTTP_Server  On
    HTTP_Listen  0.0.0.0
    HTTP_Port    2020

[INPUT]
    Name              tail
    Path              /var/log/*.log
    Tag               logs.*
    Refresh_Interval  5
    Mem_Buf_Limit     10MB
    Skip_Long_Lines   On

[FILTER]
    Name                grep
    Match               logs.*
    Regex               log (ERROR|CRITICAL|FAIL|error|critical|fail|Connection refused|timeout|unreachable|disk full)

# For development - output to console
[OUTPUT]
    Name  stdout
    Match *

# For production - uncomment when MCP server is ready
[OUTPUT]
     Name        http
     Match       logs.*
     Host        ${MCP_HOST:-localhost}
     Port        ${MCP_PORT:-8000}
     URI         /api/v1/logs
     Format      json
     tls         off