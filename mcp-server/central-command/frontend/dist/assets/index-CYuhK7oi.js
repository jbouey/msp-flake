var fc=e=>{throw TypeError(e)};var Ni=(e,t,n)=>t.has(e)||fc("Cannot "+n);var y=(e,t,n)=>(Ni(e,t,"read from private field"),n?n.call(e):t.get(e)),O=(e,t,n)=>t.has(e)?fc("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,n),E=(e,t,n,r)=>(Ni(e,t,"write to private field"),r?r.call(e,n):t.set(e,n),n),D=(e,t,n)=>(Ni(e,t,"access private method"),n);var zr=(e,t,n,r)=>({set _(l){E(e,t,l,n)},get _(){return y(e,t,r)}});function Jm(e,t){for(var n=0;n<t.length;n++){const r=t[n];if(typeof r!="string"&&!Array.isArray(r)){for(const l in r)if(l!=="default"&&!(l in e)){const i=Object.getOwnPropertyDescriptor(r,l);i&&Object.defineProperty(e,l,i.get?i:{enumerable:!0,get:()=>r[l]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))r(l);new MutationObserver(l=>{for(const i of l)if(i.type==="childList")for(const a of i.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&r(a)}).observe(document,{childList:!0,subtree:!0});function n(l){const i={};return l.integrity&&(i.integrity=l.integrity),l.referrerPolicy&&(i.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?i.credentials="include":l.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(l){if(l.ep)return;l.ep=!0;const i=n(l);fetch(l.href,i)}})();function Zm(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var lu={exports:{}},Xl={},iu={exports:{}},F={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Rr=Symbol.for("react.element"),ep=Symbol.for("react.portal"),tp=Symbol.for("react.fragment"),np=Symbol.for("react.strict_mode"),sp=Symbol.for("react.profiler"),rp=Symbol.for("react.provider"),lp=Symbol.for("react.context"),ip=Symbol.for("react.forward_ref"),ap=Symbol.for("react.suspense"),op=Symbol.for("react.memo"),cp=Symbol.for("react.lazy"),xc=Symbol.iterator;function dp(e){return e===null||typeof e!="object"?null:(e=xc&&e[xc]||e["@@iterator"],typeof e=="function"?e:null)}var au={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},ou=Object.assign,cu={};function Rs(e,t,n){this.props=e,this.context=t,this.refs=cu,this.updater=n||au}Rs.prototype.isReactComponent={};Rs.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Rs.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function du(){}du.prototype=Rs.prototype;function co(e,t,n){this.props=e,this.context=t,this.refs=cu,this.updater=n||au}var uo=co.prototype=new du;uo.constructor=co;ou(uo,Rs.prototype);uo.isPureReactComponent=!0;var yc=Array.isArray,uu=Object.prototype.hasOwnProperty,ho={current:null},hu={key:!0,ref:!0,__self:!0,__source:!0};function mu(e,t,n){var r,l={},i=null,a=null;if(t!=null)for(r in t.ref!==void 0&&(a=t.ref),t.key!==void 0&&(i=""+t.key),t)uu.call(t,r)&&!hu.hasOwnProperty(r)&&(l[r]=t[r]);var o=arguments.length-2;if(o===1)l.children=n;else if(1<o){for(var c=Array(o),d=0;d<o;d++)c[d]=arguments[d+2];l.children=c}if(e&&e.defaultProps)for(r in o=e.defaultProps,o)l[r]===void 0&&(l[r]=o[r]);return{$$typeof:Rr,type:e,key:i,ref:a,props:l,_owner:ho.current}}function up(e,t){return{$$typeof:Rr,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function mo(e){return typeof e=="object"&&e!==null&&e.$$typeof===Rr}function hp(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var gc=/\/+/g;function bi(e,t){return typeof e=="object"&&e!==null&&e.key!=null?hp(""+e.key):t.toString(36)}function il(e,t,n,r,l){var i=typeof e;(i==="undefined"||i==="boolean")&&(e=null);var a=!1;if(e===null)a=!0;else switch(i){case"string":case"number":a=!0;break;case"object":switch(e.$$typeof){case Rr:case ep:a=!0}}if(a)return a=e,l=l(a),e=r===""?"."+bi(a,0):r,yc(l)?(n="",e!=null&&(n=e.replace(gc,"$&/")+"/"),il(l,t,n,"",function(d){return d})):l!=null&&(mo(l)&&(l=up(l,n+(!l.key||a&&a.key===l.key?"":(""+l.key).replace(gc,"$&/")+"/")+e)),t.push(l)),1;if(a=0,r=r===""?".":r+":",yc(e))for(var o=0;o<e.length;o++){i=e[o];var c=r+bi(i,o);a+=il(i,t,n,c,l)}else if(c=dp(e),typeof c=="function")for(e=c.call(e),o=0;!(i=e.next()).done;)i=i.value,c=r+bi(i,o++),a+=il(i,t,n,c,l);else if(i==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return a}function Ur(e,t,n){if(e==null)return e;var r=[],l=0;return il(e,r,"","",function(i){return t.call(n,i,l++)}),r}function mp(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var we={current:null},al={transition:null},pp={ReactCurrentDispatcher:we,ReactCurrentBatchConfig:al,ReactCurrentOwner:ho};function pu(){throw Error("act(...) is not supported in production builds of React.")}F.Children={map:Ur,forEach:function(e,t,n){Ur(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return Ur(e,function(){t++}),t},toArray:function(e){return Ur(e,function(t){return t})||[]},only:function(e){if(!mo(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};F.Component=Rs;F.Fragment=tp;F.Profiler=sp;F.PureComponent=co;F.StrictMode=np;F.Suspense=ap;F.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=pp;F.act=pu;F.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=ou({},e.props),l=e.key,i=e.ref,a=e._owner;if(t!=null){if(t.ref!==void 0&&(i=t.ref,a=ho.current),t.key!==void 0&&(l=""+t.key),e.type&&e.type.defaultProps)var o=e.type.defaultProps;for(c in t)uu.call(t,c)&&!hu.hasOwnProperty(c)&&(r[c]=t[c]===void 0&&o!==void 0?o[c]:t[c])}var c=arguments.length-2;if(c===1)r.children=n;else if(1<c){o=Array(c);for(var d=0;d<c;d++)o[d]=arguments[d+2];r.children=o}return{$$typeof:Rr,type:e.type,key:l,ref:i,props:r,_owner:a}};F.createContext=function(e){return e={$$typeof:lp,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:rp,_context:e},e.Consumer=e};F.createElement=mu;F.createFactory=function(e){var t=mu.bind(null,e);return t.type=e,t};F.createRef=function(){return{current:null}};F.forwardRef=function(e){return{$$typeof:ip,render:e}};F.isValidElement=mo;F.lazy=function(e){return{$$typeof:cp,_payload:{_status:-1,_result:e},_init:mp}};F.memo=function(e,t){return{$$typeof:op,type:e,compare:t===void 0?null:t}};F.startTransition=function(e){var t=al.transition;al.transition={};try{e()}finally{al.transition=t}};F.unstable_act=pu;F.useCallback=function(e,t){return we.current.useCallback(e,t)};F.useContext=function(e){return we.current.useContext(e)};F.useDebugValue=function(){};F.useDeferredValue=function(e){return we.current.useDeferredValue(e)};F.useEffect=function(e,t){return we.current.useEffect(e,t)};F.useId=function(){return we.current.useId()};F.useImperativeHandle=function(e,t,n){return we.current.useImperativeHandle(e,t,n)};F.useInsertionEffect=function(e,t){return we.current.useInsertionEffect(e,t)};F.useLayoutEffect=function(e,t){return we.current.useLayoutEffect(e,t)};F.useMemo=function(e,t){return we.current.useMemo(e,t)};F.useReducer=function(e,t,n){return we.current.useReducer(e,t,n)};F.useRef=function(e){return we.current.useRef(e)};F.useState=function(e){return we.current.useState(e)};F.useSyncExternalStore=function(e,t,n){return we.current.useSyncExternalStore(e,t,n)};F.useTransition=function(){return we.current.useTransition()};F.version="18.3.1";iu.exports=F;var b=iu.exports;const po=Zm(b),fp=Jm({__proto__:null,default:po},[b]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var xp=b,yp=Symbol.for("react.element"),gp=Symbol.for("react.fragment"),vp=Object.prototype.hasOwnProperty,jp=xp.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Np={key:!0,ref:!0,__self:!0,__source:!0};function fu(e,t,n){var r,l={},i=null,a=null;n!==void 0&&(i=""+n),t.key!==void 0&&(i=""+t.key),t.ref!==void 0&&(a=t.ref);for(r in t)vp.call(t,r)&&!Np.hasOwnProperty(r)&&(l[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)l[r]===void 0&&(l[r]=t[r]);return{$$typeof:yp,type:e,key:i,ref:a,props:l,_owner:jp.current}}Xl.Fragment=gp;Xl.jsx=fu;Xl.jsxs=fu;lu.exports=Xl;var s=lu.exports,Xi={},xu={exports:{}},Ue={},yu={exports:{}},gu={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(M,A){var I=M.length;M.push(A);e:for(;0<I;){var te=I-1>>>1,ae=M[te];if(0<l(ae,A))M[te]=A,M[I]=ae,I=te;else break e}}function n(M){return M.length===0?null:M[0]}function r(M){if(M.length===0)return null;var A=M[0],I=M.pop();if(I!==A){M[0]=I;e:for(var te=0,ae=M.length,Ir=ae>>>1;te<Ir;){var xn=2*(te+1)-1,ji=M[xn],yn=xn+1,Fr=M[yn];if(0>l(ji,I))yn<ae&&0>l(Fr,ji)?(M[te]=Fr,M[yn]=I,te=yn):(M[te]=ji,M[xn]=I,te=xn);else if(yn<ae&&0>l(Fr,I))M[te]=Fr,M[yn]=I,te=yn;else break e}}return A}function l(M,A){var I=M.sortIndex-A.sortIndex;return I!==0?I:M.id-A.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;e.unstable_now=function(){return i.now()}}else{var a=Date,o=a.now();e.unstable_now=function(){return a.now()-o}}var c=[],d=[],u=1,h=null,f=3,x=!1,j=!1,N=!1,w=typeof setTimeout=="function"?setTimeout:null,m=typeof clearTimeout=="function"?clearTimeout:null,p=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function g(M){for(var A=n(d);A!==null;){if(A.callback===null)r(d);else if(A.startTime<=M)r(d),A.sortIndex=A.expirationTime,t(c,A);else break;A=n(d)}}function v(M){if(N=!1,g(M),!j)if(n(c)!==null)j=!0,gi(k);else{var A=n(d);A!==null&&vi(v,A.startTime-M)}}function k(M,A){j=!1,N&&(N=!1,m(P),P=-1),x=!0;var I=f;try{for(g(A),h=n(c);h!==null&&(!(h.expirationTime>A)||M&&!U());){var te=h.callback;if(typeof te=="function"){h.callback=null,f=h.priorityLevel;var ae=te(h.expirationTime<=A);A=e.unstable_now(),typeof ae=="function"?h.callback=ae:h===n(c)&&r(c),g(A)}else r(c);h=n(c)}if(h!==null)var Ir=!0;else{var xn=n(d);xn!==null&&vi(v,xn.startTime-A),Ir=!1}return Ir}finally{h=null,f=I,x=!1}}var C=!1,_=null,P=-1,B=5,L=-1;function U(){return!(e.unstable_now()-L<B)}function Be(){if(_!==null){var M=e.unstable_now();L=M;var A=!0;try{A=_(!0,M)}finally{A?ot():(C=!1,_=null)}}else C=!1}var ot;if(typeof p=="function")ot=function(){p(Be)};else if(typeof MessageChannel<"u"){var pc=new MessageChannel,Ym=pc.port2;pc.port1.onmessage=Be,ot=function(){Ym.postMessage(null)}}else ot=function(){w(Be,0)};function gi(M){_=M,C||(C=!0,ot())}function vi(M,A){P=w(function(){M(e.unstable_now())},A)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(M){M.callback=null},e.unstable_continueExecution=function(){j||x||(j=!0,gi(k))},e.unstable_forceFrameRate=function(M){0>M||125<M?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):B=0<M?Math.floor(1e3/M):5},e.unstable_getCurrentPriorityLevel=function(){return f},e.unstable_getFirstCallbackNode=function(){return n(c)},e.unstable_next=function(M){switch(f){case 1:case 2:case 3:var A=3;break;default:A=f}var I=f;f=A;try{return M()}finally{f=I}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(M,A){switch(M){case 1:case 2:case 3:case 4:case 5:break;default:M=3}var I=f;f=M;try{return A()}finally{f=I}},e.unstable_scheduleCallback=function(M,A,I){var te=e.unstable_now();switch(typeof I=="object"&&I!==null?(I=I.delay,I=typeof I=="number"&&0<I?te+I:te):I=te,M){case 1:var ae=-1;break;case 2:ae=250;break;case 5:ae=1073741823;break;case 4:ae=1e4;break;default:ae=5e3}return ae=I+ae,M={id:u++,callback:A,priorityLevel:M,startTime:I,expirationTime:ae,sortIndex:-1},I>te?(M.sortIndex=I,t(d,M),n(c)===null&&M===n(d)&&(N?(m(P),P=-1):N=!0,vi(v,I-te))):(M.sortIndex=ae,t(c,M),j||x||(j=!0,gi(k))),M},e.unstable_shouldYield=U,e.unstable_wrapCallback=function(M){var A=f;return function(){var I=f;f=A;try{return M.apply(this,arguments)}finally{f=I}}}})(gu);yu.exports=gu;var bp=yu.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var wp=b,ze=bp;function S(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var vu=new Set,ir={};function Hn(e,t){ws(e,t),ws(e+"Capture",t)}function ws(e,t){for(ir[e]=t,e=0;e<t.length;e++)vu.add(t[e])}var Et=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Yi=Object.prototype.hasOwnProperty,kp=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,vc={},jc={};function Sp(e){return Yi.call(jc,e)?!0:Yi.call(vc,e)?!1:kp.test(e)?jc[e]=!0:(vc[e]=!0,!1)}function Cp(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function _p(e,t,n,r){if(t===null||typeof t>"u"||Cp(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function ke(e,t,n,r,l,i,a){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=l,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=i,this.removeEmptyString=a}var me={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){me[e]=new ke(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];me[t]=new ke(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){me[e]=new ke(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){me[e]=new ke(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){me[e]=new ke(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){me[e]=new ke(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){me[e]=new ke(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){me[e]=new ke(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){me[e]=new ke(e,5,!1,e.toLowerCase(),null,!1,!1)});var fo=/[\-:]([a-z])/g;function xo(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(fo,xo);me[t]=new ke(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(fo,xo);me[t]=new ke(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(fo,xo);me[t]=new ke(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){me[e]=new ke(e,1,!1,e.toLowerCase(),null,!1,!1)});me.xlinkHref=new ke("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){me[e]=new ke(e,1,!1,e.toLowerCase(),null,!0,!0)});function yo(e,t,n,r){var l=me.hasOwnProperty(t)?me[t]:null;(l!==null?l.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(_p(t,n,l,r)&&(n=null),r||l===null?Sp(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):l.mustUseProperty?e[l.propertyName]=n===null?l.type===3?!1:"":n:(t=l.attributeName,r=l.attributeNamespace,n===null?e.removeAttribute(t):(l=l.type,n=l===3||l===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var Mt=wp.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,$r=Symbol.for("react.element"),Kn=Symbol.for("react.portal"),qn=Symbol.for("react.fragment"),go=Symbol.for("react.strict_mode"),Ji=Symbol.for("react.profiler"),ju=Symbol.for("react.provider"),Nu=Symbol.for("react.context"),vo=Symbol.for("react.forward_ref"),Zi=Symbol.for("react.suspense"),ea=Symbol.for("react.suspense_list"),jo=Symbol.for("react.memo"),Dt=Symbol.for("react.lazy"),bu=Symbol.for("react.offscreen"),Nc=Symbol.iterator;function Fs(e){return e===null||typeof e!="object"?null:(e=Nc&&e[Nc]||e["@@iterator"],typeof e=="function"?e:null)}var Y=Object.assign,wi;function Qs(e){if(wi===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);wi=t&&t[1]||""}return`
`+wi+e}var ki=!1;function Si(e,t){if(!e||ki)return"";ki=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(d){var r=d}Reflect.construct(e,[],t)}else{try{t.call()}catch(d){r=d}e.call(t.prototype)}else{try{throw Error()}catch(d){r=d}e()}}catch(d){if(d&&r&&typeof d.stack=="string"){for(var l=d.stack.split(`
`),i=r.stack.split(`
`),a=l.length-1,o=i.length-1;1<=a&&0<=o&&l[a]!==i[o];)o--;for(;1<=a&&0<=o;a--,o--)if(l[a]!==i[o]){if(a!==1||o!==1)do if(a--,o--,0>o||l[a]!==i[o]){var c=`
`+l[a].replace(" at new "," at ");return e.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",e.displayName)),c}while(1<=a&&0<=o);break}}}finally{ki=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?Qs(e):""}function Pp(e){switch(e.tag){case 5:return Qs(e.type);case 16:return Qs("Lazy");case 13:return Qs("Suspense");case 19:return Qs("SuspenseList");case 0:case 2:case 15:return e=Si(e.type,!1),e;case 11:return e=Si(e.type.render,!1),e;case 1:return e=Si(e.type,!0),e;default:return""}}function ta(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case qn:return"Fragment";case Kn:return"Portal";case Ji:return"Profiler";case go:return"StrictMode";case Zi:return"Suspense";case ea:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case Nu:return(e.displayName||"Context")+".Consumer";case ju:return(e._context.displayName||"Context")+".Provider";case vo:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case jo:return t=e.displayName||null,t!==null?t:ta(e.type)||"Memo";case Dt:t=e._payload,e=e._init;try{return ta(e(t))}catch{}}return null}function Ep(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return ta(t);case 8:return t===go?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function cn(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function wu(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function Lp(e){var t=wu(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var l=n.get,i=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return l.call(this)},set:function(a){r=""+a,i.call(this,a)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(a){r=""+a},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Br(e){e._valueTracker||(e._valueTracker=Lp(e))}function ku(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=wu(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function jl(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function na(e,t){var n=t.checked;return Y({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function bc(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=cn(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function Su(e,t){t=t.checked,t!=null&&yo(e,"checked",t,!1)}function sa(e,t){Su(e,t);var n=cn(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?ra(e,t.type,n):t.hasOwnProperty("defaultValue")&&ra(e,t.type,cn(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function wc(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function ra(e,t,n){(t!=="number"||jl(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var Ks=Array.isArray;function ls(e,t,n,r){if(e=e.options,t){t={};for(var l=0;l<n.length;l++)t["$"+n[l]]=!0;for(n=0;n<e.length;n++)l=t.hasOwnProperty("$"+e[n].value),e[n].selected!==l&&(e[n].selected=l),l&&r&&(e[n].defaultSelected=!0)}else{for(n=""+cn(n),t=null,l=0;l<e.length;l++){if(e[l].value===n){e[l].selected=!0,r&&(e[l].defaultSelected=!0);return}t!==null||e[l].disabled||(t=e[l])}t!==null&&(t.selected=!0)}}function la(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(S(91));return Y({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function kc(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(S(92));if(Ks(n)){if(1<n.length)throw Error(S(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:cn(n)}}function Cu(e,t){var n=cn(t.value),r=cn(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function Sc(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function _u(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function ia(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?_u(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Hr,Pu=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,r,l){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,l)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(Hr=Hr||document.createElement("div"),Hr.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Hr.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function ar(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var Ys={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Rp=["Webkit","ms","Moz","O"];Object.keys(Ys).forEach(function(e){Rp.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Ys[t]=Ys[e]})});function Eu(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||Ys.hasOwnProperty(e)&&Ys[e]?(""+t).trim():t+"px"}function Lu(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,l=Eu(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,l):e[n]=l}}var Tp=Y({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function aa(e,t){if(t){if(Tp[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(S(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(S(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(S(61))}if(t.style!=null&&typeof t.style!="object")throw Error(S(62))}}function oa(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ca=null;function No(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var da=null,is=null,as=null;function Cc(e){if(e=Or(e)){if(typeof da!="function")throw Error(S(280));var t=e.stateNode;t&&(t=ti(t),da(e.stateNode,e.type,t))}}function Ru(e){is?as?as.push(e):as=[e]:is=e}function Tu(){if(is){var e=is,t=as;if(as=is=null,Cc(e),t)for(e=0;e<t.length;e++)Cc(t[e])}}function Mu(e,t){return e(t)}function Ou(){}var Ci=!1;function Au(e,t,n){if(Ci)return e(t,n);Ci=!0;try{return Mu(e,t,n)}finally{Ci=!1,(is!==null||as!==null)&&(Ou(),Tu())}}function or(e,t){var n=e.stateNode;if(n===null)return null;var r=ti(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(S(231,t,typeof n));return n}var ua=!1;if(Et)try{var zs={};Object.defineProperty(zs,"passive",{get:function(){ua=!0}}),window.addEventListener("test",zs,zs),window.removeEventListener("test",zs,zs)}catch{ua=!1}function Mp(e,t,n,r,l,i,a,o,c){var d=Array.prototype.slice.call(arguments,3);try{t.apply(n,d)}catch(u){this.onError(u)}}var Js=!1,Nl=null,bl=!1,ha=null,Op={onError:function(e){Js=!0,Nl=e}};function Ap(e,t,n,r,l,i,a,o,c){Js=!1,Nl=null,Mp.apply(Op,arguments)}function Dp(e,t,n,r,l,i,a,o,c){if(Ap.apply(this,arguments),Js){if(Js){var d=Nl;Js=!1,Nl=null}else throw Error(S(198));bl||(bl=!0,ha=d)}}function Wn(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function Du(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function _c(e){if(Wn(e)!==e)throw Error(S(188))}function Ip(e){var t=e.alternate;if(!t){if(t=Wn(e),t===null)throw Error(S(188));return t!==e?null:e}for(var n=e,r=t;;){var l=n.return;if(l===null)break;var i=l.alternate;if(i===null){if(r=l.return,r!==null){n=r;continue}break}if(l.child===i.child){for(i=l.child;i;){if(i===n)return _c(l),e;if(i===r)return _c(l),t;i=i.sibling}throw Error(S(188))}if(n.return!==r.return)n=l,r=i;else{for(var a=!1,o=l.child;o;){if(o===n){a=!0,n=l,r=i;break}if(o===r){a=!0,r=l,n=i;break}o=o.sibling}if(!a){for(o=i.child;o;){if(o===n){a=!0,n=i,r=l;break}if(o===r){a=!0,r=i,n=l;break}o=o.sibling}if(!a)throw Error(S(189))}}if(n.alternate!==r)throw Error(S(190))}if(n.tag!==3)throw Error(S(188));return n.stateNode.current===n?e:t}function Iu(e){return e=Ip(e),e!==null?Fu(e):null}function Fu(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=Fu(e);if(t!==null)return t;e=e.sibling}return null}var zu=ze.unstable_scheduleCallback,Pc=ze.unstable_cancelCallback,Fp=ze.unstable_shouldYield,zp=ze.unstable_requestPaint,ne=ze.unstable_now,Up=ze.unstable_getCurrentPriorityLevel,bo=ze.unstable_ImmediatePriority,Uu=ze.unstable_UserBlockingPriority,wl=ze.unstable_NormalPriority,$p=ze.unstable_LowPriority,$u=ze.unstable_IdlePriority,Yl=null,xt=null;function Bp(e){if(xt&&typeof xt.onCommitFiberRoot=="function")try{xt.onCommitFiberRoot(Yl,e,void 0,(e.current.flags&128)===128)}catch{}}var st=Math.clz32?Math.clz32:Vp,Hp=Math.log,Wp=Math.LN2;function Vp(e){return e>>>=0,e===0?32:31-(Hp(e)/Wp|0)|0}var Wr=64,Vr=4194304;function qs(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function kl(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,l=e.suspendedLanes,i=e.pingedLanes,a=n&268435455;if(a!==0){var o=a&~l;o!==0?r=qs(o):(i&=a,i!==0&&(r=qs(i)))}else a=n&~l,a!==0?r=qs(a):i!==0&&(r=qs(i));if(r===0)return 0;if(t!==0&&t!==r&&!(t&l)&&(l=r&-r,i=t&-t,l>=i||l===16&&(i&4194240)!==0))return t;if(r&4&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-st(t),l=1<<n,r|=e[n],t&=~l;return r}function Qp(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Kp(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,l=e.expirationTimes,i=e.pendingLanes;0<i;){var a=31-st(i),o=1<<a,c=l[a];c===-1?(!(o&n)||o&r)&&(l[a]=Qp(o,t)):c<=t&&(e.expiredLanes|=o),i&=~o}}function ma(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function Bu(){var e=Wr;return Wr<<=1,!(Wr&4194240)&&(Wr=64),e}function _i(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Tr(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-st(t),e[t]=n}function qp(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var l=31-st(n),i=1<<l;t[l]=0,r[l]=-1,e[l]=-1,n&=~i}}function wo(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-st(n),l=1<<r;l&t|e[r]&t&&(e[r]|=t),n&=~l}}var W=0;function Hu(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var Wu,ko,Vu,Qu,Ku,pa=!1,Qr=[],Jt=null,Zt=null,en=null,cr=new Map,dr=new Map,Ft=[],Gp="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Ec(e,t){switch(e){case"focusin":case"focusout":Jt=null;break;case"dragenter":case"dragleave":Zt=null;break;case"mouseover":case"mouseout":en=null;break;case"pointerover":case"pointerout":cr.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":dr.delete(t.pointerId)}}function Us(e,t,n,r,l,i){return e===null||e.nativeEvent!==i?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:i,targetContainers:[l]},t!==null&&(t=Or(t),t!==null&&ko(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,l!==null&&t.indexOf(l)===-1&&t.push(l),e)}function Xp(e,t,n,r,l){switch(t){case"focusin":return Jt=Us(Jt,e,t,n,r,l),!0;case"dragenter":return Zt=Us(Zt,e,t,n,r,l),!0;case"mouseover":return en=Us(en,e,t,n,r,l),!0;case"pointerover":var i=l.pointerId;return cr.set(i,Us(cr.get(i)||null,e,t,n,r,l)),!0;case"gotpointercapture":return i=l.pointerId,dr.set(i,Us(dr.get(i)||null,e,t,n,r,l)),!0}return!1}function qu(e){var t=jn(e.target);if(t!==null){var n=Wn(t);if(n!==null){if(t=n.tag,t===13){if(t=Du(n),t!==null){e.blockedOn=t,Ku(e.priority,function(){Vu(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function ol(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=fa(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);ca=r,n.target.dispatchEvent(r),ca=null}else return t=Or(n),t!==null&&ko(t),e.blockedOn=n,!1;t.shift()}return!0}function Lc(e,t,n){ol(e)&&n.delete(t)}function Yp(){pa=!1,Jt!==null&&ol(Jt)&&(Jt=null),Zt!==null&&ol(Zt)&&(Zt=null),en!==null&&ol(en)&&(en=null),cr.forEach(Lc),dr.forEach(Lc)}function $s(e,t){e.blockedOn===t&&(e.blockedOn=null,pa||(pa=!0,ze.unstable_scheduleCallback(ze.unstable_NormalPriority,Yp)))}function ur(e){function t(l){return $s(l,e)}if(0<Qr.length){$s(Qr[0],e);for(var n=1;n<Qr.length;n++){var r=Qr[n];r.blockedOn===e&&(r.blockedOn=null)}}for(Jt!==null&&$s(Jt,e),Zt!==null&&$s(Zt,e),en!==null&&$s(en,e),cr.forEach(t),dr.forEach(t),n=0;n<Ft.length;n++)r=Ft[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<Ft.length&&(n=Ft[0],n.blockedOn===null);)qu(n),n.blockedOn===null&&Ft.shift()}var os=Mt.ReactCurrentBatchConfig,Sl=!0;function Jp(e,t,n,r){var l=W,i=os.transition;os.transition=null;try{W=1,So(e,t,n,r)}finally{W=l,os.transition=i}}function Zp(e,t,n,r){var l=W,i=os.transition;os.transition=null;try{W=4,So(e,t,n,r)}finally{W=l,os.transition=i}}function So(e,t,n,r){if(Sl){var l=fa(e,t,n,r);if(l===null)Ii(e,t,r,Cl,n),Ec(e,r);else if(Xp(l,e,t,n,r))r.stopPropagation();else if(Ec(e,r),t&4&&-1<Gp.indexOf(e)){for(;l!==null;){var i=Or(l);if(i!==null&&Wu(i),i=fa(e,t,n,r),i===null&&Ii(e,t,r,Cl,n),i===l)break;l=i}l!==null&&r.stopPropagation()}else Ii(e,t,r,null,n)}}var Cl=null;function fa(e,t,n,r){if(Cl=null,e=No(r),e=jn(e),e!==null)if(t=Wn(e),t===null)e=null;else if(n=t.tag,n===13){if(e=Du(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Cl=e,null}function Gu(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Up()){case bo:return 1;case Uu:return 4;case wl:case $p:return 16;case $u:return 536870912;default:return 16}default:return 16}}var Gt=null,Co=null,cl=null;function Xu(){if(cl)return cl;var e,t=Co,n=t.length,r,l="value"in Gt?Gt.value:Gt.textContent,i=l.length;for(e=0;e<n&&t[e]===l[e];e++);var a=n-e;for(r=1;r<=a&&t[n-r]===l[i-r];r++);return cl=l.slice(e,1<r?1-r:void 0)}function dl(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Kr(){return!0}function Rc(){return!1}function $e(e){function t(n,r,l,i,a){this._reactName=n,this._targetInst=l,this.type=r,this.nativeEvent=i,this.target=a,this.currentTarget=null;for(var o in e)e.hasOwnProperty(o)&&(n=e[o],this[o]=n?n(i):i[o]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?Kr:Rc,this.isPropagationStopped=Rc,this}return Y(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Kr)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Kr)},persist:function(){},isPersistent:Kr}),t}var Ts={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},_o=$e(Ts),Mr=Y({},Ts,{view:0,detail:0}),ef=$e(Mr),Pi,Ei,Bs,Jl=Y({},Mr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Po,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Bs&&(Bs&&e.type==="mousemove"?(Pi=e.screenX-Bs.screenX,Ei=e.screenY-Bs.screenY):Ei=Pi=0,Bs=e),Pi)},movementY:function(e){return"movementY"in e?e.movementY:Ei}}),Tc=$e(Jl),tf=Y({},Jl,{dataTransfer:0}),nf=$e(tf),sf=Y({},Mr,{relatedTarget:0}),Li=$e(sf),rf=Y({},Ts,{animationName:0,elapsedTime:0,pseudoElement:0}),lf=$e(rf),af=Y({},Ts,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),of=$e(af),cf=Y({},Ts,{data:0}),Mc=$e(cf),df={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},uf={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},hf={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function mf(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=hf[e])?!!t[e]:!1}function Po(){return mf}var pf=Y({},Mr,{key:function(e){if(e.key){var t=df[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=dl(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?uf[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Po,charCode:function(e){return e.type==="keypress"?dl(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?dl(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),ff=$e(pf),xf=Y({},Jl,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Oc=$e(xf),yf=Y({},Mr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Po}),gf=$e(yf),vf=Y({},Ts,{propertyName:0,elapsedTime:0,pseudoElement:0}),jf=$e(vf),Nf=Y({},Jl,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),bf=$e(Nf),wf=[9,13,27,32],Eo=Et&&"CompositionEvent"in window,Zs=null;Et&&"documentMode"in document&&(Zs=document.documentMode);var kf=Et&&"TextEvent"in window&&!Zs,Yu=Et&&(!Eo||Zs&&8<Zs&&11>=Zs),Ac=" ",Dc=!1;function Ju(e,t){switch(e){case"keyup":return wf.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Zu(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Gn=!1;function Sf(e,t){switch(e){case"compositionend":return Zu(t);case"keypress":return t.which!==32?null:(Dc=!0,Ac);case"textInput":return e=t.data,e===Ac&&Dc?null:e;default:return null}}function Cf(e,t){if(Gn)return e==="compositionend"||!Eo&&Ju(e,t)?(e=Xu(),cl=Co=Gt=null,Gn=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Yu&&t.locale!=="ko"?null:t.data;default:return null}}var _f={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Ic(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!_f[e.type]:t==="textarea"}function eh(e,t,n,r){Ru(r),t=_l(t,"onChange"),0<t.length&&(n=new _o("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var er=null,hr=null;function Pf(e){uh(e,0)}function Zl(e){var t=Jn(e);if(ku(t))return e}function Ef(e,t){if(e==="change")return t}var th=!1;if(Et){var Ri;if(Et){var Ti="oninput"in document;if(!Ti){var Fc=document.createElement("div");Fc.setAttribute("oninput","return;"),Ti=typeof Fc.oninput=="function"}Ri=Ti}else Ri=!1;th=Ri&&(!document.documentMode||9<document.documentMode)}function zc(){er&&(er.detachEvent("onpropertychange",nh),hr=er=null)}function nh(e){if(e.propertyName==="value"&&Zl(hr)){var t=[];eh(t,hr,e,No(e)),Au(Pf,t)}}function Lf(e,t,n){e==="focusin"?(zc(),er=t,hr=n,er.attachEvent("onpropertychange",nh)):e==="focusout"&&zc()}function Rf(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Zl(hr)}function Tf(e,t){if(e==="click")return Zl(t)}function Mf(e,t){if(e==="input"||e==="change")return Zl(t)}function Of(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var lt=typeof Object.is=="function"?Object.is:Of;function mr(e,t){if(lt(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var l=n[r];if(!Yi.call(t,l)||!lt(e[l],t[l]))return!1}return!0}function Uc(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function $c(e,t){var n=Uc(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Uc(n)}}function sh(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?sh(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function rh(){for(var e=window,t=jl();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=jl(e.document)}return t}function Lo(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function Af(e){var t=rh(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&sh(n.ownerDocument.documentElement,n)){if(r!==null&&Lo(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var l=n.textContent.length,i=Math.min(r.start,l);r=r.end===void 0?i:Math.min(r.end,l),!e.extend&&i>r&&(l=r,r=i,i=l),l=$c(n,i);var a=$c(n,r);l&&a&&(e.rangeCount!==1||e.anchorNode!==l.node||e.anchorOffset!==l.offset||e.focusNode!==a.node||e.focusOffset!==a.offset)&&(t=t.createRange(),t.setStart(l.node,l.offset),e.removeAllRanges(),i>r?(e.addRange(t),e.extend(a.node,a.offset)):(t.setEnd(a.node,a.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var Df=Et&&"documentMode"in document&&11>=document.documentMode,Xn=null,xa=null,tr=null,ya=!1;function Bc(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;ya||Xn==null||Xn!==jl(r)||(r=Xn,"selectionStart"in r&&Lo(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),tr&&mr(tr,r)||(tr=r,r=_l(xa,"onSelect"),0<r.length&&(t=new _o("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=Xn)))}function qr(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Yn={animationend:qr("Animation","AnimationEnd"),animationiteration:qr("Animation","AnimationIteration"),animationstart:qr("Animation","AnimationStart"),transitionend:qr("Transition","TransitionEnd")},Mi={},lh={};Et&&(lh=document.createElement("div").style,"AnimationEvent"in window||(delete Yn.animationend.animation,delete Yn.animationiteration.animation,delete Yn.animationstart.animation),"TransitionEvent"in window||delete Yn.transitionend.transition);function ei(e){if(Mi[e])return Mi[e];if(!Yn[e])return e;var t=Yn[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in lh)return Mi[e]=t[n];return e}var ih=ei("animationend"),ah=ei("animationiteration"),oh=ei("animationstart"),ch=ei("transitionend"),dh=new Map,Hc="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function un(e,t){dh.set(e,t),Hn(t,[e])}for(var Oi=0;Oi<Hc.length;Oi++){var Ai=Hc[Oi],If=Ai.toLowerCase(),Ff=Ai[0].toUpperCase()+Ai.slice(1);un(If,"on"+Ff)}un(ih,"onAnimationEnd");un(ah,"onAnimationIteration");un(oh,"onAnimationStart");un("dblclick","onDoubleClick");un("focusin","onFocus");un("focusout","onBlur");un(ch,"onTransitionEnd");ws("onMouseEnter",["mouseout","mouseover"]);ws("onMouseLeave",["mouseout","mouseover"]);ws("onPointerEnter",["pointerout","pointerover"]);ws("onPointerLeave",["pointerout","pointerover"]);Hn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Hn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Hn("onBeforeInput",["compositionend","keypress","textInput","paste"]);Hn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Hn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Hn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Gs="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),zf=new Set("cancel close invalid load scroll toggle".split(" ").concat(Gs));function Wc(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,Dp(r,t,void 0,e),e.currentTarget=null}function uh(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],l=r.event;r=r.listeners;e:{var i=void 0;if(t)for(var a=r.length-1;0<=a;a--){var o=r[a],c=o.instance,d=o.currentTarget;if(o=o.listener,c!==i&&l.isPropagationStopped())break e;Wc(l,o,d),i=c}else for(a=0;a<r.length;a++){if(o=r[a],c=o.instance,d=o.currentTarget,o=o.listener,c!==i&&l.isPropagationStopped())break e;Wc(l,o,d),i=c}}}if(bl)throw e=ha,bl=!1,ha=null,e}function Q(e,t){var n=t[ba];n===void 0&&(n=t[ba]=new Set);var r=e+"__bubble";n.has(r)||(hh(t,e,2,!1),n.add(r))}function Di(e,t,n){var r=0;t&&(r|=4),hh(n,e,r,t)}var Gr="_reactListening"+Math.random().toString(36).slice(2);function pr(e){if(!e[Gr]){e[Gr]=!0,vu.forEach(function(n){n!=="selectionchange"&&(zf.has(n)||Di(n,!1,e),Di(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Gr]||(t[Gr]=!0,Di("selectionchange",!1,t))}}function hh(e,t,n,r){switch(Gu(t)){case 1:var l=Jp;break;case 4:l=Zp;break;default:l=So}n=l.bind(null,t,n,e),l=void 0,!ua||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(l=!0),r?l!==void 0?e.addEventListener(t,n,{capture:!0,passive:l}):e.addEventListener(t,n,!0):l!==void 0?e.addEventListener(t,n,{passive:l}):e.addEventListener(t,n,!1)}function Ii(e,t,n,r,l){var i=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var a=r.tag;if(a===3||a===4){var o=r.stateNode.containerInfo;if(o===l||o.nodeType===8&&o.parentNode===l)break;if(a===4)for(a=r.return;a!==null;){var c=a.tag;if((c===3||c===4)&&(c=a.stateNode.containerInfo,c===l||c.nodeType===8&&c.parentNode===l))return;a=a.return}for(;o!==null;){if(a=jn(o),a===null)return;if(c=a.tag,c===5||c===6){r=i=a;continue e}o=o.parentNode}}r=r.return}Au(function(){var d=i,u=No(n),h=[];e:{var f=dh.get(e);if(f!==void 0){var x=_o,j=e;switch(e){case"keypress":if(dl(n)===0)break e;case"keydown":case"keyup":x=ff;break;case"focusin":j="focus",x=Li;break;case"focusout":j="blur",x=Li;break;case"beforeblur":case"afterblur":x=Li;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":x=Tc;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":x=nf;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":x=gf;break;case ih:case ah:case oh:x=lf;break;case ch:x=jf;break;case"scroll":x=ef;break;case"wheel":x=bf;break;case"copy":case"cut":case"paste":x=of;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":x=Oc}var N=(t&4)!==0,w=!N&&e==="scroll",m=N?f!==null?f+"Capture":null:f;N=[];for(var p=d,g;p!==null;){g=p;var v=g.stateNode;if(g.tag===5&&v!==null&&(g=v,m!==null&&(v=or(p,m),v!=null&&N.push(fr(p,v,g)))),w)break;p=p.return}0<N.length&&(f=new x(f,j,null,n,u),h.push({event:f,listeners:N}))}}if(!(t&7)){e:{if(f=e==="mouseover"||e==="pointerover",x=e==="mouseout"||e==="pointerout",f&&n!==ca&&(j=n.relatedTarget||n.fromElement)&&(jn(j)||j[Lt]))break e;if((x||f)&&(f=u.window===u?u:(f=u.ownerDocument)?f.defaultView||f.parentWindow:window,x?(j=n.relatedTarget||n.toElement,x=d,j=j?jn(j):null,j!==null&&(w=Wn(j),j!==w||j.tag!==5&&j.tag!==6)&&(j=null)):(x=null,j=d),x!==j)){if(N=Tc,v="onMouseLeave",m="onMouseEnter",p="mouse",(e==="pointerout"||e==="pointerover")&&(N=Oc,v="onPointerLeave",m="onPointerEnter",p="pointer"),w=x==null?f:Jn(x),g=j==null?f:Jn(j),f=new N(v,p+"leave",x,n,u),f.target=w,f.relatedTarget=g,v=null,jn(u)===d&&(N=new N(m,p+"enter",j,n,u),N.target=g,N.relatedTarget=w,v=N),w=v,x&&j)t:{for(N=x,m=j,p=0,g=N;g;g=Qn(g))p++;for(g=0,v=m;v;v=Qn(v))g++;for(;0<p-g;)N=Qn(N),p--;for(;0<g-p;)m=Qn(m),g--;for(;p--;){if(N===m||m!==null&&N===m.alternate)break t;N=Qn(N),m=Qn(m)}N=null}else N=null;x!==null&&Vc(h,f,x,N,!1),j!==null&&w!==null&&Vc(h,w,j,N,!0)}}e:{if(f=d?Jn(d):window,x=f.nodeName&&f.nodeName.toLowerCase(),x==="select"||x==="input"&&f.type==="file")var k=Ef;else if(Ic(f))if(th)k=Mf;else{k=Rf;var C=Lf}else(x=f.nodeName)&&x.toLowerCase()==="input"&&(f.type==="checkbox"||f.type==="radio")&&(k=Tf);if(k&&(k=k(e,d))){eh(h,k,n,u);break e}C&&C(e,f,d),e==="focusout"&&(C=f._wrapperState)&&C.controlled&&f.type==="number"&&ra(f,"number",f.value)}switch(C=d?Jn(d):window,e){case"focusin":(Ic(C)||C.contentEditable==="true")&&(Xn=C,xa=d,tr=null);break;case"focusout":tr=xa=Xn=null;break;case"mousedown":ya=!0;break;case"contextmenu":case"mouseup":case"dragend":ya=!1,Bc(h,n,u);break;case"selectionchange":if(Df)break;case"keydown":case"keyup":Bc(h,n,u)}var _;if(Eo)e:{switch(e){case"compositionstart":var P="onCompositionStart";break e;case"compositionend":P="onCompositionEnd";break e;case"compositionupdate":P="onCompositionUpdate";break e}P=void 0}else Gn?Ju(e,n)&&(P="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(P="onCompositionStart");P&&(Yu&&n.locale!=="ko"&&(Gn||P!=="onCompositionStart"?P==="onCompositionEnd"&&Gn&&(_=Xu()):(Gt=u,Co="value"in Gt?Gt.value:Gt.textContent,Gn=!0)),C=_l(d,P),0<C.length&&(P=new Mc(P,e,null,n,u),h.push({event:P,listeners:C}),_?P.data=_:(_=Zu(n),_!==null&&(P.data=_)))),(_=kf?Sf(e,n):Cf(e,n))&&(d=_l(d,"onBeforeInput"),0<d.length&&(u=new Mc("onBeforeInput","beforeinput",null,n,u),h.push({event:u,listeners:d}),u.data=_))}uh(h,t)})}function fr(e,t,n){return{instance:e,listener:t,currentTarget:n}}function _l(e,t){for(var n=t+"Capture",r=[];e!==null;){var l=e,i=l.stateNode;l.tag===5&&i!==null&&(l=i,i=or(e,n),i!=null&&r.unshift(fr(e,i,l)),i=or(e,t),i!=null&&r.push(fr(e,i,l))),e=e.return}return r}function Qn(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function Vc(e,t,n,r,l){for(var i=t._reactName,a=[];n!==null&&n!==r;){var o=n,c=o.alternate,d=o.stateNode;if(c!==null&&c===r)break;o.tag===5&&d!==null&&(o=d,l?(c=or(n,i),c!=null&&a.unshift(fr(n,c,o))):l||(c=or(n,i),c!=null&&a.push(fr(n,c,o)))),n=n.return}a.length!==0&&e.push({event:t,listeners:a})}var Uf=/\r\n?/g,$f=/\u0000|\uFFFD/g;function Qc(e){return(typeof e=="string"?e:""+e).replace(Uf,`
`).replace($f,"")}function Xr(e,t,n){if(t=Qc(t),Qc(e)!==t&&n)throw Error(S(425))}function Pl(){}var ga=null,va=null;function ja(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Na=typeof setTimeout=="function"?setTimeout:void 0,Bf=typeof clearTimeout=="function"?clearTimeout:void 0,Kc=typeof Promise=="function"?Promise:void 0,Hf=typeof queueMicrotask=="function"?queueMicrotask:typeof Kc<"u"?function(e){return Kc.resolve(null).then(e).catch(Wf)}:Na;function Wf(e){setTimeout(function(){throw e})}function Fi(e,t){var n=t,r=0;do{var l=n.nextSibling;if(e.removeChild(n),l&&l.nodeType===8)if(n=l.data,n==="/$"){if(r===0){e.removeChild(l),ur(t);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=l}while(n);ur(t)}function tn(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function qc(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var Ms=Math.random().toString(36).slice(2),ft="__reactFiber$"+Ms,xr="__reactProps$"+Ms,Lt="__reactContainer$"+Ms,ba="__reactEvents$"+Ms,Vf="__reactListeners$"+Ms,Qf="__reactHandles$"+Ms;function jn(e){var t=e[ft];if(t)return t;for(var n=e.parentNode;n;){if(t=n[Lt]||n[ft]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=qc(e);e!==null;){if(n=e[ft])return n;e=qc(e)}return t}e=n,n=e.parentNode}return null}function Or(e){return e=e[ft]||e[Lt],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Jn(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(S(33))}function ti(e){return e[xr]||null}var wa=[],Zn=-1;function hn(e){return{current:e}}function K(e){0>Zn||(e.current=wa[Zn],wa[Zn]=null,Zn--)}function V(e,t){Zn++,wa[Zn]=e.current,e.current=t}var dn={},ye=hn(dn),Le=hn(!1),Dn=dn;function ks(e,t){var n=e.type.contextTypes;if(!n)return dn;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var l={},i;for(i in n)l[i]=t[i];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=l),l}function Re(e){return e=e.childContextTypes,e!=null}function El(){K(Le),K(ye)}function Gc(e,t,n){if(ye.current!==dn)throw Error(S(168));V(ye,t),V(Le,n)}function mh(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var l in r)if(!(l in t))throw Error(S(108,Ep(e)||"Unknown",l));return Y({},n,r)}function Ll(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||dn,Dn=ye.current,V(ye,e),V(Le,Le.current),!0}function Xc(e,t,n){var r=e.stateNode;if(!r)throw Error(S(169));n?(e=mh(e,t,Dn),r.__reactInternalMemoizedMergedChildContext=e,K(Le),K(ye),V(ye,e)):K(Le),V(Le,n)}var jt=null,ni=!1,zi=!1;function ph(e){jt===null?jt=[e]:jt.push(e)}function Kf(e){ni=!0,ph(e)}function mn(){if(!zi&&jt!==null){zi=!0;var e=0,t=W;try{var n=jt;for(W=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}jt=null,ni=!1}catch(l){throw jt!==null&&(jt=jt.slice(e+1)),zu(bo,mn),l}finally{W=t,zi=!1}}return null}var es=[],ts=0,Rl=null,Tl=0,Ve=[],Qe=0,In=null,St=1,Ct="";function gn(e,t){es[ts++]=Tl,es[ts++]=Rl,Rl=e,Tl=t}function fh(e,t,n){Ve[Qe++]=St,Ve[Qe++]=Ct,Ve[Qe++]=In,In=e;var r=St;e=Ct;var l=32-st(r)-1;r&=~(1<<l),n+=1;var i=32-st(t)+l;if(30<i){var a=l-l%5;i=(r&(1<<a)-1).toString(32),r>>=a,l-=a,St=1<<32-st(t)+l|n<<l|r,Ct=i+e}else St=1<<i|n<<l|r,Ct=e}function Ro(e){e.return!==null&&(gn(e,1),fh(e,1,0))}function To(e){for(;e===Rl;)Rl=es[--ts],es[ts]=null,Tl=es[--ts],es[ts]=null;for(;e===In;)In=Ve[--Qe],Ve[Qe]=null,Ct=Ve[--Qe],Ve[Qe]=null,St=Ve[--Qe],Ve[Qe]=null}var Fe=null,Ie=null,q=!1,nt=null;function xh(e,t){var n=Ke(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function Yc(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,Fe=e,Ie=tn(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,Fe=e,Ie=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=In!==null?{id:St,overflow:Ct}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=Ke(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,Fe=e,Ie=null,!0):!1;default:return!1}}function ka(e){return(e.mode&1)!==0&&(e.flags&128)===0}function Sa(e){if(q){var t=Ie;if(t){var n=t;if(!Yc(e,t)){if(ka(e))throw Error(S(418));t=tn(n.nextSibling);var r=Fe;t&&Yc(e,t)?xh(r,n):(e.flags=e.flags&-4097|2,q=!1,Fe=e)}}else{if(ka(e))throw Error(S(418));e.flags=e.flags&-4097|2,q=!1,Fe=e}}}function Jc(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Fe=e}function Yr(e){if(e!==Fe)return!1;if(!q)return Jc(e),q=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!ja(e.type,e.memoizedProps)),t&&(t=Ie)){if(ka(e))throw yh(),Error(S(418));for(;t;)xh(e,t),t=tn(t.nextSibling)}if(Jc(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(S(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){Ie=tn(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}Ie=null}}else Ie=Fe?tn(e.stateNode.nextSibling):null;return!0}function yh(){for(var e=Ie;e;)e=tn(e.nextSibling)}function Ss(){Ie=Fe=null,q=!1}function Mo(e){nt===null?nt=[e]:nt.push(e)}var qf=Mt.ReactCurrentBatchConfig;function Hs(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(S(309));var r=n.stateNode}if(!r)throw Error(S(147,e));var l=r,i=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===i?t.ref:(t=function(a){var o=l.refs;a===null?delete o[i]:o[i]=a},t._stringRef=i,t)}if(typeof e!="string")throw Error(S(284));if(!n._owner)throw Error(S(290,e))}return e}function Jr(e,t){throw e=Object.prototype.toString.call(t),Error(S(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Zc(e){var t=e._init;return t(e._payload)}function gh(e){function t(m,p){if(e){var g=m.deletions;g===null?(m.deletions=[p],m.flags|=16):g.push(p)}}function n(m,p){if(!e)return null;for(;p!==null;)t(m,p),p=p.sibling;return null}function r(m,p){for(m=new Map;p!==null;)p.key!==null?m.set(p.key,p):m.set(p.index,p),p=p.sibling;return m}function l(m,p){return m=ln(m,p),m.index=0,m.sibling=null,m}function i(m,p,g){return m.index=g,e?(g=m.alternate,g!==null?(g=g.index,g<p?(m.flags|=2,p):g):(m.flags|=2,p)):(m.flags|=1048576,p)}function a(m){return e&&m.alternate===null&&(m.flags|=2),m}function o(m,p,g,v){return p===null||p.tag!==6?(p=Qi(g,m.mode,v),p.return=m,p):(p=l(p,g),p.return=m,p)}function c(m,p,g,v){var k=g.type;return k===qn?u(m,p,g.props.children,v,g.key):p!==null&&(p.elementType===k||typeof k=="object"&&k!==null&&k.$$typeof===Dt&&Zc(k)===p.type)?(v=l(p,g.props),v.ref=Hs(m,p,g),v.return=m,v):(v=yl(g.type,g.key,g.props,null,m.mode,v),v.ref=Hs(m,p,g),v.return=m,v)}function d(m,p,g,v){return p===null||p.tag!==4||p.stateNode.containerInfo!==g.containerInfo||p.stateNode.implementation!==g.implementation?(p=Ki(g,m.mode,v),p.return=m,p):(p=l(p,g.children||[]),p.return=m,p)}function u(m,p,g,v,k){return p===null||p.tag!==7?(p=On(g,m.mode,v,k),p.return=m,p):(p=l(p,g),p.return=m,p)}function h(m,p,g){if(typeof p=="string"&&p!==""||typeof p=="number")return p=Qi(""+p,m.mode,g),p.return=m,p;if(typeof p=="object"&&p!==null){switch(p.$$typeof){case $r:return g=yl(p.type,p.key,p.props,null,m.mode,g),g.ref=Hs(m,null,p),g.return=m,g;case Kn:return p=Ki(p,m.mode,g),p.return=m,p;case Dt:var v=p._init;return h(m,v(p._payload),g)}if(Ks(p)||Fs(p))return p=On(p,m.mode,g,null),p.return=m,p;Jr(m,p)}return null}function f(m,p,g,v){var k=p!==null?p.key:null;if(typeof g=="string"&&g!==""||typeof g=="number")return k!==null?null:o(m,p,""+g,v);if(typeof g=="object"&&g!==null){switch(g.$$typeof){case $r:return g.key===k?c(m,p,g,v):null;case Kn:return g.key===k?d(m,p,g,v):null;case Dt:return k=g._init,f(m,p,k(g._payload),v)}if(Ks(g)||Fs(g))return k!==null?null:u(m,p,g,v,null);Jr(m,g)}return null}function x(m,p,g,v,k){if(typeof v=="string"&&v!==""||typeof v=="number")return m=m.get(g)||null,o(p,m,""+v,k);if(typeof v=="object"&&v!==null){switch(v.$$typeof){case $r:return m=m.get(v.key===null?g:v.key)||null,c(p,m,v,k);case Kn:return m=m.get(v.key===null?g:v.key)||null,d(p,m,v,k);case Dt:var C=v._init;return x(m,p,g,C(v._payload),k)}if(Ks(v)||Fs(v))return m=m.get(g)||null,u(p,m,v,k,null);Jr(p,v)}return null}function j(m,p,g,v){for(var k=null,C=null,_=p,P=p=0,B=null;_!==null&&P<g.length;P++){_.index>P?(B=_,_=null):B=_.sibling;var L=f(m,_,g[P],v);if(L===null){_===null&&(_=B);break}e&&_&&L.alternate===null&&t(m,_),p=i(L,p,P),C===null?k=L:C.sibling=L,C=L,_=B}if(P===g.length)return n(m,_),q&&gn(m,P),k;if(_===null){for(;P<g.length;P++)_=h(m,g[P],v),_!==null&&(p=i(_,p,P),C===null?k=_:C.sibling=_,C=_);return q&&gn(m,P),k}for(_=r(m,_);P<g.length;P++)B=x(_,m,P,g[P],v),B!==null&&(e&&B.alternate!==null&&_.delete(B.key===null?P:B.key),p=i(B,p,P),C===null?k=B:C.sibling=B,C=B);return e&&_.forEach(function(U){return t(m,U)}),q&&gn(m,P),k}function N(m,p,g,v){var k=Fs(g);if(typeof k!="function")throw Error(S(150));if(g=k.call(g),g==null)throw Error(S(151));for(var C=k=null,_=p,P=p=0,B=null,L=g.next();_!==null&&!L.done;P++,L=g.next()){_.index>P?(B=_,_=null):B=_.sibling;var U=f(m,_,L.value,v);if(U===null){_===null&&(_=B);break}e&&_&&U.alternate===null&&t(m,_),p=i(U,p,P),C===null?k=U:C.sibling=U,C=U,_=B}if(L.done)return n(m,_),q&&gn(m,P),k;if(_===null){for(;!L.done;P++,L=g.next())L=h(m,L.value,v),L!==null&&(p=i(L,p,P),C===null?k=L:C.sibling=L,C=L);return q&&gn(m,P),k}for(_=r(m,_);!L.done;P++,L=g.next())L=x(_,m,P,L.value,v),L!==null&&(e&&L.alternate!==null&&_.delete(L.key===null?P:L.key),p=i(L,p,P),C===null?k=L:C.sibling=L,C=L);return e&&_.forEach(function(Be){return t(m,Be)}),q&&gn(m,P),k}function w(m,p,g,v){if(typeof g=="object"&&g!==null&&g.type===qn&&g.key===null&&(g=g.props.children),typeof g=="object"&&g!==null){switch(g.$$typeof){case $r:e:{for(var k=g.key,C=p;C!==null;){if(C.key===k){if(k=g.type,k===qn){if(C.tag===7){n(m,C.sibling),p=l(C,g.props.children),p.return=m,m=p;break e}}else if(C.elementType===k||typeof k=="object"&&k!==null&&k.$$typeof===Dt&&Zc(k)===C.type){n(m,C.sibling),p=l(C,g.props),p.ref=Hs(m,C,g),p.return=m,m=p;break e}n(m,C);break}else t(m,C);C=C.sibling}g.type===qn?(p=On(g.props.children,m.mode,v,g.key),p.return=m,m=p):(v=yl(g.type,g.key,g.props,null,m.mode,v),v.ref=Hs(m,p,g),v.return=m,m=v)}return a(m);case Kn:e:{for(C=g.key;p!==null;){if(p.key===C)if(p.tag===4&&p.stateNode.containerInfo===g.containerInfo&&p.stateNode.implementation===g.implementation){n(m,p.sibling),p=l(p,g.children||[]),p.return=m,m=p;break e}else{n(m,p);break}else t(m,p);p=p.sibling}p=Ki(g,m.mode,v),p.return=m,m=p}return a(m);case Dt:return C=g._init,w(m,p,C(g._payload),v)}if(Ks(g))return j(m,p,g,v);if(Fs(g))return N(m,p,g,v);Jr(m,g)}return typeof g=="string"&&g!==""||typeof g=="number"?(g=""+g,p!==null&&p.tag===6?(n(m,p.sibling),p=l(p,g),p.return=m,m=p):(n(m,p),p=Qi(g,m.mode,v),p.return=m,m=p),a(m)):n(m,p)}return w}var Cs=gh(!0),vh=gh(!1),Ml=hn(null),Ol=null,ns=null,Oo=null;function Ao(){Oo=ns=Ol=null}function Do(e){var t=Ml.current;K(Ml),e._currentValue=t}function Ca(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function cs(e,t){Ol=e,Oo=ns=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(Pe=!0),e.firstContext=null)}function Ge(e){var t=e._currentValue;if(Oo!==e)if(e={context:e,memoizedValue:t,next:null},ns===null){if(Ol===null)throw Error(S(308));ns=e,Ol.dependencies={lanes:0,firstContext:e}}else ns=ns.next=e;return t}var Nn=null;function Io(e){Nn===null?Nn=[e]:Nn.push(e)}function jh(e,t,n,r){var l=t.interleaved;return l===null?(n.next=n,Io(t)):(n.next=l.next,l.next=n),t.interleaved=n,Rt(e,r)}function Rt(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var It=!1;function Fo(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Nh(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function _t(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function nn(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,$&2){var l=r.pending;return l===null?t.next=t:(t.next=l.next,l.next=t),r.pending=t,Rt(e,n)}return l=r.interleaved,l===null?(t.next=t,Io(r)):(t.next=l.next,l.next=t),r.interleaved=t,Rt(e,n)}function ul(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,wo(e,n)}}function ed(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var l=null,i=null;if(n=n.firstBaseUpdate,n!==null){do{var a={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};i===null?l=i=a:i=i.next=a,n=n.next}while(n!==null);i===null?l=i=t:i=i.next=t}else l=i=t;n={baseState:r.baseState,firstBaseUpdate:l,lastBaseUpdate:i,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Al(e,t,n,r){var l=e.updateQueue;It=!1;var i=l.firstBaseUpdate,a=l.lastBaseUpdate,o=l.shared.pending;if(o!==null){l.shared.pending=null;var c=o,d=c.next;c.next=null,a===null?i=d:a.next=d,a=c;var u=e.alternate;u!==null&&(u=u.updateQueue,o=u.lastBaseUpdate,o!==a&&(o===null?u.firstBaseUpdate=d:o.next=d,u.lastBaseUpdate=c))}if(i!==null){var h=l.baseState;a=0,u=d=c=null,o=i;do{var f=o.lane,x=o.eventTime;if((r&f)===f){u!==null&&(u=u.next={eventTime:x,lane:0,tag:o.tag,payload:o.payload,callback:o.callback,next:null});e:{var j=e,N=o;switch(f=t,x=n,N.tag){case 1:if(j=N.payload,typeof j=="function"){h=j.call(x,h,f);break e}h=j;break e;case 3:j.flags=j.flags&-65537|128;case 0:if(j=N.payload,f=typeof j=="function"?j.call(x,h,f):j,f==null)break e;h=Y({},h,f);break e;case 2:It=!0}}o.callback!==null&&o.lane!==0&&(e.flags|=64,f=l.effects,f===null?l.effects=[o]:f.push(o))}else x={eventTime:x,lane:f,tag:o.tag,payload:o.payload,callback:o.callback,next:null},u===null?(d=u=x,c=h):u=u.next=x,a|=f;if(o=o.next,o===null){if(o=l.shared.pending,o===null)break;f=o,o=f.next,f.next=null,l.lastBaseUpdate=f,l.shared.pending=null}}while(!0);if(u===null&&(c=h),l.baseState=c,l.firstBaseUpdate=d,l.lastBaseUpdate=u,t=l.shared.interleaved,t!==null){l=t;do a|=l.lane,l=l.next;while(l!==t)}else i===null&&(l.shared.lanes=0);zn|=a,e.lanes=a,e.memoizedState=h}}function td(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],l=r.callback;if(l!==null){if(r.callback=null,r=n,typeof l!="function")throw Error(S(191,l));l.call(r)}}}var Ar={},yt=hn(Ar),yr=hn(Ar),gr=hn(Ar);function bn(e){if(e===Ar)throw Error(S(174));return e}function zo(e,t){switch(V(gr,t),V(yr,e),V(yt,Ar),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:ia(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=ia(t,e)}K(yt),V(yt,t)}function _s(){K(yt),K(yr),K(gr)}function bh(e){bn(gr.current);var t=bn(yt.current),n=ia(t,e.type);t!==n&&(V(yr,e),V(yt,n))}function Uo(e){yr.current===e&&(K(yt),K(yr))}var G=hn(0);function Dl(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Ui=[];function $o(){for(var e=0;e<Ui.length;e++)Ui[e]._workInProgressVersionPrimary=null;Ui.length=0}var hl=Mt.ReactCurrentDispatcher,$i=Mt.ReactCurrentBatchConfig,Fn=0,X=null,re=null,ce=null,Il=!1,nr=!1,vr=0,Gf=0;function pe(){throw Error(S(321))}function Bo(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!lt(e[n],t[n]))return!1;return!0}function Ho(e,t,n,r,l,i){if(Fn=i,X=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,hl.current=e===null||e.memoizedState===null?Zf:ex,e=n(r,l),nr){i=0;do{if(nr=!1,vr=0,25<=i)throw Error(S(301));i+=1,ce=re=null,t.updateQueue=null,hl.current=tx,e=n(r,l)}while(nr)}if(hl.current=Fl,t=re!==null&&re.next!==null,Fn=0,ce=re=X=null,Il=!1,t)throw Error(S(300));return e}function Wo(){var e=vr!==0;return vr=0,e}function dt(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ce===null?X.memoizedState=ce=e:ce=ce.next=e,ce}function Xe(){if(re===null){var e=X.alternate;e=e!==null?e.memoizedState:null}else e=re.next;var t=ce===null?X.memoizedState:ce.next;if(t!==null)ce=t,re=e;else{if(e===null)throw Error(S(310));re=e,e={memoizedState:re.memoizedState,baseState:re.baseState,baseQueue:re.baseQueue,queue:re.queue,next:null},ce===null?X.memoizedState=ce=e:ce=ce.next=e}return ce}function jr(e,t){return typeof t=="function"?t(e):t}function Bi(e){var t=Xe(),n=t.queue;if(n===null)throw Error(S(311));n.lastRenderedReducer=e;var r=re,l=r.baseQueue,i=n.pending;if(i!==null){if(l!==null){var a=l.next;l.next=i.next,i.next=a}r.baseQueue=l=i,n.pending=null}if(l!==null){i=l.next,r=r.baseState;var o=a=null,c=null,d=i;do{var u=d.lane;if((Fn&u)===u)c!==null&&(c=c.next={lane:0,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null}),r=d.hasEagerState?d.eagerState:e(r,d.action);else{var h={lane:u,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null};c===null?(o=c=h,a=r):c=c.next=h,X.lanes|=u,zn|=u}d=d.next}while(d!==null&&d!==i);c===null?a=r:c.next=o,lt(r,t.memoizedState)||(Pe=!0),t.memoizedState=r,t.baseState=a,t.baseQueue=c,n.lastRenderedState=r}if(e=n.interleaved,e!==null){l=e;do i=l.lane,X.lanes|=i,zn|=i,l=l.next;while(l!==e)}else l===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function Hi(e){var t=Xe(),n=t.queue;if(n===null)throw Error(S(311));n.lastRenderedReducer=e;var r=n.dispatch,l=n.pending,i=t.memoizedState;if(l!==null){n.pending=null;var a=l=l.next;do i=e(i,a.action),a=a.next;while(a!==l);lt(i,t.memoizedState)||(Pe=!0),t.memoizedState=i,t.baseQueue===null&&(t.baseState=i),n.lastRenderedState=i}return[i,r]}function wh(){}function kh(e,t){var n=X,r=Xe(),l=t(),i=!lt(r.memoizedState,l);if(i&&(r.memoizedState=l,Pe=!0),r=r.queue,Vo(_h.bind(null,n,r,e),[e]),r.getSnapshot!==t||i||ce!==null&&ce.memoizedState.tag&1){if(n.flags|=2048,Nr(9,Ch.bind(null,n,r,l,t),void 0,null),de===null)throw Error(S(349));Fn&30||Sh(n,t,l)}return l}function Sh(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=X.updateQueue,t===null?(t={lastEffect:null,stores:null},X.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function Ch(e,t,n,r){t.value=n,t.getSnapshot=r,Ph(t)&&Eh(e)}function _h(e,t,n){return n(function(){Ph(t)&&Eh(e)})}function Ph(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!lt(e,n)}catch{return!0}}function Eh(e){var t=Rt(e,1);t!==null&&rt(t,e,1,-1)}function nd(e){var t=dt();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:jr,lastRenderedState:e},t.queue=e,e=e.dispatch=Jf.bind(null,X,e),[t.memoizedState,e]}function Nr(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=X.updateQueue,t===null?(t={lastEffect:null,stores:null},X.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function Lh(){return Xe().memoizedState}function ml(e,t,n,r){var l=dt();X.flags|=e,l.memoizedState=Nr(1|t,n,void 0,r===void 0?null:r)}function si(e,t,n,r){var l=Xe();r=r===void 0?null:r;var i=void 0;if(re!==null){var a=re.memoizedState;if(i=a.destroy,r!==null&&Bo(r,a.deps)){l.memoizedState=Nr(t,n,i,r);return}}X.flags|=e,l.memoizedState=Nr(1|t,n,i,r)}function sd(e,t){return ml(8390656,8,e,t)}function Vo(e,t){return si(2048,8,e,t)}function Rh(e,t){return si(4,2,e,t)}function Th(e,t){return si(4,4,e,t)}function Mh(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function Oh(e,t,n){return n=n!=null?n.concat([e]):null,si(4,4,Mh.bind(null,t,e),n)}function Qo(){}function Ah(e,t){var n=Xe();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&Bo(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Dh(e,t){var n=Xe();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&Bo(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Ih(e,t,n){return Fn&21?(lt(n,t)||(n=Bu(),X.lanes|=n,zn|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,Pe=!0),e.memoizedState=n)}function Xf(e,t){var n=W;W=n!==0&&4>n?n:4,e(!0);var r=$i.transition;$i.transition={};try{e(!1),t()}finally{W=n,$i.transition=r}}function Fh(){return Xe().memoizedState}function Yf(e,t,n){var r=rn(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},zh(e))Uh(t,n);else if(n=jh(e,t,n,r),n!==null){var l=be();rt(n,e,r,l),$h(n,t,r)}}function Jf(e,t,n){var r=rn(e),l={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(zh(e))Uh(t,l);else{var i=e.alternate;if(e.lanes===0&&(i===null||i.lanes===0)&&(i=t.lastRenderedReducer,i!==null))try{var a=t.lastRenderedState,o=i(a,n);if(l.hasEagerState=!0,l.eagerState=o,lt(o,a)){var c=t.interleaved;c===null?(l.next=l,Io(t)):(l.next=c.next,c.next=l),t.interleaved=l;return}}catch{}finally{}n=jh(e,t,l,r),n!==null&&(l=be(),rt(n,e,r,l),$h(n,t,r))}}function zh(e){var t=e.alternate;return e===X||t!==null&&t===X}function Uh(e,t){nr=Il=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function $h(e,t,n){if(n&4194240){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,wo(e,n)}}var Fl={readContext:Ge,useCallback:pe,useContext:pe,useEffect:pe,useImperativeHandle:pe,useInsertionEffect:pe,useLayoutEffect:pe,useMemo:pe,useReducer:pe,useRef:pe,useState:pe,useDebugValue:pe,useDeferredValue:pe,useTransition:pe,useMutableSource:pe,useSyncExternalStore:pe,useId:pe,unstable_isNewReconciler:!1},Zf={readContext:Ge,useCallback:function(e,t){return dt().memoizedState=[e,t===void 0?null:t],e},useContext:Ge,useEffect:sd,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,ml(4194308,4,Mh.bind(null,t,e),n)},useLayoutEffect:function(e,t){return ml(4194308,4,e,t)},useInsertionEffect:function(e,t){return ml(4,2,e,t)},useMemo:function(e,t){var n=dt();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=dt();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=Yf.bind(null,X,e),[r.memoizedState,e]},useRef:function(e){var t=dt();return e={current:e},t.memoizedState=e},useState:nd,useDebugValue:Qo,useDeferredValue:function(e){return dt().memoizedState=e},useTransition:function(){var e=nd(!1),t=e[0];return e=Xf.bind(null,e[1]),dt().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=X,l=dt();if(q){if(n===void 0)throw Error(S(407));n=n()}else{if(n=t(),de===null)throw Error(S(349));Fn&30||Sh(r,t,n)}l.memoizedState=n;var i={value:n,getSnapshot:t};return l.queue=i,sd(_h.bind(null,r,i,e),[e]),r.flags|=2048,Nr(9,Ch.bind(null,r,i,n,t),void 0,null),n},useId:function(){var e=dt(),t=de.identifierPrefix;if(q){var n=Ct,r=St;n=(r&~(1<<32-st(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=vr++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=Gf++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},ex={readContext:Ge,useCallback:Ah,useContext:Ge,useEffect:Vo,useImperativeHandle:Oh,useInsertionEffect:Rh,useLayoutEffect:Th,useMemo:Dh,useReducer:Bi,useRef:Lh,useState:function(){return Bi(jr)},useDebugValue:Qo,useDeferredValue:function(e){var t=Xe();return Ih(t,re.memoizedState,e)},useTransition:function(){var e=Bi(jr)[0],t=Xe().memoizedState;return[e,t]},useMutableSource:wh,useSyncExternalStore:kh,useId:Fh,unstable_isNewReconciler:!1},tx={readContext:Ge,useCallback:Ah,useContext:Ge,useEffect:Vo,useImperativeHandle:Oh,useInsertionEffect:Rh,useLayoutEffect:Th,useMemo:Dh,useReducer:Hi,useRef:Lh,useState:function(){return Hi(jr)},useDebugValue:Qo,useDeferredValue:function(e){var t=Xe();return re===null?t.memoizedState=e:Ih(t,re.memoizedState,e)},useTransition:function(){var e=Hi(jr)[0],t=Xe().memoizedState;return[e,t]},useMutableSource:wh,useSyncExternalStore:kh,useId:Fh,unstable_isNewReconciler:!1};function Je(e,t){if(e&&e.defaultProps){t=Y({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function _a(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:Y({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var ri={isMounted:function(e){return(e=e._reactInternals)?Wn(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=be(),l=rn(e),i=_t(r,l);i.payload=t,n!=null&&(i.callback=n),t=nn(e,i,l),t!==null&&(rt(t,e,l,r),ul(t,e,l))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=be(),l=rn(e),i=_t(r,l);i.tag=1,i.payload=t,n!=null&&(i.callback=n),t=nn(e,i,l),t!==null&&(rt(t,e,l,r),ul(t,e,l))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=be(),r=rn(e),l=_t(n,r);l.tag=2,t!=null&&(l.callback=t),t=nn(e,l,r),t!==null&&(rt(t,e,r,n),ul(t,e,r))}};function rd(e,t,n,r,l,i,a){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,i,a):t.prototype&&t.prototype.isPureReactComponent?!mr(n,r)||!mr(l,i):!0}function Bh(e,t,n){var r=!1,l=dn,i=t.contextType;return typeof i=="object"&&i!==null?i=Ge(i):(l=Re(t)?Dn:ye.current,r=t.contextTypes,i=(r=r!=null)?ks(e,l):dn),t=new t(n,i),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=ri,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=l,e.__reactInternalMemoizedMaskedChildContext=i),t}function ld(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&ri.enqueueReplaceState(t,t.state,null)}function Pa(e,t,n,r){var l=e.stateNode;l.props=n,l.state=e.memoizedState,l.refs={},Fo(e);var i=t.contextType;typeof i=="object"&&i!==null?l.context=Ge(i):(i=Re(t)?Dn:ye.current,l.context=ks(e,i)),l.state=e.memoizedState,i=t.getDerivedStateFromProps,typeof i=="function"&&(_a(e,t,i,n),l.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof l.getSnapshotBeforeUpdate=="function"||typeof l.UNSAFE_componentWillMount!="function"&&typeof l.componentWillMount!="function"||(t=l.state,typeof l.componentWillMount=="function"&&l.componentWillMount(),typeof l.UNSAFE_componentWillMount=="function"&&l.UNSAFE_componentWillMount(),t!==l.state&&ri.enqueueReplaceState(l,l.state,null),Al(e,n,l,r),l.state=e.memoizedState),typeof l.componentDidMount=="function"&&(e.flags|=4194308)}function Ps(e,t){try{var n="",r=t;do n+=Pp(r),r=r.return;while(r);var l=n}catch(i){l=`
Error generating stack: `+i.message+`
`+i.stack}return{value:e,source:t,stack:l,digest:null}}function Wi(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function Ea(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var nx=typeof WeakMap=="function"?WeakMap:Map;function Hh(e,t,n){n=_t(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Ul||(Ul=!0,za=r),Ea(e,t)},n}function Wh(e,t,n){n=_t(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var l=t.value;n.payload=function(){return r(l)},n.callback=function(){Ea(e,t)}}var i=e.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(n.callback=function(){Ea(e,t),typeof r!="function"&&(sn===null?sn=new Set([this]):sn.add(this));var a=t.stack;this.componentDidCatch(t.value,{componentStack:a!==null?a:""})}),n}function id(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new nx;var l=new Set;r.set(t,l)}else l=r.get(t),l===void 0&&(l=new Set,r.set(t,l));l.has(n)||(l.add(n),e=xx.bind(null,e,t,n),t.then(e,e))}function ad(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function od(e,t,n,r,l){return e.mode&1?(e.flags|=65536,e.lanes=l,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=_t(-1,1),t.tag=2,nn(n,t,1))),n.lanes|=1),e)}var sx=Mt.ReactCurrentOwner,Pe=!1;function je(e,t,n,r){t.child=e===null?vh(t,null,n,r):Cs(t,e.child,n,r)}function cd(e,t,n,r,l){n=n.render;var i=t.ref;return cs(t,l),r=Ho(e,t,n,r,i,l),n=Wo(),e!==null&&!Pe?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~l,Tt(e,t,l)):(q&&n&&Ro(t),t.flags|=1,je(e,t,r,l),t.child)}function dd(e,t,n,r,l){if(e===null){var i=n.type;return typeof i=="function"&&!ec(i)&&i.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=i,Vh(e,t,i,r,l)):(e=yl(n.type,null,r,t,t.mode,l),e.ref=t.ref,e.return=t,t.child=e)}if(i=e.child,!(e.lanes&l)){var a=i.memoizedProps;if(n=n.compare,n=n!==null?n:mr,n(a,r)&&e.ref===t.ref)return Tt(e,t,l)}return t.flags|=1,e=ln(i,r),e.ref=t.ref,e.return=t,t.child=e}function Vh(e,t,n,r,l){if(e!==null){var i=e.memoizedProps;if(mr(i,r)&&e.ref===t.ref)if(Pe=!1,t.pendingProps=r=i,(e.lanes&l)!==0)e.flags&131072&&(Pe=!0);else return t.lanes=e.lanes,Tt(e,t,l)}return La(e,t,n,r,l)}function Qh(e,t,n){var r=t.pendingProps,l=r.children,i=e!==null?e.memoizedState:null;if(r.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},V(rs,De),De|=n;else{if(!(n&1073741824))return e=i!==null?i.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,V(rs,De),De|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=i!==null?i.baseLanes:n,V(rs,De),De|=r}else i!==null?(r=i.baseLanes|n,t.memoizedState=null):r=n,V(rs,De),De|=r;return je(e,t,l,n),t.child}function Kh(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function La(e,t,n,r,l){var i=Re(n)?Dn:ye.current;return i=ks(t,i),cs(t,l),n=Ho(e,t,n,r,i,l),r=Wo(),e!==null&&!Pe?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~l,Tt(e,t,l)):(q&&r&&Ro(t),t.flags|=1,je(e,t,n,l),t.child)}function ud(e,t,n,r,l){if(Re(n)){var i=!0;Ll(t)}else i=!1;if(cs(t,l),t.stateNode===null)pl(e,t),Bh(t,n,r),Pa(t,n,r,l),r=!0;else if(e===null){var a=t.stateNode,o=t.memoizedProps;a.props=o;var c=a.context,d=n.contextType;typeof d=="object"&&d!==null?d=Ge(d):(d=Re(n)?Dn:ye.current,d=ks(t,d));var u=n.getDerivedStateFromProps,h=typeof u=="function"||typeof a.getSnapshotBeforeUpdate=="function";h||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(o!==r||c!==d)&&ld(t,a,r,d),It=!1;var f=t.memoizedState;a.state=f,Al(t,r,a,l),c=t.memoizedState,o!==r||f!==c||Le.current||It?(typeof u=="function"&&(_a(t,n,u,r),c=t.memoizedState),(o=It||rd(t,n,o,r,f,c,d))?(h||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount()),typeof a.componentDidMount=="function"&&(t.flags|=4194308)):(typeof a.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=c),a.props=r,a.state=c,a.context=d,r=o):(typeof a.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{a=t.stateNode,Nh(e,t),o=t.memoizedProps,d=t.type===t.elementType?o:Je(t.type,o),a.props=d,h=t.pendingProps,f=a.context,c=n.contextType,typeof c=="object"&&c!==null?c=Ge(c):(c=Re(n)?Dn:ye.current,c=ks(t,c));var x=n.getDerivedStateFromProps;(u=typeof x=="function"||typeof a.getSnapshotBeforeUpdate=="function")||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(o!==h||f!==c)&&ld(t,a,r,c),It=!1,f=t.memoizedState,a.state=f,Al(t,r,a,l);var j=t.memoizedState;o!==h||f!==j||Le.current||It?(typeof x=="function"&&(_a(t,n,x,r),j=t.memoizedState),(d=It||rd(t,n,d,r,f,j,c)||!1)?(u||typeof a.UNSAFE_componentWillUpdate!="function"&&typeof a.componentWillUpdate!="function"||(typeof a.componentWillUpdate=="function"&&a.componentWillUpdate(r,j,c),typeof a.UNSAFE_componentWillUpdate=="function"&&a.UNSAFE_componentWillUpdate(r,j,c)),typeof a.componentDidUpdate=="function"&&(t.flags|=4),typeof a.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof a.componentDidUpdate!="function"||o===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||o===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=j),a.props=r,a.state=j,a.context=c,r=d):(typeof a.componentDidUpdate!="function"||o===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||o===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),r=!1)}return Ra(e,t,n,r,i,l)}function Ra(e,t,n,r,l,i){Kh(e,t);var a=(t.flags&128)!==0;if(!r&&!a)return l&&Xc(t,n,!1),Tt(e,t,i);r=t.stateNode,sx.current=t;var o=a&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&a?(t.child=Cs(t,e.child,null,i),t.child=Cs(t,null,o,i)):je(e,t,o,i),t.memoizedState=r.state,l&&Xc(t,n,!0),t.child}function qh(e){var t=e.stateNode;t.pendingContext?Gc(e,t.pendingContext,t.pendingContext!==t.context):t.context&&Gc(e,t.context,!1),zo(e,t.containerInfo)}function hd(e,t,n,r,l){return Ss(),Mo(l),t.flags|=256,je(e,t,n,r),t.child}var Ta={dehydrated:null,treeContext:null,retryLane:0};function Ma(e){return{baseLanes:e,cachePool:null,transitions:null}}function Gh(e,t,n){var r=t.pendingProps,l=G.current,i=!1,a=(t.flags&128)!==0,o;if((o=a)||(o=e!==null&&e.memoizedState===null?!1:(l&2)!==0),o?(i=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(l|=1),V(G,l&1),e===null)return Sa(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(a=r.children,e=r.fallback,i?(r=t.mode,i=t.child,a={mode:"hidden",children:a},!(r&1)&&i!==null?(i.childLanes=0,i.pendingProps=a):i=ai(a,r,0,null),e=On(e,r,n,null),i.return=t,e.return=t,i.sibling=e,t.child=i,t.child.memoizedState=Ma(n),t.memoizedState=Ta,e):Ko(t,a));if(l=e.memoizedState,l!==null&&(o=l.dehydrated,o!==null))return rx(e,t,a,r,o,l,n);if(i){i=r.fallback,a=t.mode,l=e.child,o=l.sibling;var c={mode:"hidden",children:r.children};return!(a&1)&&t.child!==l?(r=t.child,r.childLanes=0,r.pendingProps=c,t.deletions=null):(r=ln(l,c),r.subtreeFlags=l.subtreeFlags&14680064),o!==null?i=ln(o,i):(i=On(i,a,n,null),i.flags|=2),i.return=t,r.return=t,r.sibling=i,t.child=r,r=i,i=t.child,a=e.child.memoizedState,a=a===null?Ma(n):{baseLanes:a.baseLanes|n,cachePool:null,transitions:a.transitions},i.memoizedState=a,i.childLanes=e.childLanes&~n,t.memoizedState=Ta,r}return i=e.child,e=i.sibling,r=ln(i,{mode:"visible",children:r.children}),!(t.mode&1)&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function Ko(e,t){return t=ai({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function Zr(e,t,n,r){return r!==null&&Mo(r),Cs(t,e.child,null,n),e=Ko(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function rx(e,t,n,r,l,i,a){if(n)return t.flags&256?(t.flags&=-257,r=Wi(Error(S(422))),Zr(e,t,a,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(i=r.fallback,l=t.mode,r=ai({mode:"visible",children:r.children},l,0,null),i=On(i,l,a,null),i.flags|=2,r.return=t,i.return=t,r.sibling=i,t.child=r,t.mode&1&&Cs(t,e.child,null,a),t.child.memoizedState=Ma(a),t.memoizedState=Ta,i);if(!(t.mode&1))return Zr(e,t,a,null);if(l.data==="$!"){if(r=l.nextSibling&&l.nextSibling.dataset,r)var o=r.dgst;return r=o,i=Error(S(419)),r=Wi(i,r,void 0),Zr(e,t,a,r)}if(o=(a&e.childLanes)!==0,Pe||o){if(r=de,r!==null){switch(a&-a){case 4:l=2;break;case 16:l=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:l=32;break;case 536870912:l=268435456;break;default:l=0}l=l&(r.suspendedLanes|a)?0:l,l!==0&&l!==i.retryLane&&(i.retryLane=l,Rt(e,l),rt(r,e,l,-1))}return Zo(),r=Wi(Error(S(421))),Zr(e,t,a,r)}return l.data==="$?"?(t.flags|=128,t.child=e.child,t=yx.bind(null,e),l._reactRetry=t,null):(e=i.treeContext,Ie=tn(l.nextSibling),Fe=t,q=!0,nt=null,e!==null&&(Ve[Qe++]=St,Ve[Qe++]=Ct,Ve[Qe++]=In,St=e.id,Ct=e.overflow,In=t),t=Ko(t,r.children),t.flags|=4096,t)}function md(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),Ca(e.return,t,n)}function Vi(e,t,n,r,l){var i=e.memoizedState;i===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:l}:(i.isBackwards=t,i.rendering=null,i.renderingStartTime=0,i.last=r,i.tail=n,i.tailMode=l)}function Xh(e,t,n){var r=t.pendingProps,l=r.revealOrder,i=r.tail;if(je(e,t,r.children,n),r=G.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&md(e,n,t);else if(e.tag===19)md(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(V(G,r),!(t.mode&1))t.memoizedState=null;else switch(l){case"forwards":for(n=t.child,l=null;n!==null;)e=n.alternate,e!==null&&Dl(e)===null&&(l=n),n=n.sibling;n=l,n===null?(l=t.child,t.child=null):(l=n.sibling,n.sibling=null),Vi(t,!1,l,n,i);break;case"backwards":for(n=null,l=t.child,t.child=null;l!==null;){if(e=l.alternate,e!==null&&Dl(e)===null){t.child=l;break}e=l.sibling,l.sibling=n,n=l,l=e}Vi(t,!0,n,null,i);break;case"together":Vi(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function pl(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Tt(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),zn|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(S(153));if(t.child!==null){for(e=t.child,n=ln(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=ln(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function lx(e,t,n){switch(t.tag){case 3:qh(t),Ss();break;case 5:bh(t);break;case 1:Re(t.type)&&Ll(t);break;case 4:zo(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,l=t.memoizedProps.value;V(Ml,r._currentValue),r._currentValue=l;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(V(G,G.current&1),t.flags|=128,null):n&t.child.childLanes?Gh(e,t,n):(V(G,G.current&1),e=Tt(e,t,n),e!==null?e.sibling:null);V(G,G.current&1);break;case 19:if(r=(n&t.childLanes)!==0,e.flags&128){if(r)return Xh(e,t,n);t.flags|=128}if(l=t.memoizedState,l!==null&&(l.rendering=null,l.tail=null,l.lastEffect=null),V(G,G.current),r)break;return null;case 22:case 23:return t.lanes=0,Qh(e,t,n)}return Tt(e,t,n)}var Yh,Oa,Jh,Zh;Yh=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Oa=function(){};Jh=function(e,t,n,r){var l=e.memoizedProps;if(l!==r){e=t.stateNode,bn(yt.current);var i=null;switch(n){case"input":l=na(e,l),r=na(e,r),i=[];break;case"select":l=Y({},l,{value:void 0}),r=Y({},r,{value:void 0}),i=[];break;case"textarea":l=la(e,l),r=la(e,r),i=[];break;default:typeof l.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=Pl)}aa(n,r);var a;n=null;for(d in l)if(!r.hasOwnProperty(d)&&l.hasOwnProperty(d)&&l[d]!=null)if(d==="style"){var o=l[d];for(a in o)o.hasOwnProperty(a)&&(n||(n={}),n[a]="")}else d!=="dangerouslySetInnerHTML"&&d!=="children"&&d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&d!=="autoFocus"&&(ir.hasOwnProperty(d)?i||(i=[]):(i=i||[]).push(d,null));for(d in r){var c=r[d];if(o=l!=null?l[d]:void 0,r.hasOwnProperty(d)&&c!==o&&(c!=null||o!=null))if(d==="style")if(o){for(a in o)!o.hasOwnProperty(a)||c&&c.hasOwnProperty(a)||(n||(n={}),n[a]="");for(a in c)c.hasOwnProperty(a)&&o[a]!==c[a]&&(n||(n={}),n[a]=c[a])}else n||(i||(i=[]),i.push(d,n)),n=c;else d==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,o=o?o.__html:void 0,c!=null&&o!==c&&(i=i||[]).push(d,c)):d==="children"?typeof c!="string"&&typeof c!="number"||(i=i||[]).push(d,""+c):d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&(ir.hasOwnProperty(d)?(c!=null&&d==="onScroll"&&Q("scroll",e),i||o===c||(i=[])):(i=i||[]).push(d,c))}n&&(i=i||[]).push("style",n);var d=i;(t.updateQueue=d)&&(t.flags|=4)}};Zh=function(e,t,n,r){n!==r&&(t.flags|=4)};function Ws(e,t){if(!q)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function fe(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var l=e.child;l!==null;)n|=l.lanes|l.childLanes,r|=l.subtreeFlags&14680064,r|=l.flags&14680064,l.return=e,l=l.sibling;else for(l=e.child;l!==null;)n|=l.lanes|l.childLanes,r|=l.subtreeFlags,r|=l.flags,l.return=e,l=l.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function ix(e,t,n){var r=t.pendingProps;switch(To(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return fe(t),null;case 1:return Re(t.type)&&El(),fe(t),null;case 3:return r=t.stateNode,_s(),K(Le),K(ye),$o(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(Yr(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,nt!==null&&(Ba(nt),nt=null))),Oa(e,t),fe(t),null;case 5:Uo(t);var l=bn(gr.current);if(n=t.type,e!==null&&t.stateNode!=null)Jh(e,t,n,r,l),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(S(166));return fe(t),null}if(e=bn(yt.current),Yr(t)){r=t.stateNode,n=t.type;var i=t.memoizedProps;switch(r[ft]=t,r[xr]=i,e=(t.mode&1)!==0,n){case"dialog":Q("cancel",r),Q("close",r);break;case"iframe":case"object":case"embed":Q("load",r);break;case"video":case"audio":for(l=0;l<Gs.length;l++)Q(Gs[l],r);break;case"source":Q("error",r);break;case"img":case"image":case"link":Q("error",r),Q("load",r);break;case"details":Q("toggle",r);break;case"input":bc(r,i),Q("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!i.multiple},Q("invalid",r);break;case"textarea":kc(r,i),Q("invalid",r)}aa(n,i),l=null;for(var a in i)if(i.hasOwnProperty(a)){var o=i[a];a==="children"?typeof o=="string"?r.textContent!==o&&(i.suppressHydrationWarning!==!0&&Xr(r.textContent,o,e),l=["children",o]):typeof o=="number"&&r.textContent!==""+o&&(i.suppressHydrationWarning!==!0&&Xr(r.textContent,o,e),l=["children",""+o]):ir.hasOwnProperty(a)&&o!=null&&a==="onScroll"&&Q("scroll",r)}switch(n){case"input":Br(r),wc(r,i,!0);break;case"textarea":Br(r),Sc(r);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(r.onclick=Pl)}r=l,t.updateQueue=r,r!==null&&(t.flags|=4)}else{a=l.nodeType===9?l:l.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=_u(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=a.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=a.createElement(n,{is:r.is}):(e=a.createElement(n),n==="select"&&(a=e,r.multiple?a.multiple=!0:r.size&&(a.size=r.size))):e=a.createElementNS(e,n),e[ft]=t,e[xr]=r,Yh(e,t,!1,!1),t.stateNode=e;e:{switch(a=oa(n,r),n){case"dialog":Q("cancel",e),Q("close",e),l=r;break;case"iframe":case"object":case"embed":Q("load",e),l=r;break;case"video":case"audio":for(l=0;l<Gs.length;l++)Q(Gs[l],e);l=r;break;case"source":Q("error",e),l=r;break;case"img":case"image":case"link":Q("error",e),Q("load",e),l=r;break;case"details":Q("toggle",e),l=r;break;case"input":bc(e,r),l=na(e,r),Q("invalid",e);break;case"option":l=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},l=Y({},r,{value:void 0}),Q("invalid",e);break;case"textarea":kc(e,r),l=la(e,r),Q("invalid",e);break;default:l=r}aa(n,l),o=l;for(i in o)if(o.hasOwnProperty(i)){var c=o[i];i==="style"?Lu(e,c):i==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&Pu(e,c)):i==="children"?typeof c=="string"?(n!=="textarea"||c!=="")&&ar(e,c):typeof c=="number"&&ar(e,""+c):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(ir.hasOwnProperty(i)?c!=null&&i==="onScroll"&&Q("scroll",e):c!=null&&yo(e,i,c,a))}switch(n){case"input":Br(e),wc(e,r,!1);break;case"textarea":Br(e),Sc(e);break;case"option":r.value!=null&&e.setAttribute("value",""+cn(r.value));break;case"select":e.multiple=!!r.multiple,i=r.value,i!=null?ls(e,!!r.multiple,i,!1):r.defaultValue!=null&&ls(e,!!r.multiple,r.defaultValue,!0);break;default:typeof l.onClick=="function"&&(e.onclick=Pl)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return fe(t),null;case 6:if(e&&t.stateNode!=null)Zh(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(S(166));if(n=bn(gr.current),bn(yt.current),Yr(t)){if(r=t.stateNode,n=t.memoizedProps,r[ft]=t,(i=r.nodeValue!==n)&&(e=Fe,e!==null))switch(e.tag){case 3:Xr(r.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Xr(r.nodeValue,n,(e.mode&1)!==0)}i&&(t.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[ft]=t,t.stateNode=r}return fe(t),null;case 13:if(K(G),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(q&&Ie!==null&&t.mode&1&&!(t.flags&128))yh(),Ss(),t.flags|=98560,i=!1;else if(i=Yr(t),r!==null&&r.dehydrated!==null){if(e===null){if(!i)throw Error(S(318));if(i=t.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(S(317));i[ft]=t}else Ss(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;fe(t),i=!1}else nt!==null&&(Ba(nt),nt=null),i=!0;if(!i)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,t.mode&1&&(e===null||G.current&1?ie===0&&(ie=3):Zo())),t.updateQueue!==null&&(t.flags|=4),fe(t),null);case 4:return _s(),Oa(e,t),e===null&&pr(t.stateNode.containerInfo),fe(t),null;case 10:return Do(t.type._context),fe(t),null;case 17:return Re(t.type)&&El(),fe(t),null;case 19:if(K(G),i=t.memoizedState,i===null)return fe(t),null;if(r=(t.flags&128)!==0,a=i.rendering,a===null)if(r)Ws(i,!1);else{if(ie!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(a=Dl(e),a!==null){for(t.flags|=128,Ws(i,!1),r=a.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)i=n,e=r,i.flags&=14680066,a=i.alternate,a===null?(i.childLanes=0,i.lanes=e,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=a.childLanes,i.lanes=a.lanes,i.child=a.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=a.memoizedProps,i.memoizedState=a.memoizedState,i.updateQueue=a.updateQueue,i.type=a.type,e=a.dependencies,i.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return V(G,G.current&1|2),t.child}e=e.sibling}i.tail!==null&&ne()>Es&&(t.flags|=128,r=!0,Ws(i,!1),t.lanes=4194304)}else{if(!r)if(e=Dl(a),e!==null){if(t.flags|=128,r=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),Ws(i,!0),i.tail===null&&i.tailMode==="hidden"&&!a.alternate&&!q)return fe(t),null}else 2*ne()-i.renderingStartTime>Es&&n!==1073741824&&(t.flags|=128,r=!0,Ws(i,!1),t.lanes=4194304);i.isBackwards?(a.sibling=t.child,t.child=a):(n=i.last,n!==null?n.sibling=a:t.child=a,i.last=a)}return i.tail!==null?(t=i.tail,i.rendering=t,i.tail=t.sibling,i.renderingStartTime=ne(),t.sibling=null,n=G.current,V(G,r?n&1|2:n&1),t):(fe(t),null);case 22:case 23:return Jo(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&t.mode&1?De&1073741824&&(fe(t),t.subtreeFlags&6&&(t.flags|=8192)):fe(t),null;case 24:return null;case 25:return null}throw Error(S(156,t.tag))}function ax(e,t){switch(To(t),t.tag){case 1:return Re(t.type)&&El(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return _s(),K(Le),K(ye),$o(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return Uo(t),null;case 13:if(K(G),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(S(340));Ss()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return K(G),null;case 4:return _s(),null;case 10:return Do(t.type._context),null;case 22:case 23:return Jo(),null;case 24:return null;default:return null}}var el=!1,xe=!1,ox=typeof WeakSet=="function"?WeakSet:Set,T=null;function ss(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){Z(e,t,r)}else n.current=null}function Aa(e,t,n){try{n()}catch(r){Z(e,t,r)}}var pd=!1;function cx(e,t){if(ga=Sl,e=rh(),Lo(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var l=r.anchorOffset,i=r.focusNode;r=r.focusOffset;try{n.nodeType,i.nodeType}catch{n=null;break e}var a=0,o=-1,c=-1,d=0,u=0,h=e,f=null;t:for(;;){for(var x;h!==n||l!==0&&h.nodeType!==3||(o=a+l),h!==i||r!==0&&h.nodeType!==3||(c=a+r),h.nodeType===3&&(a+=h.nodeValue.length),(x=h.firstChild)!==null;)f=h,h=x;for(;;){if(h===e)break t;if(f===n&&++d===l&&(o=a),f===i&&++u===r&&(c=a),(x=h.nextSibling)!==null)break;h=f,f=h.parentNode}h=x}n=o===-1||c===-1?null:{start:o,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(va={focusedElem:e,selectionRange:n},Sl=!1,T=t;T!==null;)if(t=T,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,T=e;else for(;T!==null;){t=T;try{var j=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(j!==null){var N=j.memoizedProps,w=j.memoizedState,m=t.stateNode,p=m.getSnapshotBeforeUpdate(t.elementType===t.type?N:Je(t.type,N),w);m.__reactInternalSnapshotBeforeUpdate=p}break;case 3:var g=t.stateNode.containerInfo;g.nodeType===1?g.textContent="":g.nodeType===9&&g.documentElement&&g.removeChild(g.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(S(163))}}catch(v){Z(t,t.return,v)}if(e=t.sibling,e!==null){e.return=t.return,T=e;break}T=t.return}return j=pd,pd=!1,j}function sr(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var l=r=r.next;do{if((l.tag&e)===e){var i=l.destroy;l.destroy=void 0,i!==void 0&&Aa(t,n,i)}l=l.next}while(l!==r)}}function li(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function Da(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function em(e){var t=e.alternate;t!==null&&(e.alternate=null,em(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[ft],delete t[xr],delete t[ba],delete t[Vf],delete t[Qf])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function tm(e){return e.tag===5||e.tag===3||e.tag===4}function fd(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||tm(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Ia(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=Pl));else if(r!==4&&(e=e.child,e!==null))for(Ia(e,t,n),e=e.sibling;e!==null;)Ia(e,t,n),e=e.sibling}function Fa(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(Fa(e,t,n),e=e.sibling;e!==null;)Fa(e,t,n),e=e.sibling}var ue=null,tt=!1;function Ot(e,t,n){for(n=n.child;n!==null;)nm(e,t,n),n=n.sibling}function nm(e,t,n){if(xt&&typeof xt.onCommitFiberUnmount=="function")try{xt.onCommitFiberUnmount(Yl,n)}catch{}switch(n.tag){case 5:xe||ss(n,t);case 6:var r=ue,l=tt;ue=null,Ot(e,t,n),ue=r,tt=l,ue!==null&&(tt?(e=ue,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):ue.removeChild(n.stateNode));break;case 18:ue!==null&&(tt?(e=ue,n=n.stateNode,e.nodeType===8?Fi(e.parentNode,n):e.nodeType===1&&Fi(e,n),ur(e)):Fi(ue,n.stateNode));break;case 4:r=ue,l=tt,ue=n.stateNode.containerInfo,tt=!0,Ot(e,t,n),ue=r,tt=l;break;case 0:case 11:case 14:case 15:if(!xe&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){l=r=r.next;do{var i=l,a=i.destroy;i=i.tag,a!==void 0&&(i&2||i&4)&&Aa(n,t,a),l=l.next}while(l!==r)}Ot(e,t,n);break;case 1:if(!xe&&(ss(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(o){Z(n,t,o)}Ot(e,t,n);break;case 21:Ot(e,t,n);break;case 22:n.mode&1?(xe=(r=xe)||n.memoizedState!==null,Ot(e,t,n),xe=r):Ot(e,t,n);break;default:Ot(e,t,n)}}function xd(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new ox),t.forEach(function(r){var l=gx.bind(null,e,r);n.has(r)||(n.add(r),r.then(l,l))})}}function Ye(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var l=n[r];try{var i=e,a=t,o=a;e:for(;o!==null;){switch(o.tag){case 5:ue=o.stateNode,tt=!1;break e;case 3:ue=o.stateNode.containerInfo,tt=!0;break e;case 4:ue=o.stateNode.containerInfo,tt=!0;break e}o=o.return}if(ue===null)throw Error(S(160));nm(i,a,l),ue=null,tt=!1;var c=l.alternate;c!==null&&(c.return=null),l.return=null}catch(d){Z(l,t,d)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)sm(t,e),t=t.sibling}function sm(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Ye(t,e),ct(e),r&4){try{sr(3,e,e.return),li(3,e)}catch(N){Z(e,e.return,N)}try{sr(5,e,e.return)}catch(N){Z(e,e.return,N)}}break;case 1:Ye(t,e),ct(e),r&512&&n!==null&&ss(n,n.return);break;case 5:if(Ye(t,e),ct(e),r&512&&n!==null&&ss(n,n.return),e.flags&32){var l=e.stateNode;try{ar(l,"")}catch(N){Z(e,e.return,N)}}if(r&4&&(l=e.stateNode,l!=null)){var i=e.memoizedProps,a=n!==null?n.memoizedProps:i,o=e.type,c=e.updateQueue;if(e.updateQueue=null,c!==null)try{o==="input"&&i.type==="radio"&&i.name!=null&&Su(l,i),oa(o,a);var d=oa(o,i);for(a=0;a<c.length;a+=2){var u=c[a],h=c[a+1];u==="style"?Lu(l,h):u==="dangerouslySetInnerHTML"?Pu(l,h):u==="children"?ar(l,h):yo(l,u,h,d)}switch(o){case"input":sa(l,i);break;case"textarea":Cu(l,i);break;case"select":var f=l._wrapperState.wasMultiple;l._wrapperState.wasMultiple=!!i.multiple;var x=i.value;x!=null?ls(l,!!i.multiple,x,!1):f!==!!i.multiple&&(i.defaultValue!=null?ls(l,!!i.multiple,i.defaultValue,!0):ls(l,!!i.multiple,i.multiple?[]:"",!1))}l[xr]=i}catch(N){Z(e,e.return,N)}}break;case 6:if(Ye(t,e),ct(e),r&4){if(e.stateNode===null)throw Error(S(162));l=e.stateNode,i=e.memoizedProps;try{l.nodeValue=i}catch(N){Z(e,e.return,N)}}break;case 3:if(Ye(t,e),ct(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{ur(t.containerInfo)}catch(N){Z(e,e.return,N)}break;case 4:Ye(t,e),ct(e);break;case 13:Ye(t,e),ct(e),l=e.child,l.flags&8192&&(i=l.memoizedState!==null,l.stateNode.isHidden=i,!i||l.alternate!==null&&l.alternate.memoizedState!==null||(Xo=ne())),r&4&&xd(e);break;case 22:if(u=n!==null&&n.memoizedState!==null,e.mode&1?(xe=(d=xe)||u,Ye(t,e),xe=d):Ye(t,e),ct(e),r&8192){if(d=e.memoizedState!==null,(e.stateNode.isHidden=d)&&!u&&e.mode&1)for(T=e,u=e.child;u!==null;){for(h=T=u;T!==null;){switch(f=T,x=f.child,f.tag){case 0:case 11:case 14:case 15:sr(4,f,f.return);break;case 1:ss(f,f.return);var j=f.stateNode;if(typeof j.componentWillUnmount=="function"){r=f,n=f.return;try{t=r,j.props=t.memoizedProps,j.state=t.memoizedState,j.componentWillUnmount()}catch(N){Z(r,n,N)}}break;case 5:ss(f,f.return);break;case 22:if(f.memoizedState!==null){gd(h);continue}}x!==null?(x.return=f,T=x):gd(h)}u=u.sibling}e:for(u=null,h=e;;){if(h.tag===5){if(u===null){u=h;try{l=h.stateNode,d?(i=l.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(o=h.stateNode,c=h.memoizedProps.style,a=c!=null&&c.hasOwnProperty("display")?c.display:null,o.style.display=Eu("display",a))}catch(N){Z(e,e.return,N)}}}else if(h.tag===6){if(u===null)try{h.stateNode.nodeValue=d?"":h.memoizedProps}catch(N){Z(e,e.return,N)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===e)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===e)break e;for(;h.sibling===null;){if(h.return===null||h.return===e)break e;u===h&&(u=null),h=h.return}u===h&&(u=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:Ye(t,e),ct(e),r&4&&xd(e);break;case 21:break;default:Ye(t,e),ct(e)}}function ct(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(tm(n)){var r=n;break e}n=n.return}throw Error(S(160))}switch(r.tag){case 5:var l=r.stateNode;r.flags&32&&(ar(l,""),r.flags&=-33);var i=fd(e);Fa(e,i,l);break;case 3:case 4:var a=r.stateNode.containerInfo,o=fd(e);Ia(e,o,a);break;default:throw Error(S(161))}}catch(c){Z(e,e.return,c)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function dx(e,t,n){T=e,rm(e)}function rm(e,t,n){for(var r=(e.mode&1)!==0;T!==null;){var l=T,i=l.child;if(l.tag===22&&r){var a=l.memoizedState!==null||el;if(!a){var o=l.alternate,c=o!==null&&o.memoizedState!==null||xe;o=el;var d=xe;if(el=a,(xe=c)&&!d)for(T=l;T!==null;)a=T,c=a.child,a.tag===22&&a.memoizedState!==null?vd(l):c!==null?(c.return=a,T=c):vd(l);for(;i!==null;)T=i,rm(i),i=i.sibling;T=l,el=o,xe=d}yd(e)}else l.subtreeFlags&8772&&i!==null?(i.return=l,T=i):yd(e)}}function yd(e){for(;T!==null;){var t=T;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:xe||li(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!xe)if(n===null)r.componentDidMount();else{var l=t.elementType===t.type?n.memoizedProps:Je(t.type,n.memoizedProps);r.componentDidUpdate(l,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var i=t.updateQueue;i!==null&&td(t,i,r);break;case 3:var a=t.updateQueue;if(a!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}td(t,a,n)}break;case 5:var o=t.stateNode;if(n===null&&t.flags&4){n=o;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var d=t.alternate;if(d!==null){var u=d.memoizedState;if(u!==null){var h=u.dehydrated;h!==null&&ur(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(S(163))}xe||t.flags&512&&Da(t)}catch(f){Z(t,t.return,f)}}if(t===e){T=null;break}if(n=t.sibling,n!==null){n.return=t.return,T=n;break}T=t.return}}function gd(e){for(;T!==null;){var t=T;if(t===e){T=null;break}var n=t.sibling;if(n!==null){n.return=t.return,T=n;break}T=t.return}}function vd(e){for(;T!==null;){var t=T;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{li(4,t)}catch(c){Z(t,n,c)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var l=t.return;try{r.componentDidMount()}catch(c){Z(t,l,c)}}var i=t.return;try{Da(t)}catch(c){Z(t,i,c)}break;case 5:var a=t.return;try{Da(t)}catch(c){Z(t,a,c)}}}catch(c){Z(t,t.return,c)}if(t===e){T=null;break}var o=t.sibling;if(o!==null){o.return=t.return,T=o;break}T=t.return}}var ux=Math.ceil,zl=Mt.ReactCurrentDispatcher,qo=Mt.ReactCurrentOwner,qe=Mt.ReactCurrentBatchConfig,$=0,de=null,se=null,he=0,De=0,rs=hn(0),ie=0,br=null,zn=0,ii=0,Go=0,rr=null,_e=null,Xo=0,Es=1/0,vt=null,Ul=!1,za=null,sn=null,tl=!1,Xt=null,$l=0,lr=0,Ua=null,fl=-1,xl=0;function be(){return $&6?ne():fl!==-1?fl:fl=ne()}function rn(e){return e.mode&1?$&2&&he!==0?he&-he:qf.transition!==null?(xl===0&&(xl=Bu()),xl):(e=W,e!==0||(e=window.event,e=e===void 0?16:Gu(e.type)),e):1}function rt(e,t,n,r){if(50<lr)throw lr=0,Ua=null,Error(S(185));Tr(e,n,r),(!($&2)||e!==de)&&(e===de&&(!($&2)&&(ii|=n),ie===4&&zt(e,he)),Te(e,r),n===1&&$===0&&!(t.mode&1)&&(Es=ne()+500,ni&&mn()))}function Te(e,t){var n=e.callbackNode;Kp(e,t);var r=kl(e,e===de?he:0);if(r===0)n!==null&&Pc(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&Pc(n),t===1)e.tag===0?Kf(jd.bind(null,e)):ph(jd.bind(null,e)),Hf(function(){!($&6)&&mn()}),n=null;else{switch(Hu(r)){case 1:n=bo;break;case 4:n=Uu;break;case 16:n=wl;break;case 536870912:n=$u;break;default:n=wl}n=hm(n,lm.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function lm(e,t){if(fl=-1,xl=0,$&6)throw Error(S(327));var n=e.callbackNode;if(ds()&&e.callbackNode!==n)return null;var r=kl(e,e===de?he:0);if(r===0)return null;if(r&30||r&e.expiredLanes||t)t=Bl(e,r);else{t=r;var l=$;$|=2;var i=am();(de!==e||he!==t)&&(vt=null,Es=ne()+500,Mn(e,t));do try{px();break}catch(o){im(e,o)}while(!0);Ao(),zl.current=i,$=l,se!==null?t=0:(de=null,he=0,t=ie)}if(t!==0){if(t===2&&(l=ma(e),l!==0&&(r=l,t=$a(e,l))),t===1)throw n=br,Mn(e,0),zt(e,r),Te(e,ne()),n;if(t===6)zt(e,r);else{if(l=e.current.alternate,!(r&30)&&!hx(l)&&(t=Bl(e,r),t===2&&(i=ma(e),i!==0&&(r=i,t=$a(e,i))),t===1))throw n=br,Mn(e,0),zt(e,r),Te(e,ne()),n;switch(e.finishedWork=l,e.finishedLanes=r,t){case 0:case 1:throw Error(S(345));case 2:vn(e,_e,vt);break;case 3:if(zt(e,r),(r&130023424)===r&&(t=Xo+500-ne(),10<t)){if(kl(e,0)!==0)break;if(l=e.suspendedLanes,(l&r)!==r){be(),e.pingedLanes|=e.suspendedLanes&l;break}e.timeoutHandle=Na(vn.bind(null,e,_e,vt),t);break}vn(e,_e,vt);break;case 4:if(zt(e,r),(r&4194240)===r)break;for(t=e.eventTimes,l=-1;0<r;){var a=31-st(r);i=1<<a,a=t[a],a>l&&(l=a),r&=~i}if(r=l,r=ne()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*ux(r/1960))-r,10<r){e.timeoutHandle=Na(vn.bind(null,e,_e,vt),r);break}vn(e,_e,vt);break;case 5:vn(e,_e,vt);break;default:throw Error(S(329))}}}return Te(e,ne()),e.callbackNode===n?lm.bind(null,e):null}function $a(e,t){var n=rr;return e.current.memoizedState.isDehydrated&&(Mn(e,t).flags|=256),e=Bl(e,t),e!==2&&(t=_e,_e=n,t!==null&&Ba(t)),e}function Ba(e){_e===null?_e=e:_e.push.apply(_e,e)}function hx(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var l=n[r],i=l.getSnapshot;l=l.value;try{if(!lt(i(),l))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function zt(e,t){for(t&=~Go,t&=~ii,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-st(t),r=1<<n;e[n]=-1,t&=~r}}function jd(e){if($&6)throw Error(S(327));ds();var t=kl(e,0);if(!(t&1))return Te(e,ne()),null;var n=Bl(e,t);if(e.tag!==0&&n===2){var r=ma(e);r!==0&&(t=r,n=$a(e,r))}if(n===1)throw n=br,Mn(e,0),zt(e,t),Te(e,ne()),n;if(n===6)throw Error(S(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,vn(e,_e,vt),Te(e,ne()),null}function Yo(e,t){var n=$;$|=1;try{return e(t)}finally{$=n,$===0&&(Es=ne()+500,ni&&mn())}}function Un(e){Xt!==null&&Xt.tag===0&&!($&6)&&ds();var t=$;$|=1;var n=qe.transition,r=W;try{if(qe.transition=null,W=1,e)return e()}finally{W=r,qe.transition=n,$=t,!($&6)&&mn()}}function Jo(){De=rs.current,K(rs)}function Mn(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,Bf(n)),se!==null)for(n=se.return;n!==null;){var r=n;switch(To(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&El();break;case 3:_s(),K(Le),K(ye),$o();break;case 5:Uo(r);break;case 4:_s();break;case 13:K(G);break;case 19:K(G);break;case 10:Do(r.type._context);break;case 22:case 23:Jo()}n=n.return}if(de=e,se=e=ln(e.current,null),he=De=t,ie=0,br=null,Go=ii=zn=0,_e=rr=null,Nn!==null){for(t=0;t<Nn.length;t++)if(n=Nn[t],r=n.interleaved,r!==null){n.interleaved=null;var l=r.next,i=n.pending;if(i!==null){var a=i.next;i.next=l,r.next=a}n.pending=r}Nn=null}return e}function im(e,t){do{var n=se;try{if(Ao(),hl.current=Fl,Il){for(var r=X.memoizedState;r!==null;){var l=r.queue;l!==null&&(l.pending=null),r=r.next}Il=!1}if(Fn=0,ce=re=X=null,nr=!1,vr=0,qo.current=null,n===null||n.return===null){ie=1,br=t,se=null;break}e:{var i=e,a=n.return,o=n,c=t;if(t=he,o.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var d=c,u=o,h=u.tag;if(!(u.mode&1)&&(h===0||h===11||h===15)){var f=u.alternate;f?(u.updateQueue=f.updateQueue,u.memoizedState=f.memoizedState,u.lanes=f.lanes):(u.updateQueue=null,u.memoizedState=null)}var x=ad(a);if(x!==null){x.flags&=-257,od(x,a,o,i,t),x.mode&1&&id(i,d,t),t=x,c=d;var j=t.updateQueue;if(j===null){var N=new Set;N.add(c),t.updateQueue=N}else j.add(c);break e}else{if(!(t&1)){id(i,d,t),Zo();break e}c=Error(S(426))}}else if(q&&o.mode&1){var w=ad(a);if(w!==null){!(w.flags&65536)&&(w.flags|=256),od(w,a,o,i,t),Mo(Ps(c,o));break e}}i=c=Ps(c,o),ie!==4&&(ie=2),rr===null?rr=[i]:rr.push(i),i=a;do{switch(i.tag){case 3:i.flags|=65536,t&=-t,i.lanes|=t;var m=Hh(i,c,t);ed(i,m);break e;case 1:o=c;var p=i.type,g=i.stateNode;if(!(i.flags&128)&&(typeof p.getDerivedStateFromError=="function"||g!==null&&typeof g.componentDidCatch=="function"&&(sn===null||!sn.has(g)))){i.flags|=65536,t&=-t,i.lanes|=t;var v=Wh(i,o,t);ed(i,v);break e}}i=i.return}while(i!==null)}cm(n)}catch(k){t=k,se===n&&n!==null&&(se=n=n.return);continue}break}while(!0)}function am(){var e=zl.current;return zl.current=Fl,e===null?Fl:e}function Zo(){(ie===0||ie===3||ie===2)&&(ie=4),de===null||!(zn&268435455)&&!(ii&268435455)||zt(de,he)}function Bl(e,t){var n=$;$|=2;var r=am();(de!==e||he!==t)&&(vt=null,Mn(e,t));do try{mx();break}catch(l){im(e,l)}while(!0);if(Ao(),$=n,zl.current=r,se!==null)throw Error(S(261));return de=null,he=0,ie}function mx(){for(;se!==null;)om(se)}function px(){for(;se!==null&&!Fp();)om(se)}function om(e){var t=um(e.alternate,e,De);e.memoizedProps=e.pendingProps,t===null?cm(e):se=t,qo.current=null}function cm(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=ax(n,t),n!==null){n.flags&=32767,se=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{ie=6,se=null;return}}else if(n=ix(n,t,De),n!==null){se=n;return}if(t=t.sibling,t!==null){se=t;return}se=t=e}while(t!==null);ie===0&&(ie=5)}function vn(e,t,n){var r=W,l=qe.transition;try{qe.transition=null,W=1,fx(e,t,n,r)}finally{qe.transition=l,W=r}return null}function fx(e,t,n,r){do ds();while(Xt!==null);if($&6)throw Error(S(327));n=e.finishedWork;var l=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(S(177));e.callbackNode=null,e.callbackPriority=0;var i=n.lanes|n.childLanes;if(qp(e,i),e===de&&(se=de=null,he=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||tl||(tl=!0,hm(wl,function(){return ds(),null})),i=(n.flags&15990)!==0,n.subtreeFlags&15990||i){i=qe.transition,qe.transition=null;var a=W;W=1;var o=$;$|=4,qo.current=null,cx(e,n),sm(n,e),Af(va),Sl=!!ga,va=ga=null,e.current=n,dx(n),zp(),$=o,W=a,qe.transition=i}else e.current=n;if(tl&&(tl=!1,Xt=e,$l=l),i=e.pendingLanes,i===0&&(sn=null),Bp(n.stateNode),Te(e,ne()),t!==null)for(r=e.onRecoverableError,n=0;n<t.length;n++)l=t[n],r(l.value,{componentStack:l.stack,digest:l.digest});if(Ul)throw Ul=!1,e=za,za=null,e;return $l&1&&e.tag!==0&&ds(),i=e.pendingLanes,i&1?e===Ua?lr++:(lr=0,Ua=e):lr=0,mn(),null}function ds(){if(Xt!==null){var e=Hu($l),t=qe.transition,n=W;try{if(qe.transition=null,W=16>e?16:e,Xt===null)var r=!1;else{if(e=Xt,Xt=null,$l=0,$&6)throw Error(S(331));var l=$;for($|=4,T=e.current;T!==null;){var i=T,a=i.child;if(T.flags&16){var o=i.deletions;if(o!==null){for(var c=0;c<o.length;c++){var d=o[c];for(T=d;T!==null;){var u=T;switch(u.tag){case 0:case 11:case 15:sr(8,u,i)}var h=u.child;if(h!==null)h.return=u,T=h;else for(;T!==null;){u=T;var f=u.sibling,x=u.return;if(em(u),u===d){T=null;break}if(f!==null){f.return=x,T=f;break}T=x}}}var j=i.alternate;if(j!==null){var N=j.child;if(N!==null){j.child=null;do{var w=N.sibling;N.sibling=null,N=w}while(N!==null)}}T=i}}if(i.subtreeFlags&2064&&a!==null)a.return=i,T=a;else e:for(;T!==null;){if(i=T,i.flags&2048)switch(i.tag){case 0:case 11:case 15:sr(9,i,i.return)}var m=i.sibling;if(m!==null){m.return=i.return,T=m;break e}T=i.return}}var p=e.current;for(T=p;T!==null;){a=T;var g=a.child;if(a.subtreeFlags&2064&&g!==null)g.return=a,T=g;else e:for(a=p;T!==null;){if(o=T,o.flags&2048)try{switch(o.tag){case 0:case 11:case 15:li(9,o)}}catch(k){Z(o,o.return,k)}if(o===a){T=null;break e}var v=o.sibling;if(v!==null){v.return=o.return,T=v;break e}T=o.return}}if($=l,mn(),xt&&typeof xt.onPostCommitFiberRoot=="function")try{xt.onPostCommitFiberRoot(Yl,e)}catch{}r=!0}return r}finally{W=n,qe.transition=t}}return!1}function Nd(e,t,n){t=Ps(n,t),t=Hh(e,t,1),e=nn(e,t,1),t=be(),e!==null&&(Tr(e,1,t),Te(e,t))}function Z(e,t,n){if(e.tag===3)Nd(e,e,n);else for(;t!==null;){if(t.tag===3){Nd(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(sn===null||!sn.has(r))){e=Ps(n,e),e=Wh(t,e,1),t=nn(t,e,1),e=be(),t!==null&&(Tr(t,1,e),Te(t,e));break}}t=t.return}}function xx(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=be(),e.pingedLanes|=e.suspendedLanes&n,de===e&&(he&n)===n&&(ie===4||ie===3&&(he&130023424)===he&&500>ne()-Xo?Mn(e,0):Go|=n),Te(e,t)}function dm(e,t){t===0&&(e.mode&1?(t=Vr,Vr<<=1,!(Vr&130023424)&&(Vr=4194304)):t=1);var n=be();e=Rt(e,t),e!==null&&(Tr(e,t,n),Te(e,n))}function yx(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),dm(e,n)}function gx(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,l=e.memoizedState;l!==null&&(n=l.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(S(314))}r!==null&&r.delete(t),dm(e,n)}var um;um=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||Le.current)Pe=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return Pe=!1,lx(e,t,n);Pe=!!(e.flags&131072)}else Pe=!1,q&&t.flags&1048576&&fh(t,Tl,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;pl(e,t),e=t.pendingProps;var l=ks(t,ye.current);cs(t,n),l=Ho(null,t,r,e,l,n);var i=Wo();return t.flags|=1,typeof l=="object"&&l!==null&&typeof l.render=="function"&&l.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Re(r)?(i=!0,Ll(t)):i=!1,t.memoizedState=l.state!==null&&l.state!==void 0?l.state:null,Fo(t),l.updater=ri,t.stateNode=l,l._reactInternals=t,Pa(t,r,e,n),t=Ra(null,t,r,!0,i,n)):(t.tag=0,q&&i&&Ro(t),je(null,t,l,n),t=t.child),t;case 16:r=t.elementType;e:{switch(pl(e,t),e=t.pendingProps,l=r._init,r=l(r._payload),t.type=r,l=t.tag=jx(r),e=Je(r,e),l){case 0:t=La(null,t,r,e,n);break e;case 1:t=ud(null,t,r,e,n);break e;case 11:t=cd(null,t,r,e,n);break e;case 14:t=dd(null,t,r,Je(r.type,e),n);break e}throw Error(S(306,r,""))}return t;case 0:return r=t.type,l=t.pendingProps,l=t.elementType===r?l:Je(r,l),La(e,t,r,l,n);case 1:return r=t.type,l=t.pendingProps,l=t.elementType===r?l:Je(r,l),ud(e,t,r,l,n);case 3:e:{if(qh(t),e===null)throw Error(S(387));r=t.pendingProps,i=t.memoizedState,l=i.element,Nh(e,t),Al(t,r,null,n);var a=t.memoizedState;if(r=a.element,i.isDehydrated)if(i={element:r,isDehydrated:!1,cache:a.cache,pendingSuspenseBoundaries:a.pendingSuspenseBoundaries,transitions:a.transitions},t.updateQueue.baseState=i,t.memoizedState=i,t.flags&256){l=Ps(Error(S(423)),t),t=hd(e,t,r,n,l);break e}else if(r!==l){l=Ps(Error(S(424)),t),t=hd(e,t,r,n,l);break e}else for(Ie=tn(t.stateNode.containerInfo.firstChild),Fe=t,q=!0,nt=null,n=vh(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Ss(),r===l){t=Tt(e,t,n);break e}je(e,t,r,n)}t=t.child}return t;case 5:return bh(t),e===null&&Sa(t),r=t.type,l=t.pendingProps,i=e!==null?e.memoizedProps:null,a=l.children,ja(r,l)?a=null:i!==null&&ja(r,i)&&(t.flags|=32),Kh(e,t),je(e,t,a,n),t.child;case 6:return e===null&&Sa(t),null;case 13:return Gh(e,t,n);case 4:return zo(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=Cs(t,null,r,n):je(e,t,r,n),t.child;case 11:return r=t.type,l=t.pendingProps,l=t.elementType===r?l:Je(r,l),cd(e,t,r,l,n);case 7:return je(e,t,t.pendingProps,n),t.child;case 8:return je(e,t,t.pendingProps.children,n),t.child;case 12:return je(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,l=t.pendingProps,i=t.memoizedProps,a=l.value,V(Ml,r._currentValue),r._currentValue=a,i!==null)if(lt(i.value,a)){if(i.children===l.children&&!Le.current){t=Tt(e,t,n);break e}}else for(i=t.child,i!==null&&(i.return=t);i!==null;){var o=i.dependencies;if(o!==null){a=i.child;for(var c=o.firstContext;c!==null;){if(c.context===r){if(i.tag===1){c=_t(-1,n&-n),c.tag=2;var d=i.updateQueue;if(d!==null){d=d.shared;var u=d.pending;u===null?c.next=c:(c.next=u.next,u.next=c),d.pending=c}}i.lanes|=n,c=i.alternate,c!==null&&(c.lanes|=n),Ca(i.return,n,t),o.lanes|=n;break}c=c.next}}else if(i.tag===10)a=i.type===t.type?null:i.child;else if(i.tag===18){if(a=i.return,a===null)throw Error(S(341));a.lanes|=n,o=a.alternate,o!==null&&(o.lanes|=n),Ca(a,n,t),a=i.sibling}else a=i.child;if(a!==null)a.return=i;else for(a=i;a!==null;){if(a===t){a=null;break}if(i=a.sibling,i!==null){i.return=a.return,a=i;break}a=a.return}i=a}je(e,t,l.children,n),t=t.child}return t;case 9:return l=t.type,r=t.pendingProps.children,cs(t,n),l=Ge(l),r=r(l),t.flags|=1,je(e,t,r,n),t.child;case 14:return r=t.type,l=Je(r,t.pendingProps),l=Je(r.type,l),dd(e,t,r,l,n);case 15:return Vh(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,l=t.pendingProps,l=t.elementType===r?l:Je(r,l),pl(e,t),t.tag=1,Re(r)?(e=!0,Ll(t)):e=!1,cs(t,n),Bh(t,r,l),Pa(t,r,l,n),Ra(null,t,r,!0,e,n);case 19:return Xh(e,t,n);case 22:return Qh(e,t,n)}throw Error(S(156,t.tag))};function hm(e,t){return zu(e,t)}function vx(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ke(e,t,n,r){return new vx(e,t,n,r)}function ec(e){return e=e.prototype,!(!e||!e.isReactComponent)}function jx(e){if(typeof e=="function")return ec(e)?1:0;if(e!=null){if(e=e.$$typeof,e===vo)return 11;if(e===jo)return 14}return 2}function ln(e,t){var n=e.alternate;return n===null?(n=Ke(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function yl(e,t,n,r,l,i){var a=2;if(r=e,typeof e=="function")ec(e)&&(a=1);else if(typeof e=="string")a=5;else e:switch(e){case qn:return On(n.children,l,i,t);case go:a=8,l|=8;break;case Ji:return e=Ke(12,n,t,l|2),e.elementType=Ji,e.lanes=i,e;case Zi:return e=Ke(13,n,t,l),e.elementType=Zi,e.lanes=i,e;case ea:return e=Ke(19,n,t,l),e.elementType=ea,e.lanes=i,e;case bu:return ai(n,l,i,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case ju:a=10;break e;case Nu:a=9;break e;case vo:a=11;break e;case jo:a=14;break e;case Dt:a=16,r=null;break e}throw Error(S(130,e==null?e:typeof e,""))}return t=Ke(a,n,t,l),t.elementType=e,t.type=r,t.lanes=i,t}function On(e,t,n,r){return e=Ke(7,e,r,t),e.lanes=n,e}function ai(e,t,n,r){return e=Ke(22,e,r,t),e.elementType=bu,e.lanes=n,e.stateNode={isHidden:!1},e}function Qi(e,t,n){return e=Ke(6,e,null,t),e.lanes=n,e}function Ki(e,t,n){return t=Ke(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Nx(e,t,n,r,l){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=_i(0),this.expirationTimes=_i(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=_i(0),this.identifierPrefix=r,this.onRecoverableError=l,this.mutableSourceEagerHydrationData=null}function tc(e,t,n,r,l,i,a,o,c){return e=new Nx(e,t,n,o,c),t===1?(t=1,i===!0&&(t|=8)):t=0,i=Ke(3,null,null,t),e.current=i,i.stateNode=e,i.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Fo(i),e}function bx(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Kn,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function mm(e){if(!e)return dn;e=e._reactInternals;e:{if(Wn(e)!==e||e.tag!==1)throw Error(S(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Re(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(S(171))}if(e.tag===1){var n=e.type;if(Re(n))return mh(e,n,t)}return t}function pm(e,t,n,r,l,i,a,o,c){return e=tc(n,r,!0,e,l,i,a,o,c),e.context=mm(null),n=e.current,r=be(),l=rn(n),i=_t(r,l),i.callback=t??null,nn(n,i,l),e.current.lanes=l,Tr(e,l,r),Te(e,r),e}function oi(e,t,n,r){var l=t.current,i=be(),a=rn(l);return n=mm(n),t.context===null?t.context=n:t.pendingContext=n,t=_t(i,a),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=nn(l,t,a),e!==null&&(rt(e,l,a,i),ul(e,l,a)),a}function Hl(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function bd(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function nc(e,t){bd(e,t),(e=e.alternate)&&bd(e,t)}function wx(){return null}var fm=typeof reportError=="function"?reportError:function(e){console.error(e)};function sc(e){this._internalRoot=e}ci.prototype.render=sc.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(S(409));oi(e,t,null,null)};ci.prototype.unmount=sc.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Un(function(){oi(null,e,null,null)}),t[Lt]=null}};function ci(e){this._internalRoot=e}ci.prototype.unstable_scheduleHydration=function(e){if(e){var t=Qu();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Ft.length&&t!==0&&t<Ft[n].priority;n++);Ft.splice(n,0,e),n===0&&qu(e)}};function rc(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function di(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function wd(){}function kx(e,t,n,r,l){if(l){if(typeof r=="function"){var i=r;r=function(){var d=Hl(a);i.call(d)}}var a=pm(t,r,e,0,null,!1,!1,"",wd);return e._reactRootContainer=a,e[Lt]=a.current,pr(e.nodeType===8?e.parentNode:e),Un(),a}for(;l=e.lastChild;)e.removeChild(l);if(typeof r=="function"){var o=r;r=function(){var d=Hl(c);o.call(d)}}var c=tc(e,0,!1,null,null,!1,!1,"",wd);return e._reactRootContainer=c,e[Lt]=c.current,pr(e.nodeType===8?e.parentNode:e),Un(function(){oi(t,c,n,r)}),c}function ui(e,t,n,r,l){var i=n._reactRootContainer;if(i){var a=i;if(typeof l=="function"){var o=l;l=function(){var c=Hl(a);o.call(c)}}oi(t,a,e,l)}else a=kx(n,t,e,l,r);return Hl(a)}Wu=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=qs(t.pendingLanes);n!==0&&(wo(t,n|1),Te(t,ne()),!($&6)&&(Es=ne()+500,mn()))}break;case 13:Un(function(){var r=Rt(e,1);if(r!==null){var l=be();rt(r,e,1,l)}}),nc(e,1)}};ko=function(e){if(e.tag===13){var t=Rt(e,134217728);if(t!==null){var n=be();rt(t,e,134217728,n)}nc(e,134217728)}};Vu=function(e){if(e.tag===13){var t=rn(e),n=Rt(e,t);if(n!==null){var r=be();rt(n,e,t,r)}nc(e,t)}};Qu=function(){return W};Ku=function(e,t){var n=W;try{return W=e,t()}finally{W=n}};da=function(e,t,n){switch(t){case"input":if(sa(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var l=ti(r);if(!l)throw Error(S(90));ku(r),sa(r,l)}}}break;case"textarea":Cu(e,n);break;case"select":t=n.value,t!=null&&ls(e,!!n.multiple,t,!1)}};Mu=Yo;Ou=Un;var Sx={usingClientEntryPoint:!1,Events:[Or,Jn,ti,Ru,Tu,Yo]},Vs={findFiberByHostInstance:jn,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Cx={bundleType:Vs.bundleType,version:Vs.version,rendererPackageName:Vs.rendererPackageName,rendererConfig:Vs.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Mt.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=Iu(e),e===null?null:e.stateNode},findFiberByHostInstance:Vs.findFiberByHostInstance||wx,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var nl=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!nl.isDisabled&&nl.supportsFiber)try{Yl=nl.inject(Cx),xt=nl}catch{}}Ue.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Sx;Ue.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!rc(t))throw Error(S(200));return bx(e,t,null,n)};Ue.createRoot=function(e,t){if(!rc(e))throw Error(S(299));var n=!1,r="",l=fm;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(l=t.onRecoverableError)),t=tc(e,1,!1,null,null,n,!1,r,l),e[Lt]=t.current,pr(e.nodeType===8?e.parentNode:e),new sc(t)};Ue.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(S(188)):(e=Object.keys(e).join(","),Error(S(268,e)));return e=Iu(t),e=e===null?null:e.stateNode,e};Ue.flushSync=function(e){return Un(e)};Ue.hydrate=function(e,t,n){if(!di(t))throw Error(S(200));return ui(null,e,t,!0,n)};Ue.hydrateRoot=function(e,t,n){if(!rc(e))throw Error(S(405));var r=n!=null&&n.hydratedSources||null,l=!1,i="",a=fm;if(n!=null&&(n.unstable_strictMode===!0&&(l=!0),n.identifierPrefix!==void 0&&(i=n.identifierPrefix),n.onRecoverableError!==void 0&&(a=n.onRecoverableError)),t=pm(t,null,e,1,n??null,l,!1,i,a),e[Lt]=t.current,pr(e),r)for(e=0;e<r.length;e++)n=r[e],l=n._getVersion,l=l(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,l]:t.mutableSourceEagerHydrationData.push(n,l);return new ci(t)};Ue.render=function(e,t,n){if(!di(t))throw Error(S(200));return ui(null,e,t,!1,n)};Ue.unmountComponentAtNode=function(e){if(!di(e))throw Error(S(40));return e._reactRootContainer?(Un(function(){ui(null,null,e,!1,function(){e._reactRootContainer=null,e[Lt]=null})}),!0):!1};Ue.unstable_batchedUpdates=Yo;Ue.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!di(n))throw Error(S(200));if(e==null||e._reactInternals===void 0)throw Error(S(38));return ui(e,t,n,!1,r)};Ue.version="18.3.1-next-f1338f8080-20240426";function xm(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(xm)}catch(e){console.error(e)}}xm(),xu.exports=Ue;var _x=xu.exports,kd=_x;Xi.createRoot=kd.createRoot,Xi.hydrateRoot=kd.hydrateRoot;/**
 * @remix-run/router v1.23.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function wr(){return wr=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},wr.apply(this,arguments)}var Yt;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(Yt||(Yt={}));const Sd="popstate";function Px(e){e===void 0&&(e={});function t(r,l){let{pathname:i,search:a,hash:o}=r.location;return Ha("",{pathname:i,search:a,hash:o},l.state&&l.state.usr||null,l.state&&l.state.key||"default")}function n(r,l){return typeof l=="string"?l:Wl(l)}return Lx(t,n,null,e)}function ee(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function lc(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function Ex(){return Math.random().toString(36).substr(2,8)}function Cd(e,t){return{usr:e.state,key:e.key,idx:t}}function Ha(e,t,n,r){return n===void 0&&(n=null),wr({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?Os(t):t,{state:n,key:t&&t.key||r||Ex()})}function Wl(e){let{pathname:t="/",search:n="",hash:r=""}=e;return n&&n!=="?"&&(t+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(t+=r.charAt(0)==="#"?r:"#"+r),t}function Os(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}function Lx(e,t,n,r){r===void 0&&(r={});let{window:l=document.defaultView,v5Compat:i=!1}=r,a=l.history,o=Yt.Pop,c=null,d=u();d==null&&(d=0,a.replaceState(wr({},a.state,{idx:d}),""));function u(){return(a.state||{idx:null}).idx}function h(){o=Yt.Pop;let w=u(),m=w==null?null:w-d;d=w,c&&c({action:o,location:N.location,delta:m})}function f(w,m){o=Yt.Push;let p=Ha(N.location,w,m);d=u()+1;let g=Cd(p,d),v=N.createHref(p);try{a.pushState(g,"",v)}catch(k){if(k instanceof DOMException&&k.name==="DataCloneError")throw k;l.location.assign(v)}i&&c&&c({action:o,location:N.location,delta:1})}function x(w,m){o=Yt.Replace;let p=Ha(N.location,w,m);d=u();let g=Cd(p,d),v=N.createHref(p);a.replaceState(g,"",v),i&&c&&c({action:o,location:N.location,delta:0})}function j(w){let m=l.location.origin!=="null"?l.location.origin:l.location.href,p=typeof w=="string"?w:Wl(w);return p=p.replace(/ $/,"%20"),ee(m,"No window.location.(origin|href) available to create URL for href: "+p),new URL(p,m)}let N={get action(){return o},get location(){return e(l,a)},listen(w){if(c)throw new Error("A history only accepts one active listener");return l.addEventListener(Sd,h),c=w,()=>{l.removeEventListener(Sd,h),c=null}},createHref(w){return t(l,w)},createURL:j,encodeLocation(w){let m=j(w);return{pathname:m.pathname,search:m.search,hash:m.hash}},push:f,replace:x,go(w){return a.go(w)}};return N}var _d;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(_d||(_d={}));function Rx(e,t,n){return n===void 0&&(n="/"),Tx(e,t,n)}function Tx(e,t,n,r){let l=typeof t=="string"?Os(t):t,i=Ls(l.pathname||"/",n);if(i==null)return null;let a=ym(e);Mx(a);let o=null;for(let c=0;o==null&&c<a.length;++c){let d=Wx(i);o=Bx(a[c],d)}return o}function ym(e,t,n,r){t===void 0&&(t=[]),n===void 0&&(n=[]),r===void 0&&(r="");let l=(i,a,o)=>{let c={relativePath:o===void 0?i.path||"":o,caseSensitive:i.caseSensitive===!0,childrenIndex:a,route:i};c.relativePath.startsWith("/")&&(ee(c.relativePath.startsWith(r),'Absolute route path "'+c.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),c.relativePath=c.relativePath.slice(r.length));let d=an([r,c.relativePath]),u=n.concat(c);i.children&&i.children.length>0&&(ee(i.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+d+'".')),ym(i.children,t,u,d)),!(i.path==null&&!i.index)&&t.push({path:d,score:Ux(d,i.index),routesMeta:u})};return e.forEach((i,a)=>{var o;if(i.path===""||!((o=i.path)!=null&&o.includes("?")))l(i,a);else for(let c of gm(i.path))l(i,a,c)}),t}function gm(e){let t=e.split("/");if(t.length===0)return[];let[n,...r]=t,l=n.endsWith("?"),i=n.replace(/\?$/,"");if(r.length===0)return l?[i,""]:[i];let a=gm(r.join("/")),o=[];return o.push(...a.map(c=>c===""?i:[i,c].join("/"))),l&&o.push(...a),o.map(c=>e.startsWith("/")&&c===""?"/":c)}function Mx(e){e.sort((t,n)=>t.score!==n.score?n.score-t.score:$x(t.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const Ox=/^:[\w-]+$/,Ax=3,Dx=2,Ix=1,Fx=10,zx=-2,Pd=e=>e==="*";function Ux(e,t){let n=e.split("/"),r=n.length;return n.some(Pd)&&(r+=zx),t&&(r+=Dx),n.filter(l=>!Pd(l)).reduce((l,i)=>l+(Ox.test(i)?Ax:i===""?Ix:Fx),r)}function $x(e,t){return e.length===t.length&&e.slice(0,-1).every((r,l)=>r===t[l])?e[e.length-1]-t[t.length-1]:0}function Bx(e,t,n){let{routesMeta:r}=e,l={},i="/",a=[];for(let o=0;o<r.length;++o){let c=r[o],d=o===r.length-1,u=i==="/"?t:t.slice(i.length)||"/",h=Wa({path:c.relativePath,caseSensitive:c.caseSensitive,end:d},u),f=c.route;if(!h)return null;Object.assign(l,h.params),a.push({params:l,pathname:an([i,h.pathname]),pathnameBase:Gx(an([i,h.pathnameBase])),route:f}),h.pathnameBase!=="/"&&(i=an([i,h.pathnameBase]))}return a}function Wa(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=Hx(e.path,e.caseSensitive,e.end),l=t.match(n);if(!l)return null;let i=l[0],a=i.replace(/(.)\/+$/,"$1"),o=l.slice(1);return{params:r.reduce((d,u,h)=>{let{paramName:f,isOptional:x}=u;if(f==="*"){let N=o[h]||"";a=i.slice(0,i.length-N.length).replace(/(.)\/+$/,"$1")}const j=o[h];return x&&!j?d[f]=void 0:d[f]=(j||"").replace(/%2F/g,"/"),d},{}),pathname:i,pathnameBase:a,pattern:e}}function Hx(e,t,n){t===void 0&&(t=!1),n===void 0&&(n=!0),lc(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let r=[],l="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(a,o,c)=>(r.push({paramName:o,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(r.push({paramName:"*"}),l+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?l+="\\/*$":e!==""&&e!=="/"&&(l+="(?:(?=\\/|$))"),[new RegExp(l,t?void 0:"i"),r]}function Wx(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return lc(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function Ls(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&r!=="/"?null:e.slice(n)||"/"}const Vx=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Qx=e=>Vx.test(e);function Kx(e,t){t===void 0&&(t="/");let{pathname:n,search:r="",hash:l=""}=typeof e=="string"?Os(e):e,i;if(n)if(Qx(n))i=n;else{if(n.includes("//")){let a=n;n=n.replace(/\/\/+/g,"/"),lc(!1,"Pathnames cannot have embedded double slashes - normalizing "+(a+" -> "+n))}n.startsWith("/")?i=Ed(n.substring(1),"/"):i=Ed(n,t)}else i=t;return{pathname:i,search:Xx(r),hash:Yx(l)}}function Ed(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(l=>{l===".."?n.length>1&&n.pop():l!=="."&&n.push(l)}),n.length>1?n.join("/"):"/"}function qi(e,t,n,r){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function qx(e){return e.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function vm(e,t){let n=qx(e);return t?n.map((r,l)=>l===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function jm(e,t,n,r){r===void 0&&(r=!1);let l;typeof e=="string"?l=Os(e):(l=wr({},e),ee(!l.pathname||!l.pathname.includes("?"),qi("?","pathname","search",l)),ee(!l.pathname||!l.pathname.includes("#"),qi("#","pathname","hash",l)),ee(!l.search||!l.search.includes("#"),qi("#","search","hash",l)));let i=e===""||l.pathname==="",a=i?"/":l.pathname,o;if(a==null)o=n;else{let h=t.length-1;if(!r&&a.startsWith("..")){let f=a.split("/");for(;f[0]==="..";)f.shift(),h-=1;l.pathname=f.join("/")}o=h>=0?t[h]:"/"}let c=Kx(l,o),d=a&&a!=="/"&&a.endsWith("/"),u=(i||a===".")&&n.endsWith("/");return!c.pathname.endsWith("/")&&(d||u)&&(c.pathname+="/"),c}const an=e=>e.join("/").replace(/\/\/+/g,"/"),Gx=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),Xx=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,Yx=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function Jx(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const Nm=["post","put","patch","delete"];new Set(Nm);const Zx=["get",...Nm];new Set(Zx);/**
 * React Router v6.30.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function kr(){return kr=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},kr.apply(this,arguments)}const hi=b.createContext(null),bm=b.createContext(null),pn=b.createContext(null),mi=b.createContext(null),fn=b.createContext({outlet:null,matches:[],isDataRoute:!1}),wm=b.createContext(null);function ey(e,t){let{relative:n}=t===void 0?{}:t;Dr()||ee(!1);let{basename:r,navigator:l}=b.useContext(pn),{hash:i,pathname:a,search:o}=pi(e,{relative:n}),c=a;return r!=="/"&&(c=a==="/"?r:an([r,a])),l.createHref({pathname:c,search:o,hash:i})}function Dr(){return b.useContext(mi)!=null}function Vn(){return Dr()||ee(!1),b.useContext(mi).location}function km(e){b.useContext(pn).static||b.useLayoutEffect(e)}function it(){let{isDataRoute:e}=b.useContext(fn);return e?my():ty()}function ty(){Dr()||ee(!1);let e=b.useContext(hi),{basename:t,future:n,navigator:r}=b.useContext(pn),{matches:l}=b.useContext(fn),{pathname:i}=Vn(),a=JSON.stringify(vm(l,n.v7_relativeSplatPath)),o=b.useRef(!1);return km(()=>{o.current=!0}),b.useCallback(function(d,u){if(u===void 0&&(u={}),!o.current)return;if(typeof d=="number"){r.go(d);return}let h=jm(d,JSON.parse(a),i,u.relative==="path");e==null&&t!=="/"&&(h.pathname=h.pathname==="/"?t:an([t,h.pathname])),(u.replace?r.replace:r.push)(h,u.state,u)},[t,r,a,i,e])}function ic(){let{matches:e}=b.useContext(fn),t=e[e.length-1];return t?t.params:{}}function pi(e,t){let{relative:n}=t===void 0?{}:t,{future:r}=b.useContext(pn),{matches:l}=b.useContext(fn),{pathname:i}=Vn(),a=JSON.stringify(vm(l,r.v7_relativeSplatPath));return b.useMemo(()=>jm(e,JSON.parse(a),i,n==="path"),[e,a,i,n])}function ny(e,t){return sy(e,t)}function sy(e,t,n,r){Dr()||ee(!1);let{navigator:l}=b.useContext(pn),{matches:i}=b.useContext(fn),a=i[i.length-1],o=a?a.params:{};a&&a.pathname;let c=a?a.pathnameBase:"/";a&&a.route;let d=Vn(),u;if(t){var h;let w=typeof t=="string"?Os(t):t;c==="/"||(h=w.pathname)!=null&&h.startsWith(c)||ee(!1),u=w}else u=d;let f=u.pathname||"/",x=f;if(c!=="/"){let w=c.replace(/^\//,"").split("/");x="/"+f.replace(/^\//,"").split("/").slice(w.length).join("/")}let j=Rx(e,{pathname:x}),N=oy(j&&j.map(w=>Object.assign({},w,{params:Object.assign({},o,w.params),pathname:an([c,l.encodeLocation?l.encodeLocation(w.pathname).pathname:w.pathname]),pathnameBase:w.pathnameBase==="/"?c:an([c,l.encodeLocation?l.encodeLocation(w.pathnameBase).pathname:w.pathnameBase])})),i,n,r);return t&&N?b.createElement(mi.Provider,{value:{location:kr({pathname:"/",search:"",hash:"",state:null,key:"default"},u),navigationType:Yt.Pop}},N):N}function ry(){let e=hy(),t=Jx(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,l={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return b.createElement(b.Fragment,null,b.createElement("h2",null,"Unexpected Application Error!"),b.createElement("h3",{style:{fontStyle:"italic"}},t),n?b.createElement("pre",{style:l},n):null,null)}const ly=b.createElement(ry,null);class iy extends b.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,n){return n.location!==t.location||n.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:n.error,location:n.location,revalidation:t.revalidation||n.revalidation}}componentDidCatch(t,n){console.error("React Router caught the following error during render",t,n)}render(){return this.state.error!==void 0?b.createElement(fn.Provider,{value:this.props.routeContext},b.createElement(wm.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function ay(e){let{routeContext:t,match:n,children:r}=e,l=b.useContext(hi);return l&&l.static&&l.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(l.staticContext._deepestRenderedBoundaryId=n.route.id),b.createElement(fn.Provider,{value:t},r)}function oy(e,t,n,r){var l;if(t===void 0&&(t=[]),n===void 0&&(n=null),r===void 0&&(r=null),e==null){var i;if(!n)return null;if(n.errors)e=n.matches;else if((i=r)!=null&&i.v7_partialHydration&&t.length===0&&!n.initialized&&n.matches.length>0)e=n.matches;else return null}let a=e,o=(l=n)==null?void 0:l.errors;if(o!=null){let u=a.findIndex(h=>h.route.id&&(o==null?void 0:o[h.route.id])!==void 0);u>=0||ee(!1),a=a.slice(0,Math.min(a.length,u+1))}let c=!1,d=-1;if(n&&r&&r.v7_partialHydration)for(let u=0;u<a.length;u++){let h=a[u];if((h.route.HydrateFallback||h.route.hydrateFallbackElement)&&(d=u),h.route.id){let{loaderData:f,errors:x}=n,j=h.route.loader&&f[h.route.id]===void 0&&(!x||x[h.route.id]===void 0);if(h.route.lazy||j){c=!0,d>=0?a=a.slice(0,d+1):a=[a[0]];break}}}return a.reduceRight((u,h,f)=>{let x,j=!1,N=null,w=null;n&&(x=o&&h.route.id?o[h.route.id]:void 0,N=h.route.errorElement||ly,c&&(d<0&&f===0?(py("route-fallback"),j=!0,w=null):d===f&&(j=!0,w=h.route.hydrateFallbackElement||null)));let m=t.concat(a.slice(0,f+1)),p=()=>{let g;return x?g=N:j?g=w:h.route.Component?g=b.createElement(h.route.Component,null):h.route.element?g=h.route.element:g=u,b.createElement(ay,{match:h,routeContext:{outlet:u,matches:m,isDataRoute:n!=null},children:g})};return n&&(h.route.ErrorBoundary||h.route.errorElement||f===0)?b.createElement(iy,{location:n.location,revalidation:n.revalidation,component:N,error:x,children:p(),routeContext:{outlet:null,matches:m,isDataRoute:!0}}):p()},null)}var Sm=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(Sm||{}),Cm=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(Cm||{});function cy(e){let t=b.useContext(hi);return t||ee(!1),t}function dy(e){let t=b.useContext(bm);return t||ee(!1),t}function uy(e){let t=b.useContext(fn);return t||ee(!1),t}function _m(e){let t=uy(),n=t.matches[t.matches.length-1];return n.route.id||ee(!1),n.route.id}function hy(){var e;let t=b.useContext(wm),n=dy(),r=_m();return t!==void 0?t:(e=n.errors)==null?void 0:e[r]}function my(){let{router:e}=cy(Sm.UseNavigateStable),t=_m(Cm.UseNavigateStable),n=b.useRef(!1);return km(()=>{n.current=!0}),b.useCallback(function(l,i){i===void 0&&(i={}),n.current&&(typeof l=="number"?e.navigate(l):e.navigate(l,kr({fromRouteId:t},i)))},[e,t])}const Ld={};function py(e,t,n){Ld[e]||(Ld[e]=!0)}function fy(e,t){e==null||e.v7_startTransition,e==null||e.v7_relativeSplatPath}function Ae(e){ee(!1)}function xy(e){let{basename:t="/",children:n=null,location:r,navigationType:l=Yt.Pop,navigator:i,static:a=!1,future:o}=e;Dr()&&ee(!1);let c=t.replace(/^\/*/,"/"),d=b.useMemo(()=>({basename:c,navigator:i,static:a,future:kr({v7_relativeSplatPath:!1},o)}),[c,o,i,a]);typeof r=="string"&&(r=Os(r));let{pathname:u="/",search:h="",hash:f="",state:x=null,key:j="default"}=r,N=b.useMemo(()=>{let w=Ls(u,c);return w==null?null:{location:{pathname:w,search:h,hash:f,state:x,key:j},navigationType:l}},[c,u,h,f,x,j,l]);return N==null?null:b.createElement(pn.Provider,{value:d},b.createElement(mi.Provider,{children:n,value:N}))}function Pm(e){let{children:t,location:n}=e;return ny(Va(t),n)}new Promise(()=>{});function Va(e,t){t===void 0&&(t=[]);let n=[];return b.Children.forEach(e,(r,l)=>{if(!b.isValidElement(r))return;let i=[...t,l];if(r.type===b.Fragment){n.push.apply(n,Va(r.props.children,i));return}r.type!==Ae&&ee(!1),!r.props.index||!r.props.children||ee(!1);let a={id:r.props.id||i.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(a.children=Va(r.props.children,i)),n.push(a)}),n}/**
 * React Router DOM v6.30.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Vl(){return Vl=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Vl.apply(this,arguments)}function Em(e,t){if(e==null)return{};var n={},r=Object.keys(e),l,i;for(i=0;i<r.length;i++)l=r[i],!(t.indexOf(l)>=0)&&(n[l]=e[l]);return n}function yy(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function gy(e,t){return e.button===0&&(!t||t==="_self")&&!yy(e)}function Qa(e){return e===void 0&&(e=""),new URLSearchParams(typeof e=="string"||Array.isArray(e)||e instanceof URLSearchParams?e:Object.keys(e).reduce((t,n)=>{let r=e[n];return t.concat(Array.isArray(r)?r.map(l=>[n,l]):[[n,r]])},[]))}function vy(e,t){let n=Qa(e);return t&&t.forEach((r,l)=>{n.has(l)||t.getAll(l).forEach(i=>{n.append(l,i)})}),n}const jy=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],Ny=["aria-current","caseSensitive","className","end","style","to","viewTransition","children"],by="6";try{window.__reactRouterVersion=by}catch{}const wy=b.createContext({isTransitioning:!1}),ky="startTransition",Rd=fp[ky];function Sy(e){let{basename:t,children:n,future:r,window:l}=e,i=b.useRef();i.current==null&&(i.current=Px({window:l,v5Compat:!0}));let a=i.current,[o,c]=b.useState({action:a.action,location:a.location}),{v7_startTransition:d}=r||{},u=b.useCallback(h=>{d&&Rd?Rd(()=>c(h)):c(h)},[c,d]);return b.useLayoutEffect(()=>a.listen(u),[a,u]),b.useEffect(()=>fy(r),[r]),b.createElement(xy,{basename:t,children:n,location:o.location,navigationType:o.action,navigator:a,future:r})}const Cy=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",_y=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Py=b.forwardRef(function(t,n){let{onClick:r,relative:l,reloadDocument:i,replace:a,state:o,target:c,to:d,preventScrollReset:u,viewTransition:h}=t,f=Em(t,jy),{basename:x}=b.useContext(pn),j,N=!1;if(typeof d=="string"&&_y.test(d)&&(j=d,Cy))try{let g=new URL(window.location.href),v=d.startsWith("//")?new URL(g.protocol+d):new URL(d),k=Ls(v.pathname,x);v.origin===g.origin&&k!=null?d=k+v.search+v.hash:N=!0}catch{}let w=ey(d,{relative:l}),m=Ry(d,{replace:a,state:o,target:c,preventScrollReset:u,relative:l,viewTransition:h});function p(g){r&&r(g),g.defaultPrevented||m(g)}return b.createElement("a",Vl({},f,{href:j||w,onClick:N||i?r:p,ref:n,target:c}))}),Ey=b.forwardRef(function(t,n){let{"aria-current":r="page",caseSensitive:l=!1,className:i="",end:a=!1,style:o,to:c,viewTransition:d,children:u}=t,h=Em(t,Ny),f=pi(c,{relative:h.relative}),x=Vn(),j=b.useContext(bm),{navigator:N,basename:w}=b.useContext(pn),m=j!=null&&My(f)&&d===!0,p=N.encodeLocation?N.encodeLocation(f).pathname:f.pathname,g=x.pathname,v=j&&j.navigation&&j.navigation.location?j.navigation.location.pathname:null;l||(g=g.toLowerCase(),v=v?v.toLowerCase():null,p=p.toLowerCase()),v&&w&&(v=Ls(v,w)||v);const k=p!=="/"&&p.endsWith("/")?p.length-1:p.length;let C=g===p||!a&&g.startsWith(p)&&g.charAt(k)==="/",_=v!=null&&(v===p||!a&&v.startsWith(p)&&v.charAt(p.length)==="/"),P={isActive:C,isPending:_,isTransitioning:m},B=C?r:void 0,L;typeof i=="function"?L=i(P):L=[i,C?"active":null,_?"pending":null,m?"transitioning":null].filter(Boolean).join(" ");let U=typeof o=="function"?o(P):o;return b.createElement(Py,Vl({},h,{"aria-current":B,className:L,ref:n,style:U,to:c,viewTransition:d}),typeof u=="function"?u(P):u)});var Ka;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(Ka||(Ka={}));var Td;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(Td||(Td={}));function Ly(e){let t=b.useContext(hi);return t||ee(!1),t}function Ry(e,t){let{target:n,replace:r,state:l,preventScrollReset:i,relative:a,viewTransition:o}=t===void 0?{}:t,c=it(),d=Vn(),u=pi(e,{relative:a});return b.useCallback(h=>{if(gy(h,n)){h.preventDefault();let f=r!==void 0?r:Wl(d)===Wl(u);c(e,{replace:f,state:l,preventScrollReset:i,relative:a,viewTransition:o})}},[d,c,u,r,l,n,e,i,a,o])}function Ty(e){let t=b.useRef(Qa(e)),n=b.useRef(!1),r=Vn(),l=b.useMemo(()=>vy(r.search,n.current?null:t.current),[r.search]),i=it(),a=b.useCallback((o,c)=>{const d=Qa(typeof o=="function"?o(l):o);n.current=!0,i("?"+d,c)},[i,l]);return[l,a]}function My(e,t){t===void 0&&(t={});let n=b.useContext(wy);n==null&&ee(!1);let{basename:r}=Ly(Ka.useViewTransitionState),l=pi(e,{relative:t.relative});if(!n.isTransitioning)return!1;let i=Ls(n.currentLocation.pathname,r)||n.currentLocation.pathname,a=Ls(n.nextLocation.pathname,r)||n.nextLocation.pathname;return Wa(l.pathname,a)!=null||Wa(l.pathname,i)!=null}var As=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(e){return this.listeners.add(e),this.onSubscribe(),()=>{this.listeners.delete(e),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},Oy={setTimeout:(e,t)=>setTimeout(e,t),clearTimeout:e=>clearTimeout(e),setInterval:(e,t)=>setInterval(e,t),clearInterval:e=>clearInterval(e)},Ut,oo,qd,Ay=(qd=class{constructor(){O(this,Ut,Oy);O(this,oo,!1)}setTimeoutProvider(e){E(this,Ut,e)}setTimeout(e,t){return y(this,Ut).setTimeout(e,t)}clearTimeout(e){y(this,Ut).clearTimeout(e)}setInterval(e,t){return y(this,Ut).setInterval(e,t)}clearInterval(e){y(this,Ut).clearInterval(e)}},Ut=new WeakMap,oo=new WeakMap,qd),wn=new Ay;function Dy(e){setTimeout(e,0)}var $n=typeof window>"u"||"Deno"in globalThis;function Ne(){}function Iy(e,t){return typeof e=="function"?e(t):e}function qa(e){return typeof e=="number"&&e>=0&&e!==1/0}function Lm(e,t){return Math.max(e+(t||0)-Date.now(),0)}function on(e,t){return typeof e=="function"?e(t):e}function We(e,t){return typeof e=="function"?e(t):e}function Md(e,t){const{type:n="all",exact:r,fetchStatus:l,predicate:i,queryKey:a,stale:o}=e;if(a){if(r){if(t.queryHash!==ac(a,t.options))return!1}else if(!Sr(t.queryKey,a))return!1}if(n!=="all"){const c=t.isActive();if(n==="active"&&!c||n==="inactive"&&c)return!1}return!(typeof o=="boolean"&&t.isStale()!==o||l&&l!==t.state.fetchStatus||i&&!i(t))}function Od(e,t){const{exact:n,status:r,predicate:l,mutationKey:i}=e;if(i){if(!t.options.mutationKey)return!1;if(n){if(Bn(t.options.mutationKey)!==Bn(i))return!1}else if(!Sr(t.options.mutationKey,i))return!1}return!(r&&t.state.status!==r||l&&!l(t))}function ac(e,t){return((t==null?void 0:t.queryKeyHashFn)||Bn)(e)}function Bn(e){return JSON.stringify(e,(t,n)=>Ga(n)?Object.keys(n).sort().reduce((r,l)=>(r[l]=n[l],r),{}):n)}function Sr(e,t){return e===t?!0:typeof e!=typeof t?!1:e&&t&&typeof e=="object"&&typeof t=="object"?Object.keys(t).every(n=>Sr(e[n],t[n])):!1}var Fy=Object.prototype.hasOwnProperty;function Rm(e,t){if(e===t)return e;const n=Ad(e)&&Ad(t);if(!n&&!(Ga(e)&&Ga(t)))return t;const l=(n?e:Object.keys(e)).length,i=n?t:Object.keys(t),a=i.length,o=n?new Array(a):{};let c=0;for(let d=0;d<a;d++){const u=n?d:i[d],h=e[u],f=t[u];if(h===f){o[u]=h,(n?d<l:Fy.call(e,u))&&c++;continue}if(h===null||f===null||typeof h!="object"||typeof f!="object"){o[u]=f;continue}const x=Rm(h,f);o[u]=x,x===h&&c++}return l===a&&c===l?e:o}function Ql(e,t){if(!t||Object.keys(e).length!==Object.keys(t).length)return!1;for(const n in e)if(e[n]!==t[n])return!1;return!0}function Ad(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function Ga(e){if(!Dd(e))return!1;const t=e.constructor;if(t===void 0)return!0;const n=t.prototype;return!(!Dd(n)||!n.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(e)!==Object.prototype)}function Dd(e){return Object.prototype.toString.call(e)==="[object Object]"}function zy(e){return new Promise(t=>{wn.setTimeout(t,e)})}function Xa(e,t,n){return typeof n.structuralSharing=="function"?n.structuralSharing(e,t):n.structuralSharing!==!1?Rm(e,t):t}function Uy(e,t,n=0){const r=[...e,t];return n&&r.length>n?r.slice(1):r}function $y(e,t,n=0){const r=[t,...e];return n&&r.length>n?r.slice(0,-1):r}var oc=Symbol();function Tm(e,t){return!e.queryFn&&(t!=null&&t.initialPromise)?()=>t.initialPromise:!e.queryFn||e.queryFn===oc?()=>Promise.reject(new Error(`Missing queryFn: '${e.queryHash}'`)):e.queryFn}function cc(e,t){return typeof e=="function"?e(...t):!!e}function By(e,t,n){let r=!1,l;return Object.defineProperty(e,"signal",{enumerable:!0,get:()=>(l??(l=t()),r||(r=!0,l.aborted?n():l.addEventListener("abort",n,{once:!0})),l)}),e}var kn,$t,us,Gd,Hy=(Gd=class extends As{constructor(){super();O(this,kn);O(this,$t);O(this,us);E(this,us,t=>{if(!$n&&window.addEventListener){const n=()=>t();return window.addEventListener("visibilitychange",n,!1),()=>{window.removeEventListener("visibilitychange",n)}}})}onSubscribe(){y(this,$t)||this.setEventListener(y(this,us))}onUnsubscribe(){var t;this.hasListeners()||((t=y(this,$t))==null||t.call(this),E(this,$t,void 0))}setEventListener(t){var n;E(this,us,t),(n=y(this,$t))==null||n.call(this),E(this,$t,t(r=>{typeof r=="boolean"?this.setFocused(r):this.onFocus()}))}setFocused(t){y(this,kn)!==t&&(E(this,kn,t),this.onFocus())}onFocus(){const t=this.isFocused();this.listeners.forEach(n=>{n(t)})}isFocused(){var t;return typeof y(this,kn)=="boolean"?y(this,kn):((t=globalThis.document)==null?void 0:t.visibilityState)!=="hidden"}},kn=new WeakMap,$t=new WeakMap,us=new WeakMap,Gd),dc=new Hy;function Ya(){let e,t;const n=new Promise((l,i)=>{e=l,t=i});n.status="pending",n.catch(()=>{});function r(l){Object.assign(n,l),delete n.resolve,delete n.reject}return n.resolve=l=>{r({status:"fulfilled",value:l}),e(l)},n.reject=l=>{r({status:"rejected",reason:l}),t(l)},n}var Wy=Dy;function Vy(){let e=[],t=0,n=o=>{o()},r=o=>{o()},l=Wy;const i=o=>{t?e.push(o):l(()=>{n(o)})},a=()=>{const o=e;e=[],o.length&&l(()=>{r(()=>{o.forEach(c=>{n(c)})})})};return{batch:o=>{let c;t++;try{c=o()}finally{t--,t||a()}return c},batchCalls:o=>(...c)=>{i(()=>{o(...c)})},schedule:i,setNotifyFunction:o=>{n=o},setBatchNotifyFunction:o=>{r=o},setScheduler:o=>{l=o}}}var le=Vy(),hs,Bt,ms,Xd,Qy=(Xd=class extends As{constructor(){super();O(this,hs,!0);O(this,Bt);O(this,ms);E(this,ms,t=>{if(!$n&&window.addEventListener){const n=()=>t(!0),r=()=>t(!1);return window.addEventListener("online",n,!1),window.addEventListener("offline",r,!1),()=>{window.removeEventListener("online",n),window.removeEventListener("offline",r)}}})}onSubscribe(){y(this,Bt)||this.setEventListener(y(this,ms))}onUnsubscribe(){var t;this.hasListeners()||((t=y(this,Bt))==null||t.call(this),E(this,Bt,void 0))}setEventListener(t){var n;E(this,ms,t),(n=y(this,Bt))==null||n.call(this),E(this,Bt,t(this.setOnline.bind(this)))}setOnline(t){y(this,hs)!==t&&(E(this,hs,t),this.listeners.forEach(r=>{r(t)}))}isOnline(){return y(this,hs)}},hs=new WeakMap,Bt=new WeakMap,ms=new WeakMap,Xd),Kl=new Qy;function Ky(e){return Math.min(1e3*2**e,3e4)}function Mm(e){return(e??"online")==="online"?Kl.isOnline():!0}var Ja=class extends Error{constructor(e){super("CancelledError"),this.revert=e==null?void 0:e.revert,this.silent=e==null?void 0:e.silent}};function Om(e){let t=!1,n=0,r;const l=Ya(),i=()=>l.status!=="pending",a=N=>{var w;if(!i()){const m=new Ja(N);f(m),(w=e.onCancel)==null||w.call(e,m)}},o=()=>{t=!0},c=()=>{t=!1},d=()=>dc.isFocused()&&(e.networkMode==="always"||Kl.isOnline())&&e.canRun(),u=()=>Mm(e.networkMode)&&e.canRun(),h=N=>{i()||(r==null||r(),l.resolve(N))},f=N=>{i()||(r==null||r(),l.reject(N))},x=()=>new Promise(N=>{var w;r=m=>{(i()||d())&&N(m)},(w=e.onPause)==null||w.call(e)}).then(()=>{var N;r=void 0,i()||(N=e.onContinue)==null||N.call(e)}),j=()=>{if(i())return;let N;const w=n===0?e.initialPromise:void 0;try{N=w??e.fn()}catch(m){N=Promise.reject(m)}Promise.resolve(N).then(h).catch(m=>{var C;if(i())return;const p=e.retry??($n?0:3),g=e.retryDelay??Ky,v=typeof g=="function"?g(n,m):g,k=p===!0||typeof p=="number"&&n<p||typeof p=="function"&&p(n,m);if(t||!k){f(m);return}n++,(C=e.onFail)==null||C.call(e,n,m),zy(v).then(()=>d()?void 0:x()).then(()=>{t?f(m):j()})})};return{promise:l,status:()=>l.status,cancel:a,continue:()=>(r==null||r(),l),cancelRetry:o,continueRetry:c,canStart:u,start:()=>(u()?j():x().then(j),l)}}var Sn,Yd,Am=(Yd=class{constructor(){O(this,Sn)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),qa(this.gcTime)&&E(this,Sn,wn.setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(e){this.gcTime=Math.max(this.gcTime||0,e??($n?1/0:5*60*1e3))}clearGcTimeout(){y(this,Sn)&&(wn.clearTimeout(y(this,Sn)),E(this,Sn,void 0))}},Sn=new WeakMap,Yd),Cn,ps,He,_n,oe,Cr,Pn,Ze,gt,Jd,qy=(Jd=class extends Am{constructor(t){super();O(this,Ze);O(this,Cn);O(this,ps);O(this,He);O(this,_n);O(this,oe);O(this,Cr);O(this,Pn);E(this,Pn,!1),E(this,Cr,t.defaultOptions),this.setOptions(t.options),this.observers=[],E(this,_n,t.client),E(this,He,y(this,_n).getQueryCache()),this.queryKey=t.queryKey,this.queryHash=t.queryHash,E(this,Cn,Fd(this.options)),this.state=t.state??y(this,Cn),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var t;return(t=y(this,oe))==null?void 0:t.promise}setOptions(t){if(this.options={...y(this,Cr),...t},this.updateGcTime(this.options.gcTime),this.state&&this.state.data===void 0){const n=Fd(this.options);n.data!==void 0&&(this.setState(Id(n.data,n.dataUpdatedAt)),E(this,Cn,n))}}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&y(this,He).remove(this)}setData(t,n){const r=Xa(this.state.data,t,this.options);return D(this,Ze,gt).call(this,{data:r,type:"success",dataUpdatedAt:n==null?void 0:n.updatedAt,manual:n==null?void 0:n.manual}),r}setState(t,n){D(this,Ze,gt).call(this,{type:"setState",state:t,setStateOptions:n})}cancel(t){var r,l;const n=(r=y(this,oe))==null?void 0:r.promise;return(l=y(this,oe))==null||l.cancel(t),n?n.then(Ne).catch(Ne):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(y(this,Cn))}isActive(){return this.observers.some(t=>We(t.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===oc||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(t=>on(t.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(t=>t.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(t=0){return this.state.data===void 0?!0:t==="static"?!1:this.state.isInvalidated?!0:!Lm(this.state.dataUpdatedAt,t)}onFocus(){var n;const t=this.observers.find(r=>r.shouldFetchOnWindowFocus());t==null||t.refetch({cancelRefetch:!1}),(n=y(this,oe))==null||n.continue()}onOnline(){var n;const t=this.observers.find(r=>r.shouldFetchOnReconnect());t==null||t.refetch({cancelRefetch:!1}),(n=y(this,oe))==null||n.continue()}addObserver(t){this.observers.includes(t)||(this.observers.push(t),this.clearGcTimeout(),y(this,He).notify({type:"observerAdded",query:this,observer:t}))}removeObserver(t){this.observers.includes(t)&&(this.observers=this.observers.filter(n=>n!==t),this.observers.length||(y(this,oe)&&(y(this,Pn)?y(this,oe).cancel({revert:!0}):y(this,oe).cancelRetry()),this.scheduleGc()),y(this,He).notify({type:"observerRemoved",query:this,observer:t}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||D(this,Ze,gt).call(this,{type:"invalidate"})}async fetch(t,n){var c,d,u,h,f,x,j,N,w,m,p,g;if(this.state.fetchStatus!=="idle"&&((c=y(this,oe))==null?void 0:c.status())!=="rejected"){if(this.state.data!==void 0&&(n!=null&&n.cancelRefetch))this.cancel({silent:!0});else if(y(this,oe))return y(this,oe).continueRetry(),y(this,oe).promise}if(t&&this.setOptions(t),!this.options.queryFn){const v=this.observers.find(k=>k.options.queryFn);v&&this.setOptions(v.options)}const r=new AbortController,l=v=>{Object.defineProperty(v,"signal",{enumerable:!0,get:()=>(E(this,Pn,!0),r.signal)})},i=()=>{const v=Tm(this.options,n),C=(()=>{const _={client:y(this,_n),queryKey:this.queryKey,meta:this.meta};return l(_),_})();return E(this,Pn,!1),this.options.persister?this.options.persister(v,C,this):v(C)},o=(()=>{const v={fetchOptions:n,options:this.options,queryKey:this.queryKey,client:y(this,_n),state:this.state,fetchFn:i};return l(v),v})();(d=this.options.behavior)==null||d.onFetch(o,this),E(this,ps,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((u=o.fetchOptions)==null?void 0:u.meta))&&D(this,Ze,gt).call(this,{type:"fetch",meta:(h=o.fetchOptions)==null?void 0:h.meta}),E(this,oe,Om({initialPromise:n==null?void 0:n.initialPromise,fn:o.fetchFn,onCancel:v=>{v instanceof Ja&&v.revert&&this.setState({...y(this,ps),fetchStatus:"idle"}),r.abort()},onFail:(v,k)=>{D(this,Ze,gt).call(this,{type:"failed",failureCount:v,error:k})},onPause:()=>{D(this,Ze,gt).call(this,{type:"pause"})},onContinue:()=>{D(this,Ze,gt).call(this,{type:"continue"})},retry:o.options.retry,retryDelay:o.options.retryDelay,networkMode:o.options.networkMode,canRun:()=>!0}));try{const v=await y(this,oe).start();if(v===void 0)throw new Error(`${this.queryHash} data is undefined`);return this.setData(v),(x=(f=y(this,He).config).onSuccess)==null||x.call(f,v,this),(N=(j=y(this,He).config).onSettled)==null||N.call(j,v,this.state.error,this),v}catch(v){if(v instanceof Ja){if(v.silent)return y(this,oe).promise;if(v.revert){if(this.state.data===void 0)throw v;return this.state.data}}throw D(this,Ze,gt).call(this,{type:"error",error:v}),(m=(w=y(this,He).config).onError)==null||m.call(w,v,this),(g=(p=y(this,He).config).onSettled)==null||g.call(p,this.state.data,v,this),v}finally{this.scheduleGc()}}},Cn=new WeakMap,ps=new WeakMap,He=new WeakMap,_n=new WeakMap,oe=new WeakMap,Cr=new WeakMap,Pn=new WeakMap,Ze=new WeakSet,gt=function(t){const n=r=>{switch(t.type){case"failed":return{...r,fetchFailureCount:t.failureCount,fetchFailureReason:t.error};case"pause":return{...r,fetchStatus:"paused"};case"continue":return{...r,fetchStatus:"fetching"};case"fetch":return{...r,...Dm(r.data,this.options),fetchMeta:t.meta??null};case"success":const l={...r,...Id(t.data,t.dataUpdatedAt),dataUpdateCount:r.dataUpdateCount+1,...!t.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};return E(this,ps,t.manual?l:void 0),l;case"error":const i=t.error;return{...r,error:i,errorUpdateCount:r.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:r.fetchFailureCount+1,fetchFailureReason:i,fetchStatus:"idle",status:"error",isInvalidated:!0};case"invalidate":return{...r,isInvalidated:!0};case"setState":return{...r,...t.state}}};this.state=n(this.state),le.batch(()=>{this.observers.forEach(r=>{r.onQueryUpdate()}),y(this,He).notify({query:this,type:"updated",action:t})})},Jd);function Dm(e,t){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:Mm(t.networkMode)?"fetching":"paused",...e===void 0&&{error:null,status:"pending"}}}function Id(e,t){return{data:e,dataUpdatedAt:t??Date.now(),error:null,isInvalidated:!1,status:"success"}}function Fd(e){const t=typeof e.initialData=="function"?e.initialData():e.initialData,n=t!==void 0,r=n?typeof e.initialDataUpdatedAt=="function"?e.initialDataUpdatedAt():e.initialDataUpdatedAt:0;return{data:t,dataUpdateCount:0,dataUpdatedAt:n?r??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:n?"success":"pending",fetchStatus:"idle"}}var Se,z,_r,ge,En,fs,Nt,Ht,Pr,xs,ys,Ln,Rn,Wt,gs,H,Xs,Za,eo,to,no,so,ro,lo,Im,Zd,Gy=(Zd=class extends As{constructor(t,n){super();O(this,H);O(this,Se);O(this,z);O(this,_r);O(this,ge);O(this,En);O(this,fs);O(this,Nt);O(this,Ht);O(this,Pr);O(this,xs);O(this,ys);O(this,Ln);O(this,Rn);O(this,Wt);O(this,gs,new Set);this.options=n,E(this,Se,t),E(this,Ht,null),E(this,Nt,Ya()),this.bindMethods(),this.setOptions(n)}bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(y(this,z).addObserver(this),zd(y(this,z),this.options)?D(this,H,Xs).call(this):this.updateResult(),D(this,H,no).call(this))}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return io(y(this,z),this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return io(y(this,z),this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,D(this,H,so).call(this),D(this,H,ro).call(this),y(this,z).removeObserver(this)}setOptions(t){const n=this.options,r=y(this,z);if(this.options=y(this,Se).defaultQueryOptions(t),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof We(this.options.enabled,y(this,z))!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");D(this,H,lo).call(this),y(this,z).setOptions(this.options),n._defaulted&&!Ql(this.options,n)&&y(this,Se).getQueryCache().notify({type:"observerOptionsUpdated",query:y(this,z),observer:this});const l=this.hasListeners();l&&Ud(y(this,z),r,this.options,n)&&D(this,H,Xs).call(this),this.updateResult(),l&&(y(this,z)!==r||We(this.options.enabled,y(this,z))!==We(n.enabled,y(this,z))||on(this.options.staleTime,y(this,z))!==on(n.staleTime,y(this,z)))&&D(this,H,Za).call(this);const i=D(this,H,eo).call(this);l&&(y(this,z)!==r||We(this.options.enabled,y(this,z))!==We(n.enabled,y(this,z))||i!==y(this,Wt))&&D(this,H,to).call(this,i)}getOptimisticResult(t){const n=y(this,Se).getQueryCache().build(y(this,Se),t),r=this.createResult(n,t);return Yy(this,r)&&(E(this,ge,r),E(this,fs,this.options),E(this,En,y(this,z).state)),r}getCurrentResult(){return y(this,ge)}trackResult(t,n){return new Proxy(t,{get:(r,l)=>(this.trackProp(l),n==null||n(l),l==="promise"&&(this.trackProp("data"),!this.options.experimental_prefetchInRender&&y(this,Nt).status==="pending"&&y(this,Nt).reject(new Error("experimental_prefetchInRender feature flag is not enabled"))),Reflect.get(r,l))})}trackProp(t){y(this,gs).add(t)}getCurrentQuery(){return y(this,z)}refetch({...t}={}){return this.fetch({...t})}fetchOptimistic(t){const n=y(this,Se).defaultQueryOptions(t),r=y(this,Se).getQueryCache().build(y(this,Se),n);return r.fetch().then(()=>this.createResult(r,n))}fetch(t){return D(this,H,Xs).call(this,{...t,cancelRefetch:t.cancelRefetch??!0}).then(()=>(this.updateResult(),y(this,ge)))}createResult(t,n){var B;const r=y(this,z),l=this.options,i=y(this,ge),a=y(this,En),o=y(this,fs),d=t!==r?t.state:y(this,_r),{state:u}=t;let h={...u},f=!1,x;if(n._optimisticResults){const L=this.hasListeners(),U=!L&&zd(t,n),Be=L&&Ud(t,r,n,l);(U||Be)&&(h={...h,...Dm(u.data,t.options)}),n._optimisticResults==="isRestoring"&&(h.fetchStatus="idle")}let{error:j,errorUpdatedAt:N,status:w}=h;x=h.data;let m=!1;if(n.placeholderData!==void 0&&x===void 0&&w==="pending"){let L;i!=null&&i.isPlaceholderData&&n.placeholderData===(o==null?void 0:o.placeholderData)?(L=i.data,m=!0):L=typeof n.placeholderData=="function"?n.placeholderData((B=y(this,ys))==null?void 0:B.state.data,y(this,ys)):n.placeholderData,L!==void 0&&(w="success",x=Xa(i==null?void 0:i.data,L,n),f=!0)}if(n.select&&x!==void 0&&!m)if(i&&x===(a==null?void 0:a.data)&&n.select===y(this,Pr))x=y(this,xs);else try{E(this,Pr,n.select),x=n.select(x),x=Xa(i==null?void 0:i.data,x,n),E(this,xs,x),E(this,Ht,null)}catch(L){E(this,Ht,L)}y(this,Ht)&&(j=y(this,Ht),x=y(this,xs),N=Date.now(),w="error");const p=h.fetchStatus==="fetching",g=w==="pending",v=w==="error",k=g&&p,C=x!==void 0,P={status:w,fetchStatus:h.fetchStatus,isPending:g,isSuccess:w==="success",isError:v,isInitialLoading:k,isLoading:k,data:x,dataUpdatedAt:h.dataUpdatedAt,error:j,errorUpdatedAt:N,failureCount:h.fetchFailureCount,failureReason:h.fetchFailureReason,errorUpdateCount:h.errorUpdateCount,isFetched:h.dataUpdateCount>0||h.errorUpdateCount>0,isFetchedAfterMount:h.dataUpdateCount>d.dataUpdateCount||h.errorUpdateCount>d.errorUpdateCount,isFetching:p,isRefetching:p&&!g,isLoadingError:v&&!C,isPaused:h.fetchStatus==="paused",isPlaceholderData:f,isRefetchError:v&&C,isStale:uc(t,n),refetch:this.refetch,promise:y(this,Nt),isEnabled:We(n.enabled,t)!==!1};if(this.options.experimental_prefetchInRender){const L=ot=>{P.status==="error"?ot.reject(P.error):P.data!==void 0&&ot.resolve(P.data)},U=()=>{const ot=E(this,Nt,P.promise=Ya());L(ot)},Be=y(this,Nt);switch(Be.status){case"pending":t.queryHash===r.queryHash&&L(Be);break;case"fulfilled":(P.status==="error"||P.data!==Be.value)&&U();break;case"rejected":(P.status!=="error"||P.error!==Be.reason)&&U();break}}return P}updateResult(){const t=y(this,ge),n=this.createResult(y(this,z),this.options);if(E(this,En,y(this,z).state),E(this,fs,this.options),y(this,En).data!==void 0&&E(this,ys,y(this,z)),Ql(n,t))return;E(this,ge,n);const r=()=>{if(!t)return!0;const{notifyOnChangeProps:l}=this.options,i=typeof l=="function"?l():l;if(i==="all"||!i&&!y(this,gs).size)return!0;const a=new Set(i??y(this,gs));return this.options.throwOnError&&a.add("error"),Object.keys(y(this,ge)).some(o=>{const c=o;return y(this,ge)[c]!==t[c]&&a.has(c)})};D(this,H,Im).call(this,{listeners:r()})}onQueryUpdate(){this.updateResult(),this.hasListeners()&&D(this,H,no).call(this)}},Se=new WeakMap,z=new WeakMap,_r=new WeakMap,ge=new WeakMap,En=new WeakMap,fs=new WeakMap,Nt=new WeakMap,Ht=new WeakMap,Pr=new WeakMap,xs=new WeakMap,ys=new WeakMap,Ln=new WeakMap,Rn=new WeakMap,Wt=new WeakMap,gs=new WeakMap,H=new WeakSet,Xs=function(t){D(this,H,lo).call(this);let n=y(this,z).fetch(this.options,t);return t!=null&&t.throwOnError||(n=n.catch(Ne)),n},Za=function(){D(this,H,so).call(this);const t=on(this.options.staleTime,y(this,z));if($n||y(this,ge).isStale||!qa(t))return;const r=Lm(y(this,ge).dataUpdatedAt,t)+1;E(this,Ln,wn.setTimeout(()=>{y(this,ge).isStale||this.updateResult()},r))},eo=function(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(y(this,z)):this.options.refetchInterval)??!1},to=function(t){D(this,H,ro).call(this),E(this,Wt,t),!($n||We(this.options.enabled,y(this,z))===!1||!qa(y(this,Wt))||y(this,Wt)===0)&&E(this,Rn,wn.setInterval(()=>{(this.options.refetchIntervalInBackground||dc.isFocused())&&D(this,H,Xs).call(this)},y(this,Wt)))},no=function(){D(this,H,Za).call(this),D(this,H,to).call(this,D(this,H,eo).call(this))},so=function(){y(this,Ln)&&(wn.clearTimeout(y(this,Ln)),E(this,Ln,void 0))},ro=function(){y(this,Rn)&&(wn.clearInterval(y(this,Rn)),E(this,Rn,void 0))},lo=function(){const t=y(this,Se).getQueryCache().build(y(this,Se),this.options);if(t===y(this,z))return;const n=y(this,z);E(this,z,t),E(this,_r,t.state),this.hasListeners()&&(n==null||n.removeObserver(this),t.addObserver(this))},Im=function(t){le.batch(()=>{t.listeners&&this.listeners.forEach(n=>{n(y(this,ge))}),y(this,Se).getQueryCache().notify({query:y(this,z),type:"observerResultsUpdated"})})},Zd);function Xy(e,t){return We(t.enabled,e)!==!1&&e.state.data===void 0&&!(e.state.status==="error"&&t.retryOnMount===!1)}function zd(e,t){return Xy(e,t)||e.state.data!==void 0&&io(e,t,t.refetchOnMount)}function io(e,t,n){if(We(t.enabled,e)!==!1&&on(t.staleTime,e)!=="static"){const r=typeof n=="function"?n(e):n;return r==="always"||r!==!1&&uc(e,t)}return!1}function Ud(e,t,n,r){return(e!==t||We(r.enabled,e)===!1)&&(!n.suspense||e.state.status!=="error")&&uc(e,n)}function uc(e,t){return We(t.enabled,e)!==!1&&e.isStaleByTime(on(t.staleTime,e))}function Yy(e,t){return!Ql(e.getCurrentResult(),t)}function $d(e){return{onFetch:(t,n)=>{var u,h,f,x,j;const r=t.options,l=(f=(h=(u=t.fetchOptions)==null?void 0:u.meta)==null?void 0:h.fetchMore)==null?void 0:f.direction,i=((x=t.state.data)==null?void 0:x.pages)||[],a=((j=t.state.data)==null?void 0:j.pageParams)||[];let o={pages:[],pageParams:[]},c=0;const d=async()=>{let N=!1;const w=g=>{By(g,()=>t.signal,()=>N=!0)},m=Tm(t.options,t.fetchOptions),p=async(g,v,k)=>{if(N)return Promise.reject();if(v==null&&g.pages.length)return Promise.resolve(g);const _=(()=>{const U={client:t.client,queryKey:t.queryKey,pageParam:v,direction:k?"backward":"forward",meta:t.options.meta};return w(U),U})(),P=await m(_),{maxPages:B}=t.options,L=k?$y:Uy;return{pages:L(g.pages,P,B),pageParams:L(g.pageParams,v,B)}};if(l&&i.length){const g=l==="backward",v=g?Jy:Bd,k={pages:i,pageParams:a},C=v(r,k);o=await p(k,C,g)}else{const g=e??i.length;do{const v=c===0?a[0]??r.initialPageParam:Bd(r,o);if(c>0&&v==null)break;o=await p(o,v),c++}while(c<g)}return o};t.options.persister?t.fetchFn=()=>{var N,w;return(w=(N=t.options).persister)==null?void 0:w.call(N,d,{client:t.client,queryKey:t.queryKey,meta:t.options.meta,signal:t.signal},n)}:t.fetchFn=d}}}function Bd(e,{pages:t,pageParams:n}){const r=t.length-1;return t.length>0?e.getNextPageParam(t[r],t,n[r],n):void 0}function Jy(e,{pages:t,pageParams:n}){var r;return t.length>0?(r=e.getPreviousPageParam)==null?void 0:r.call(e,t[0],t,n[0],n):void 0}var Er,ht,ve,Tn,mt,At,eu,Zy=(eu=class extends Am{constructor(t){super();O(this,mt);O(this,Er);O(this,ht);O(this,ve);O(this,Tn);E(this,Er,t.client),this.mutationId=t.mutationId,E(this,ve,t.mutationCache),E(this,ht,[]),this.state=t.state||Fm(),this.setOptions(t.options),this.scheduleGc()}setOptions(t){this.options=t,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(t){y(this,ht).includes(t)||(y(this,ht).push(t),this.clearGcTimeout(),y(this,ve).notify({type:"observerAdded",mutation:this,observer:t}))}removeObserver(t){E(this,ht,y(this,ht).filter(n=>n!==t)),this.scheduleGc(),y(this,ve).notify({type:"observerRemoved",mutation:this,observer:t})}optionalRemove(){y(this,ht).length||(this.state.status==="pending"?this.scheduleGc():y(this,ve).remove(this))}continue(){var t;return((t=y(this,Tn))==null?void 0:t.continue())??this.execute(this.state.variables)}async execute(t){var a,o,c,d,u,h,f,x,j,N,w,m,p,g,v,k,C,_,P,B;const n=()=>{D(this,mt,At).call(this,{type:"continue"})},r={client:y(this,Er),meta:this.options.meta,mutationKey:this.options.mutationKey};E(this,Tn,Om({fn:()=>this.options.mutationFn?this.options.mutationFn(t,r):Promise.reject(new Error("No mutationFn found")),onFail:(L,U)=>{D(this,mt,At).call(this,{type:"failed",failureCount:L,error:U})},onPause:()=>{D(this,mt,At).call(this,{type:"pause"})},onContinue:n,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>y(this,ve).canRun(this)}));const l=this.state.status==="pending",i=!y(this,Tn).canStart();try{if(l)n();else{D(this,mt,At).call(this,{type:"pending",variables:t,isPaused:i}),await((o=(a=y(this,ve).config).onMutate)==null?void 0:o.call(a,t,this,r));const U=await((d=(c=this.options).onMutate)==null?void 0:d.call(c,t,r));U!==this.state.context&&D(this,mt,At).call(this,{type:"pending",context:U,variables:t,isPaused:i})}const L=await y(this,Tn).start();return await((h=(u=y(this,ve).config).onSuccess)==null?void 0:h.call(u,L,t,this.state.context,this,r)),await((x=(f=this.options).onSuccess)==null?void 0:x.call(f,L,t,this.state.context,r)),await((N=(j=y(this,ve).config).onSettled)==null?void 0:N.call(j,L,null,this.state.variables,this.state.context,this,r)),await((m=(w=this.options).onSettled)==null?void 0:m.call(w,L,null,t,this.state.context,r)),D(this,mt,At).call(this,{type:"success",data:L}),L}catch(L){try{await((g=(p=y(this,ve).config).onError)==null?void 0:g.call(p,L,t,this.state.context,this,r))}catch(U){Promise.reject(U)}try{await((k=(v=this.options).onError)==null?void 0:k.call(v,L,t,this.state.context,r))}catch(U){Promise.reject(U)}try{await((_=(C=y(this,ve).config).onSettled)==null?void 0:_.call(C,void 0,L,this.state.variables,this.state.context,this,r))}catch(U){Promise.reject(U)}try{await((B=(P=this.options).onSettled)==null?void 0:B.call(P,void 0,L,t,this.state.context,r))}catch(U){Promise.reject(U)}throw D(this,mt,At).call(this,{type:"error",error:L}),L}finally{y(this,ve).runNext(this)}}},Er=new WeakMap,ht=new WeakMap,ve=new WeakMap,Tn=new WeakMap,mt=new WeakSet,At=function(t){const n=r=>{switch(t.type){case"failed":return{...r,failureCount:t.failureCount,failureReason:t.error};case"pause":return{...r,isPaused:!0};case"continue":return{...r,isPaused:!1};case"pending":return{...r,context:t.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:t.isPaused,status:"pending",variables:t.variables,submittedAt:Date.now()};case"success":return{...r,data:t.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...r,data:void 0,error:t.error,failureCount:r.failureCount+1,failureReason:t.error,isPaused:!1,status:"error"}}};this.state=n(this.state),le.batch(()=>{y(this,ht).forEach(r=>{r.onMutationUpdate(t)}),y(this,ve).notify({mutation:this,type:"updated",action:t})})},eu);function Fm(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var bt,et,Lr,tu,eg=(tu=class extends As{constructor(t={}){super();O(this,bt);O(this,et);O(this,Lr);this.config=t,E(this,bt,new Set),E(this,et,new Map),E(this,Lr,0)}build(t,n,r){const l=new Zy({client:t,mutationCache:this,mutationId:++zr(this,Lr)._,options:t.defaultMutationOptions(n),state:r});return this.add(l),l}add(t){y(this,bt).add(t);const n=sl(t);if(typeof n=="string"){const r=y(this,et).get(n);r?r.push(t):y(this,et).set(n,[t])}this.notify({type:"added",mutation:t})}remove(t){if(y(this,bt).delete(t)){const n=sl(t);if(typeof n=="string"){const r=y(this,et).get(n);if(r)if(r.length>1){const l=r.indexOf(t);l!==-1&&r.splice(l,1)}else r[0]===t&&y(this,et).delete(n)}}this.notify({type:"removed",mutation:t})}canRun(t){const n=sl(t);if(typeof n=="string"){const r=y(this,et).get(n),l=r==null?void 0:r.find(i=>i.state.status==="pending");return!l||l===t}else return!0}runNext(t){var r;const n=sl(t);if(typeof n=="string"){const l=(r=y(this,et).get(n))==null?void 0:r.find(i=>i!==t&&i.state.isPaused);return(l==null?void 0:l.continue())??Promise.resolve()}else return Promise.resolve()}clear(){le.batch(()=>{y(this,bt).forEach(t=>{this.notify({type:"removed",mutation:t})}),y(this,bt).clear(),y(this,et).clear()})}getAll(){return Array.from(y(this,bt))}find(t){const n={exact:!0,...t};return this.getAll().find(r=>Od(n,r))}findAll(t={}){return this.getAll().filter(n=>Od(t,n))}notify(t){le.batch(()=>{this.listeners.forEach(n=>{n(t)})})}resumePausedMutations(){const t=this.getAll().filter(n=>n.state.isPaused);return le.batch(()=>Promise.all(t.map(n=>n.continue().catch(Ne))))}},bt=new WeakMap,et=new WeakMap,Lr=new WeakMap,tu);function sl(e){var t;return(t=e.options.scope)==null?void 0:t.id}var wt,Vt,Ce,kt,Pt,gl,ao,nu,tg=(nu=class extends As{constructor(n,r){super();O(this,Pt);O(this,wt);O(this,Vt);O(this,Ce);O(this,kt);E(this,wt,n),this.setOptions(r),this.bindMethods(),D(this,Pt,gl).call(this)}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(n){var l;const r=this.options;this.options=y(this,wt).defaultMutationOptions(n),Ql(this.options,r)||y(this,wt).getMutationCache().notify({type:"observerOptionsUpdated",mutation:y(this,Ce),observer:this}),r!=null&&r.mutationKey&&this.options.mutationKey&&Bn(r.mutationKey)!==Bn(this.options.mutationKey)?this.reset():((l=y(this,Ce))==null?void 0:l.state.status)==="pending"&&y(this,Ce).setOptions(this.options)}onUnsubscribe(){var n;this.hasListeners()||(n=y(this,Ce))==null||n.removeObserver(this)}onMutationUpdate(n){D(this,Pt,gl).call(this),D(this,Pt,ao).call(this,n)}getCurrentResult(){return y(this,Vt)}reset(){var n;(n=y(this,Ce))==null||n.removeObserver(this),E(this,Ce,void 0),D(this,Pt,gl).call(this),D(this,Pt,ao).call(this)}mutate(n,r){var l;return E(this,kt,r),(l=y(this,Ce))==null||l.removeObserver(this),E(this,Ce,y(this,wt).getMutationCache().build(y(this,wt),this.options)),y(this,Ce).addObserver(this),y(this,Ce).execute(n)}},wt=new WeakMap,Vt=new WeakMap,Ce=new WeakMap,kt=new WeakMap,Pt=new WeakSet,gl=function(){var r;const n=((r=y(this,Ce))==null?void 0:r.state)??Fm();E(this,Vt,{...n,isPending:n.status==="pending",isSuccess:n.status==="success",isError:n.status==="error",isIdle:n.status==="idle",mutate:this.mutate,reset:this.reset})},ao=function(n){le.batch(()=>{var r,l,i,a,o,c,d,u;if(y(this,kt)&&this.hasListeners()){const h=y(this,Vt).variables,f=y(this,Vt).context,x={client:y(this,wt),meta:this.options.meta,mutationKey:this.options.mutationKey};if((n==null?void 0:n.type)==="success"){try{(l=(r=y(this,kt)).onSuccess)==null||l.call(r,n.data,h,f,x)}catch(j){Promise.reject(j)}try{(a=(i=y(this,kt)).onSettled)==null||a.call(i,n.data,null,h,f,x)}catch(j){Promise.reject(j)}}else if((n==null?void 0:n.type)==="error"){try{(c=(o=y(this,kt)).onError)==null||c.call(o,n.error,h,f,x)}catch(j){Promise.reject(j)}try{(u=(d=y(this,kt)).onSettled)==null||u.call(d,void 0,n.error,h,f,x)}catch(j){Promise.reject(j)}}}this.listeners.forEach(h=>{h(y(this,Vt))})})},nu),pt,su,ng=(su=class extends As{constructor(t={}){super();O(this,pt);this.config=t,E(this,pt,new Map)}build(t,n,r){const l=n.queryKey,i=n.queryHash??ac(l,n);let a=this.get(i);return a||(a=new qy({client:t,queryKey:l,queryHash:i,options:t.defaultQueryOptions(n),state:r,defaultOptions:t.getQueryDefaults(l)}),this.add(a)),a}add(t){y(this,pt).has(t.queryHash)||(y(this,pt).set(t.queryHash,t),this.notify({type:"added",query:t}))}remove(t){const n=y(this,pt).get(t.queryHash);n&&(t.destroy(),n===t&&y(this,pt).delete(t.queryHash),this.notify({type:"removed",query:t}))}clear(){le.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}get(t){return y(this,pt).get(t)}getAll(){return[...y(this,pt).values()]}find(t){const n={exact:!0,...t};return this.getAll().find(r=>Md(n,r))}findAll(t={}){const n=this.getAll();return Object.keys(t).length>0?n.filter(r=>Md(t,r)):n}notify(t){le.batch(()=>{this.listeners.forEach(n=>{n(t)})})}onFocus(){le.batch(()=>{this.getAll().forEach(t=>{t.onFocus()})})}onOnline(){le.batch(()=>{this.getAll().forEach(t=>{t.onOnline()})})}},pt=new WeakMap,su),J,Qt,Kt,vs,js,qt,Ns,bs,ru,sg=(ru=class{constructor(e={}){O(this,J);O(this,Qt);O(this,Kt);O(this,vs);O(this,js);O(this,qt);O(this,Ns);O(this,bs);E(this,J,e.queryCache||new ng),E(this,Qt,e.mutationCache||new eg),E(this,Kt,e.defaultOptions||{}),E(this,vs,new Map),E(this,js,new Map),E(this,qt,0)}mount(){zr(this,qt)._++,y(this,qt)===1&&(E(this,Ns,dc.subscribe(async e=>{e&&(await this.resumePausedMutations(),y(this,J).onFocus())})),E(this,bs,Kl.subscribe(async e=>{e&&(await this.resumePausedMutations(),y(this,J).onOnline())})))}unmount(){var e,t;zr(this,qt)._--,y(this,qt)===0&&((e=y(this,Ns))==null||e.call(this),E(this,Ns,void 0),(t=y(this,bs))==null||t.call(this),E(this,bs,void 0))}isFetching(e){return y(this,J).findAll({...e,fetchStatus:"fetching"}).length}isMutating(e){return y(this,Qt).findAll({...e,status:"pending"}).length}getQueryData(e){var n;const t=this.defaultQueryOptions({queryKey:e});return(n=y(this,J).get(t.queryHash))==null?void 0:n.state.data}ensureQueryData(e){const t=this.defaultQueryOptions(e),n=y(this,J).build(this,t),r=n.state.data;return r===void 0?this.fetchQuery(e):(e.revalidateIfStale&&n.isStaleByTime(on(t.staleTime,n))&&this.prefetchQuery(t),Promise.resolve(r))}getQueriesData(e){return y(this,J).findAll(e).map(({queryKey:t,state:n})=>{const r=n.data;return[t,r]})}setQueryData(e,t,n){const r=this.defaultQueryOptions({queryKey:e}),l=y(this,J).get(r.queryHash),i=l==null?void 0:l.state.data,a=Iy(t,i);if(a!==void 0)return y(this,J).build(this,r).setData(a,{...n,manual:!0})}setQueriesData(e,t,n){return le.batch(()=>y(this,J).findAll(e).map(({queryKey:r})=>[r,this.setQueryData(r,t,n)]))}getQueryState(e){var n;const t=this.defaultQueryOptions({queryKey:e});return(n=y(this,J).get(t.queryHash))==null?void 0:n.state}removeQueries(e){const t=y(this,J);le.batch(()=>{t.findAll(e).forEach(n=>{t.remove(n)})})}resetQueries(e,t){const n=y(this,J);return le.batch(()=>(n.findAll(e).forEach(r=>{r.reset()}),this.refetchQueries({type:"active",...e},t)))}cancelQueries(e,t={}){const n={revert:!0,...t},r=le.batch(()=>y(this,J).findAll(e).map(l=>l.cancel(n)));return Promise.all(r).then(Ne).catch(Ne)}invalidateQueries(e,t={}){return le.batch(()=>(y(this,J).findAll(e).forEach(n=>{n.invalidate()}),(e==null?void 0:e.refetchType)==="none"?Promise.resolve():this.refetchQueries({...e,type:(e==null?void 0:e.refetchType)??(e==null?void 0:e.type)??"active"},t)))}refetchQueries(e,t={}){const n={...t,cancelRefetch:t.cancelRefetch??!0},r=le.batch(()=>y(this,J).findAll(e).filter(l=>!l.isDisabled()&&!l.isStatic()).map(l=>{let i=l.fetch(void 0,n);return n.throwOnError||(i=i.catch(Ne)),l.state.fetchStatus==="paused"?Promise.resolve():i}));return Promise.all(r).then(Ne)}fetchQuery(e){const t=this.defaultQueryOptions(e);t.retry===void 0&&(t.retry=!1);const n=y(this,J).build(this,t);return n.isStaleByTime(on(t.staleTime,n))?n.fetch(t):Promise.resolve(n.state.data)}prefetchQuery(e){return this.fetchQuery(e).then(Ne).catch(Ne)}fetchInfiniteQuery(e){return e.behavior=$d(e.pages),this.fetchQuery(e)}prefetchInfiniteQuery(e){return this.fetchInfiniteQuery(e).then(Ne).catch(Ne)}ensureInfiniteQueryData(e){return e.behavior=$d(e.pages),this.ensureQueryData(e)}resumePausedMutations(){return Kl.isOnline()?y(this,Qt).resumePausedMutations():Promise.resolve()}getQueryCache(){return y(this,J)}getMutationCache(){return y(this,Qt)}getDefaultOptions(){return y(this,Kt)}setDefaultOptions(e){E(this,Kt,e)}setQueryDefaults(e,t){y(this,vs).set(Bn(e),{queryKey:e,defaultOptions:t})}getQueryDefaults(e){const t=[...y(this,vs).values()],n={};return t.forEach(r=>{Sr(e,r.queryKey)&&Object.assign(n,r.defaultOptions)}),n}setMutationDefaults(e,t){y(this,js).set(Bn(e),{mutationKey:e,defaultOptions:t})}getMutationDefaults(e){const t=[...y(this,js).values()],n={};return t.forEach(r=>{Sr(e,r.mutationKey)&&Object.assign(n,r.defaultOptions)}),n}defaultQueryOptions(e){if(e._defaulted)return e;const t={...y(this,Kt).queries,...this.getQueryDefaults(e.queryKey),...e,_defaulted:!0};return t.queryHash||(t.queryHash=ac(t.queryKey,t)),t.refetchOnReconnect===void 0&&(t.refetchOnReconnect=t.networkMode!=="always"),t.throwOnError===void 0&&(t.throwOnError=!!t.suspense),!t.networkMode&&t.persister&&(t.networkMode="offlineFirst"),t.queryFn===oc&&(t.enabled=!1),t}defaultMutationOptions(e){return e!=null&&e._defaulted?e:{...y(this,Kt).mutations,...(e==null?void 0:e.mutationKey)&&this.getMutationDefaults(e.mutationKey),...e,_defaulted:!0}}clear(){y(this,J).clear(),y(this,Qt).clear()}},J=new WeakMap,Qt=new WeakMap,Kt=new WeakMap,vs=new WeakMap,js=new WeakMap,qt=new WeakMap,Ns=new WeakMap,bs=new WeakMap,ru),zm=b.createContext(void 0),Ds=e=>{const t=b.useContext(zm);if(!t)throw new Error("No QueryClient set, use QueryClientProvider to set one");return t},rg=({client:e,children:t})=>(b.useEffect(()=>(e.mount(),()=>{e.unmount()}),[e]),s.jsx(zm.Provider,{value:e,children:t})),Um=b.createContext(!1),lg=()=>b.useContext(Um);Um.Provider;function ig(){let e=!1;return{clearReset:()=>{e=!1},reset:()=>{e=!0},isReset:()=>e}}var ag=b.createContext(ig()),og=()=>b.useContext(ag),cg=(e,t,n)=>{const r=n!=null&&n.state.error&&typeof e.throwOnError=="function"?cc(e.throwOnError,[n.state.error,n]):e.throwOnError;(e.suspense||e.experimental_prefetchInRender||r)&&(t.isReset()||(e.retryOnMount=!1))},dg=e=>{b.useEffect(()=>{e.clearReset()},[e])},ug=({result:e,errorResetBoundary:t,throwOnError:n,query:r,suspense:l})=>e.isError&&!t.isReset()&&!e.isFetching&&r&&(l&&e.data===void 0||cc(n,[e.error,r])),hg=e=>{if(e.suspense){const n=l=>l==="static"?l:Math.max(l??1e3,1e3),r=e.staleTime;e.staleTime=typeof r=="function"?(...l)=>n(r(...l)):n(r),typeof e.gcTime=="number"&&(e.gcTime=Math.max(e.gcTime,1e3))}},mg=(e,t)=>e.isLoading&&e.isFetching&&!t,pg=(e,t)=>(e==null?void 0:e.suspense)&&t.isPending,Hd=(e,t,n)=>t.fetchOptimistic(e).catch(()=>{n.clearReset()});function fg(e,t,n){var f,x,j,N;const r=lg(),l=og(),i=Ds(),a=i.defaultQueryOptions(e);(x=(f=i.getDefaultOptions().queries)==null?void 0:f._experimental_beforeQuery)==null||x.call(f,a);const o=i.getQueryCache().get(a.queryHash);a._optimisticResults=r?"isRestoring":"optimistic",hg(a),cg(a,l,o),dg(l);const c=!i.getQueryCache().get(a.queryHash),[d]=b.useState(()=>new t(i,a)),u=d.getOptimisticResult(a),h=!r&&e.subscribed!==!1;if(b.useSyncExternalStore(b.useCallback(w=>{const m=h?d.subscribe(le.batchCalls(w)):Ne;return d.updateResult(),m},[d,h]),()=>d.getCurrentResult(),()=>d.getCurrentResult()),b.useEffect(()=>{d.setOptions(a)},[a,d]),pg(a,u))throw Hd(a,d,l);if(ug({result:u,errorResetBoundary:l,throwOnError:a.throwOnError,query:o,suspense:a.suspense}))throw u.error;if((N=(j=i.getDefaultOptions().queries)==null?void 0:j._experimental_afterQuery)==null||N.call(j,a,u),a.experimental_prefetchInRender&&!$n&&mg(u,r)){const w=c?Hd(a,d,l):o==null?void 0:o.promise;w==null||w.catch(Ne).finally(()=>{d.updateResult()})}return a.notifyOnChangeProps?u:d.trackResult(u)}function Me(e,t){return fg(e,Gy)}function hc(e,t){const n=Ds(),[r]=b.useState(()=>new tg(n,e));b.useEffect(()=>{r.setOptions(e)},[r,e]);const l=b.useSyncExternalStore(b.useCallback(a=>r.subscribe(le.batchCalls(a)),[r]),()=>r.getCurrentResult(),()=>r.getCurrentResult()),i=b.useCallback((a,o)=>{r.mutate(a,o).catch(Ne)},[r]);if(l.error&&cc(r.options.throwOnError,[l.error]))throw l.error;return{...l,mutate:i,mutateAsync:l.mutate}}const vl={health:{critical:"#FF3B30",warning:"#FF9500",healthy:"#34C759",neutral:"#8E8E93"}},xg={critical:{max:39,color:vl.health.critical,label:"Critical"},warning:{min:40,max:79,color:vl.health.warning,label:"Warning"},healthy:{min:80,color:vl.health.healthy,label:"Healthy"}};function yg(e){return e<40?"critical":e<80?"warning":"healthy"}function $m(e){return vl.health[e]}function gg(e){return xg[e].label}const vg=[{path:"/",label:"Dashboard",icon:s.jsx("svg",{className:"w-5 h-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M3 12l2-2m0 0l7-7 7 7M5 10v10a1 1 0 001 1h3m10-11l2 2m-2-2v10a1 1 0 01-1 1h-3m-6 0a1 1 0 001-1v-4a1 1 0 011-1h2a1 1 0 011 1v4a1 1 0 001 1m-6 0h6"})})},{path:"/sites",label:"Sites",icon:s.jsx("svg",{className:"w-5 h-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M19 21V5a2 2 0 00-2-2H7a2 2 0 00-2 2v16m14 0h2m-2 0h-5m-9 0H3m2 0h5M9 7h1m-1 4h1m4-4h1m-1 4h1m-5 10v-5a1 1 0 011-1h2a1 1 0 011 1v5m-4 0h4"})})},{path:"/onboarding",label:"Onboarding",icon:s.jsx("svg",{className:"w-5 h-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M18 9v3m0 0v3m0-3h3m-3 0h-3m-2-5a4 4 0 11-8 0 4 4 0 018 0zM3 20a6 6 0 0112 0v1H3v-1z"})})},{path:"/runbooks",label:"Runbooks",icon:s.jsx("svg",{className:"w-5 h-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M12 6.253v13m0-13C10.832 5.477 9.246 5 7.5 5S4.168 5.477 3 6.253v13C4.168 18.477 5.754 18 7.5 18s3.332.477 4.5 1.253m0-13C13.168 5.477 14.754 5 16.5 5c1.747 0 3.332.477 4.5 1.253v13C19.832 18.477 18.247 18 16.5 18c-1.746 0-3.332.477-4.5 1.253"})})},{path:"/learning",label:"Learning",icon:s.jsx("svg",{className:"w-5 h-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M9.663 17h4.673M12 3v1m6.364 1.636l-.707.707M21 12h-1M4 12H3m3.343-5.657l-.707-.707m2.828 9.9a5 5 0 117.072 0l-.548.547A3.374 3.374 0 0014 18.469V19a2 2 0 11-4 0v-.531c0-.895-.356-1.754-.988-2.386l-.548-.547z"})})},{path:"/reports",label:"Reports",icon:s.jsx("svg",{className:"w-5 h-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M9 17v-2m3 2v-4m3 4v-6m2 10H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})})},{path:"/audit-logs",label:"Audit Logs",adminOnly:!0,icon:s.jsx("svg",{className:"w-5 h-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})})},{path:"/docs",label:"Documentation",icon:s.jsx("svg",{className:"w-5 h-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M12 6.253v13m0-13C10.832 5.477 9.246 5 7.5 5S4.168 5.477 3 6.253v13C4.168 18.477 5.754 18 7.5 18s3.332.477 4.5 1.253m0-13C13.168 5.477 14.754 5 16.5 5c1.747 0 3.332.477 4.5 1.253v13C19.832 18.477 18.247 18 16.5 18c-1.746 0-3.332.477-4.5 1.253"})})}],jg=({status:e})=>{const t=$m(e);return s.jsx("span",{className:"w-2 h-2 rounded-full flex-shrink-0",style:{backgroundColor:t}})},Ng=({clients:e,onClientSelect:t,selectedClient:n,user:r,onLogout:l})=>{const i=vg.filter(o=>!o.adminOnly||(r==null?void 0:r.role)==="admin"),a=r!=null&&r.displayName?r.displayName.split(" ").map(o=>o[0]).join("").toUpperCase():"U";return s.jsxs("aside",{className:"glass-sidebar w-64 h-screen flex flex-col fixed left-0 top-0",children:[s.jsx("div",{className:"p-6 border-b border-separator-light",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"w-10 h-10 bg-accent-primary rounded-ios-md flex items-center justify-center",children:s.jsx("span",{className:"text-white font-bold text-lg",children:"M"})}),s.jsxs("div",{children:[s.jsx("h1",{className:"font-semibold text-label-primary",children:"Malachor"}),s.jsx("p",{className:"text-xs text-label-tertiary",children:"Central Command"})]})]})}),s.jsxs("div",{className:"p-4 border-b border-separator-light",children:[s.jsx("h2",{className:"text-xs font-semibold text-label-tertiary uppercase tracking-wide mb-3",children:"Clients"}),s.jsxs("div",{className:"space-y-1 max-h-48 overflow-y-auto",children:[e.map(o=>s.jsxs("button",{onClick:()=>t==null?void 0:t(o.site_id),className:`
                w-full flex items-center gap-2 px-3 py-2 rounded-ios-sm text-left
                transition-colors duration-150
                ${n===o.site_id?"bg-accent-tint text-accent-primary":"text-label-primary hover:bg-separator-light"}
              `,children:[s.jsx(jg,{status:o.health.status}),s.jsx("span",{className:"text-sm truncate",children:o.name})]},o.site_id)),e.length===0&&s.jsx("p",{className:"text-sm text-label-tertiary px-3 py-2",children:"No clients yet"})]})]}),s.jsxs("nav",{className:"flex-1 p-4 overflow-y-auto",children:[s.jsx("h2",{className:"text-xs font-semibold text-label-tertiary uppercase tracking-wide mb-3",children:"Pages"}),s.jsx("div",{className:"space-y-1",children:i.map(o=>s.jsxs(Ey,{to:o.path,className:({isActive:c})=>`
                flex items-center gap-3 px-3 py-2 rounded-ios-sm
                transition-colors duration-150
                ${c?"bg-accent-tint text-accent-primary":"text-label-primary hover:bg-separator-light"}
              `,children:[o.icon,s.jsx("span",{className:"text-sm font-medium",children:o.label})]},o.path))})]}),s.jsx("div",{className:"p-4 border-t border-separator-light",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"w-8 h-8 bg-accent-primary rounded-full flex items-center justify-center",children:s.jsx("span",{className:"text-white text-sm font-medium",children:a})}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("p",{className:"text-sm font-medium text-label-primary truncate",children:(r==null?void 0:r.displayName)||"User"}),s.jsx("p",{className:"text-xs text-label-tertiary capitalize",children:(r==null?void 0:r.role)||"Guest"})]}),l&&s.jsx("button",{onClick:l,className:"p-1.5 hover:bg-separator-light rounded-ios-sm transition-colors",title:"Sign out",children:s.jsx("svg",{className:"w-4 h-4 text-label-tertiary",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 16l4-4m0 0l-4-4m4 4H7m6 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h4a3 3 0 013 3v1"})})})]})})]})},bg=({title:e="Dashboard",subtitle:t,showRefresh:n=!0,onRefresh:r,refreshing:l=!1,lastUpdated:i,actions:a,user:o})=>{const[c,d]=b.useState(!1),u=f=>{const j=Math.floor((new Date().getTime()-f.getTime())/1e3);return j<60?"Just now":j<3600?`${Math.floor(j/60)}m ago`:f.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})},h=o!=null&&o.displayName?o.displayName.split(" ").map(f=>f[0]).join("").toUpperCase():"U";return s.jsxs("header",{className:"glass-header h-16 flex items-center justify-between px-6 sticky top-0 z-10",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-xl font-semibold text-label-primary",children:e}),t&&s.jsx("p",{className:"text-sm text-label-tertiary",children:t})]}),s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx("div",{className:"relative",children:c?s.jsx("input",{type:"text",placeholder:"Search...",autoFocus:!0,onBlur:()=>d(!1),className:`
                w-64 px-4 py-2 text-sm
                bg-separator-light rounded-ios-md
                border-none outline-none
                focus:ring-2 focus:ring-accent-primary
                placeholder-label-tertiary
              `}):s.jsx("button",{onClick:()=>d(!0),className:"p-2 rounded-ios-sm hover:bg-separator-light transition-colors","aria-label":"Search",children:s.jsx("svg",{className:"w-5 h-5 text-label-secondary",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})})})}),n&&s.jsxs("div",{className:"flex items-center gap-2",children:[i&&s.jsx("span",{className:"text-xs text-label-tertiary",children:u(i)}),s.jsx("button",{onClick:r,disabled:l,className:`
                p-2 rounded-ios-sm hover:bg-separator-light transition-colors
                ${l?"animate-spin":""}
              `,"aria-label":"Refresh",children:s.jsx("svg",{className:"w-5 h-5 text-label-secondary",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})})})]}),a,s.jsxs("div",{className:"flex items-center gap-2 pl-4 border-l border-separator-light",children:[s.jsx("div",{className:"w-8 h-8 bg-accent-primary rounded-full flex items-center justify-center",children:s.jsx("span",{className:"text-white text-sm font-medium",children:h})}),s.jsxs("div",{className:"text-sm",children:[s.jsx("span",{className:"text-label-primary font-medium",children:(o==null?void 0:o.displayName)||"User"}),s.jsxs("span",{className:"text-label-tertiary ml-1 text-xs capitalize",children:["(",(o==null?void 0:o.role)||"guest",")"]})]})]})]})]})},wg="/api/dashboard";class Bm extends Error{constructor(t,n){super(n),this.status=t,this.name="ApiError"}}async function Ee(e,t){const n=`${wg}${e}`,r=await fetch(n,{headers:{"Content-Type":"application/json",...t==null?void 0:t.headers},...t});if(!r.ok){const l=await r.json().catch(()=>({detail:"Unknown error"}));throw new Bm(r.status,l.detail||`HTTP ${r.status}`)}return r.json()}const Hm={getFleet:()=>Ee("/fleet"),getClient:e=>Ee(`/fleet/${e}`),getAppliances:e=>Ee(`/fleet/${e}/appliances`)},kg={getIncidents:e=>{const t=new URLSearchParams;e!=null&&e.site_id&&t.set("site_id",e.site_id),e!=null&&e.limit&&t.set("limit",String(e.limit)),e!=null&&e.level&&t.set("level",e.level),(e==null?void 0:e.resolved)!==void 0&&t.set("resolved",String(e.resolved));const n=t.toString();return Ee(`/incidents${n?`?${n}`:""}`)},getIncident:e=>Ee(`/incidents/${e}`)},mc={getRunbooks:()=>Ee("/runbooks"),getRunbook:e=>Ee(`/runbooks/${e}`),getExecutions:(e,t)=>{const n=t?`?limit=${t}`:"";return Ee(`/runbooks/${e}/executions${n}`)}},fi={getStatus:()=>Ee("/learning/status"),getCandidates:()=>Ee("/learning/candidates"),getHistory:e=>{const t=e?`?limit=${e}`:"";return Ee(`/learning/history${t}`)},promote:e=>Ee(`/learning/promote/${e}`,{method:"POST"})},Wm={getPipeline:()=>ut("/onboarding/pipeline"),getMetrics:()=>ut("/onboarding/metrics")},Sg={getGlobalStats:()=>Ee("/stats")},Cg={execute:e=>Ee("/command",{method:"POST",body:JSON.stringify({command:e})})};async function ut(e,t){const n=`/api${e}`,r=await fetch(n,{headers:{"Content-Type":"application/json",...t==null?void 0:t.headers},...t});if(!r.ok){const l=await r.json().catch(()=>({detail:"Unknown error"}));throw new Bm(r.status,l.detail||`HTTP ${r.status}`)}return r.json()}const xi={getSites:e=>{const t=e?`?status=${e}`:"";return ut(`/sites${t}`)},getSite:e=>ut(`/sites/${e}`),createSite:e=>ut("/sites",{method:"POST",body:JSON.stringify(e)}),updateSite:(e,t)=>ut(`/sites/${e}`,{method:"PUT",body:JSON.stringify(t)}),deleteSite:e=>ut(`/sites/${e}`,{method:"DELETE"}),getAppliances:e=>ut(`/sites/${e}/appliances`),addCredential:(e,t)=>ut(`/sites/${e}/credentials`,{method:"POST",body:JSON.stringify(t)}),deleteCredential:(e,t)=>ut(`/sites/${e}/credentials/${t}`,{method:"DELETE"})},_g=({isOpen:e,onClose:t})=>{const n=it(),r=b.useRef(null),[l,i]=b.useState(""),[a,o]=b.useState(0),[c,d]=b.useState(!1),[u,h]=b.useState(null),[f,x]=b.useState(null),j=[{id:"nav-dashboard",label:"Go to Dashboard",description:"View fleet overview and incidents",category:"navigation",icon:s.jsx("svg",{className:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M3 12l2-2m0 0l7-7 7 7M5 10v10a1 1 0 001 1h3m10-11l2 2m-2-2v10a1 1 0 01-1 1h-3m-6 0a1 1 0 001-1v-4a1 1 0 011-1h2a1 1 0 011 1v4a1 1 0 001 1m-6 0h6"})}),action:()=>{n("/"),t()}},{id:"nav-runbooks",label:"Go to Runbooks",description:"Browse runbook library",category:"navigation",icon:s.jsx("svg",{className:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M12 6.253v13m0-13C10.832 5.477 9.246 5 7.5 5S4.168 5.477 3 6.253v13C4.168 18.477 5.754 18 7.5 18s3.332.477 4.5 1.253m0-13C13.168 5.477 14.754 5 16.5 5c1.747 0 3.332.477 4.5 1.253v13C19.832 18.477 18.247 18 16.5 18c-1.746 0-3.332.477-4.5 1.253"})}),action:()=>{n("/runbooks"),t()}},{id:"nav-learning",label:"Go to Learning Loop",description:"View L2 to L1 promotions",category:"navigation",icon:s.jsx("svg",{className:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M9.663 17h4.673M12 3v1m6.364 1.636l-.707.707M21 12h-1M4 12H3m3.343-5.657l-.707-.707m2.828 9.9a5 5 0 117.072 0l-.548.547A3.374 3.374 0 0014 18.469V19a2 2 0 11-4 0v-.531c0-.895-.356-1.754-.988-2.386l-.548-.547z"})}),action:()=>{n("/learning"),t()}},{id:"nav-onboarding",label:"Go to Onboarding",description:"View client pipeline",category:"navigation",icon:s.jsx("svg",{className:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M18 9v3m0 0v3m0-3h3m-3 0h-3m-2-5a4 4 0 11-8 0 4 4 0 018 0zM3 20a6 6 0 0112 0v1H3v-1z"})}),action:()=>{n("/onboarding"),t()}},{id:"nav-audit",label:"Go to Audit Logs",description:"View system activity logs",category:"navigation",icon:s.jsx("svg",{className:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})}),action:()=>{n("/audit-logs"),t()}}],N=[{id:"action-refresh",label:"Refresh Data",description:"Reload all dashboard data",category:"action",icon:s.jsx("svg",{className:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})}),action:()=>{window.location.reload()}},{id:"action-docs",label:"Open User Guide",description:"View documentation (PDF)",category:"action",icon:s.jsx("svg",{className:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})}),action:()=>{window.open("/USER_GUIDE.pdf","_blank"),t()}},{id:"action-standards",label:"Open Standards & Procedures",description:"View compliance procedures (PDF)",category:"action",icon:s.jsx("svg",{className:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2m-3 7h3m-3 4h3m-6-4h.01M9 16h.01"})}),action:()=>{window.open("/STANDARDS_AND_PROCEDURES.pdf","_blank"),t()}}],w=[...j,...N],m=l.trim()?w.filter(k=>k.label.toLowerCase().includes(l.toLowerCase())||k.description.toLowerCase().includes(l.toLowerCase())):w,p=l.startsWith("/")||l.startsWith("!");b.useEffect(()=>{e&&(i(""),o(0),h(null),x(null),setTimeout(()=>{var k;return(k=r.current)==null?void 0:k.focus()},50))},[e]);const g=b.useCallback(k=>{if(k.key==="Escape"){t();return}if(k.key==="ArrowDown"){k.preventDefault(),o(C=>Math.min(C+1,m.length-1));return}if(k.key==="ArrowUp"){k.preventDefault(),o(C=>Math.max(C-1,0));return}if(k.key==="Enter"){k.preventDefault(),p&&l.length>1?v(l):m[a]&&m[a].action();return}},[m,a,l,p,t]),v=async k=>{d(!0),x(null),h(null);try{const C=await Cg.execute(k);h(C)}catch(C){x(C instanceof Error?C.message:"Command failed")}finally{d(!1)}};return e?s.jsxs("div",{className:"fixed inset-0 z-50 flex items-start justify-center pt-[15vh]",children:[s.jsx("div",{className:"absolute inset-0 bg-black/40 backdrop-blur-sm",onClick:t}),s.jsxs("div",{className:"relative w-full max-w-xl bg-white rounded-ios-lg shadow-2xl overflow-hidden",children:[s.jsxs("div",{className:"flex items-center gap-3 px-4 py-3 border-b border-separator-light",children:[s.jsx("svg",{className:"w-5 h-5 text-label-tertiary",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})}),s.jsx("input",{ref:r,type:"text",value:l,onChange:k=>{i(k.target.value),o(0),h(null),x(null)},onKeyDown:g,placeholder:"Type a command or search...",className:"flex-1 bg-transparent border-none outline-none text-label-primary placeholder-label-tertiary"}),c&&s.jsx("div",{className:"w-5 h-5 border-2 border-accent-primary border-t-transparent rounded-full animate-spin"}),s.jsx("kbd",{className:"px-2 py-1 text-xs text-label-tertiary bg-separator-light rounded",children:"ESC"})]}),s.jsxs("div",{className:"max-h-80 overflow-y-auto",children:[u&&s.jsx("div",{className:"p-4 border-b border-separator-light",children:s.jsxs("div",{className:`p-3 rounded-ios-md ${u.success?"bg-health-healthy/10":"bg-health-critical/10"}`,children:[s.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[u.success?s.jsx("svg",{className:"w-4 h-4 text-health-healthy",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})}):s.jsx("svg",{className:"w-4 h-4 text-health-critical",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})}),s.jsx("span",{className:"text-sm font-medium",children:u.success?"Success":"Failed"})]}),u.message&&s.jsx("p",{className:"text-sm text-label-secondary",children:u.message}),u.error&&s.jsx("p",{className:"text-sm text-health-critical",children:u.error}),u.data&&s.jsx("pre",{className:"mt-2 p-2 bg-black/5 rounded text-xs overflow-x-auto",children:JSON.stringify(u.data,null,2)})]})}),f&&s.jsx("div",{className:"p-4 border-b border-separator-light",children:s.jsx("div",{className:"p-3 rounded-ios-md bg-health-critical/10",children:s.jsx("p",{className:"text-sm text-health-critical",children:f})})}),!u&&!f&&s.jsx(s.Fragment,{children:p?s.jsxs("div",{className:"p-4 text-center text-label-tertiary text-sm",children:["Press ",s.jsx("kbd",{className:"px-1.5 py-0.5 bg-separator-light rounded text-xs",children:"Enter"})," to execute command"]}):m.length===0?s.jsx("div",{className:"p-8 text-center text-label-tertiary",children:"No results found"}):s.jsx("div",{className:"py-2",children:["navigation","action"].map(k=>{const C=m.filter(_=>_.category===k);return C.length===0?null:s.jsxs("div",{children:[s.jsx("div",{className:"px-4 py-2 text-xs font-semibold text-label-tertiary uppercase tracking-wide",children:k==="navigation"?"Navigate":"Actions"}),C.map(_=>{const P=m.indexOf(_);return s.jsxs("button",{onClick:_.action,className:`w-full flex items-center gap-3 px-4 py-2 text-left transition-colors ${P===a?"bg-accent-primary/10 text-accent-primary":"hover:bg-separator-light text-label-primary"}`,children:[s.jsx("span",{className:P===a?"text-accent-primary":"text-label-tertiary",children:_.icon}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("p",{className:"text-sm font-medium truncate",children:_.label}),s.jsx("p",{className:"text-xs text-label-tertiary truncate",children:_.description})]}),P===a&&s.jsx("kbd",{className:"px-1.5 py-0.5 bg-accent-primary/20 rounded text-xs",children:"Enter"})]},_.id)})]},k)})})})]}),s.jsxs("div",{className:"px-4 py-2 border-t border-separator-light bg-separator-light/30 flex items-center justify-between text-xs text-label-tertiary",children:[s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsxs("span",{className:"flex items-center gap-1",children:[s.jsx("kbd",{className:"px-1 py-0.5 bg-white rounded shadow-sm",children:""}),s.jsx("kbd",{className:"px-1 py-0.5 bg-white rounded shadow-sm",children:""}),"Navigate"]}),s.jsxs("span",{className:"flex items-center gap-1",children:[s.jsx("kbd",{className:"px-1 py-0.5 bg-white rounded shadow-sm",children:"Enter"}),"Select"]})]}),s.jsxs("span",{children:["Tip: Start with ",s.jsx("code",{className:"px-1 bg-white rounded",children:"/"})," for commands"]})]})]})]}):null},Pg={none:"",sm:"p-3",md:"p-4",lg:"p-6"},R=({children:e,className:t="",hover:n=!1,onClick:r,padding:l="lg"})=>{const i="glass-card",a=n?"cursor-pointer hover:shadow-card-hover hover:scale-[1.01]":"",o=Pg[l];return s.jsx("div",{onClick:r,className:`${i} ${a} ${o} ${t}`,role:r?"button":void 0,tabIndex:r?0:void 0,onKeyDown:r?c=>c.key==="Enter"&&r():void 0,children:e})},Eg={critical:"bg-red-100 text-health-critical",warning:"bg-orange-100 text-health-warning",healthy:"bg-green-100 text-health-healthy"},Lg={L1:"bg-blue-100 text-ios-blue",L2:"bg-purple-100 text-ios-purple",L3:"bg-orange-100 text-ios-orange"},Rg={critical:"bg-red-100 text-health-critical",high:"bg-orange-100 text-health-warning",medium:"bg-yellow-100 text-yellow-700",low:"bg-gray-100 text-label-tertiary"},An=({children:e,variant:t="default",status:n,level:r,severity:l,className:i=""})=>{let a="bg-gray-100 text-label-secondary";return t==="health"&&n?a=Eg[n]:t==="level"&&r?a=Lg[r]:t==="severity"&&l?a=Rg[l]:t==="success"?a="bg-green-100 text-health-healthy":t==="info"?a="bg-blue-100 text-ios-blue":t==="warning"?a="bg-orange-100 text-health-warning":t==="error"&&(a="bg-red-100 text-health-critical"),s.jsx("span",{className:`inline-flex items-center px-2 py-0.5 rounded-full text-xs font-medium ${a} ${i}`,children:e})},ql=({level:e,showLabel:t=!1,className:n})=>{const r={L1:"AUTO",L2:"LLM",L3:"ESC"};return s.jsxs(An,{variant:"level",level:e,className:n,children:[e," ",t&&r[e]]})},Tg={sm:"h-4 w-4",md:"h-6 w-6",lg:"h-8 w-8",xl:"h-12 w-12"},Is=({size:e="md",color:t="text-accent-primary",className:n=""})=>s.jsxs("svg",{className:`animate-spin ${Tg[e]} ${t} ${n}`,xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",role:"status","aria-label":"Loading",children:[s.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),s.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),Mg=({lines:e=3})=>s.jsxs("div",{className:"glass-card p-6 animate-pulse",children:[s.jsx("div",{className:"h-4 bg-gray-200 rounded w-3/4 mb-4"}),Array.from({length:e}).map((t,n)=>s.jsx("div",{className:"h-3 bg-gray-200 rounded mb-2",style:{width:`${Math.random()*40+50}%`}},n))]}),rl=({width:e="100%",height:t="1rem"})=>s.jsx("div",{className:"bg-gray-200 rounded animate-pulse",style:{width:e,height:t}}),Og={sm:{size:40,fontSize:"text-xs",labelSize:"text-[8px]",strokeWidth:3},md:{size:64,fontSize:"text-base",labelSize:"text-[10px]",strokeWidth:4},lg:{size:96,fontSize:"text-xl",labelSize:"text-xs",strokeWidth:5},xl:{size:128,fontSize:"text-2xl",labelSize:"text-sm",strokeWidth:6}},Gl=({score:e,size:t="md",showLabel:n=!0,showPercentage:r=!0,thickness:l,className:i=""})=>{const a=Og[t],o=l??a.strokeWidth,c=(a.size-o)/2,d=2*Math.PI*c,u=Math.min(Math.max(e,0),100),h=d-u/100*d,f=yg(e),x=$m(f),j=gg(f);return s.jsxs("div",{className:`relative inline-flex items-center justify-center ${i}`,style:{width:a.size,height:a.size},children:[s.jsxs("svg",{className:"absolute inset-0 -rotate-90",width:a.size,height:a.size,children:[s.jsx("circle",{cx:a.size/2,cy:a.size/2,r:c,fill:"none",stroke:"rgba(60, 60, 67, 0.1)",strokeWidth:o}),s.jsx("circle",{cx:a.size/2,cy:a.size/2,r:c,fill:"none",stroke:x,strokeWidth:o,strokeDasharray:d,strokeDashoffset:h,strokeLinecap:"round",className:"transition-all duration-500 ease-out"})]}),s.jsxs("div",{className:"absolute inset-0 flex flex-col items-center justify-center",children:[r&&s.jsxs("span",{className:`font-semibold ${a.fontSize}`,style:{color:x},children:[Math.round(e),"%"]}),n&&s.jsx("span",{className:`text-label-tertiary ${a.labelSize}`,children:j})]})]})},Ag=({client:e})=>{const t=it(),n=()=>{t(`/client/${e.site_id}`)};return s.jsx(R,{hover:!0,onClick:n,padding:"md",children:s.jsxs("div",{className:"flex items-start justify-between",children:[s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("h3",{className:"font-semibold text-label-primary truncate",children:e.name}),s.jsxs("p",{className:"text-sm text-label-tertiary mt-1",children:[e.online_count,"/",e.appliance_count," appliances online"]}),e.incidents_24h>0&&s.jsxs("p",{className:"text-xs text-health-warning mt-2",children:[e.incidents_24h," incident",e.incidents_24h!==1?"s":""," (24h)"]})]}),s.jsx(Gl,{score:e.health.overall,size:"md"})]})})},Dg=({clients:e,isLoading:t=!1,error:n=null})=>{if(n)return s.jsxs("div",{className:"glass-card p-6 text-center",children:[s.jsx("div",{className:"text-health-critical mb-2",children:s.jsx("svg",{className:"w-12 h-12 mx-auto",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})})}),s.jsx("h3",{className:"font-semibold text-label-primary",children:"Failed to load fleet data"}),s.jsx("p",{className:"text-sm text-label-tertiary mt-1",children:n.message})]});if(t)return s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[1,2,3].map(l=>s.jsx(Mg,{lines:2},l))});if(e.length===0)return s.jsxs("div",{className:"glass-card p-8 text-center",children:[s.jsx("div",{className:"text-label-tertiary mb-2",children:s.jsx("svg",{className:"w-12 h-12 mx-auto",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M19 21V5a2 2 0 00-2-2H7a2 2 0 00-2 2v16m14 0h2m-2 0h-5m-9 0H3m2 0h5M9 7h1m-1 4h1m4-4h1m-1 4h1m-5 10v-5a1 1 0 011-1h2a1 1 0 011 1v5m-4 0h4"})})}),s.jsx("h3",{className:"font-semibold text-label-primary",children:"No clients yet"}),s.jsx("p",{className:"text-sm text-label-tertiary mt-1",children:"Clients will appear here once appliances start checking in."})]});const r=[...e].sort((l,i)=>{const a={critical:0,warning:1,healthy:2};return a[l.health.status]-a[i.health.status]});return s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:r.map(l=>s.jsx(Ag,{client:l},l.site_id))})},Ig={patching:"Patch",antivirus:"AV",backup:"Backup",logging:"Logging",firewall:"Firewall",encryption:"Encryption"},Fg=e=>{const t=new Date(e),r=new Date().getTime()-t.getTime(),l=Math.floor(r/6e4),i=Math.floor(r/36e5),a=Math.floor(r/864e5);return l<1?"Just now":l<60?`${l}m ago`:i<24?`${i}h ago`:a<7?`${a}d ago`:t.toLocaleDateString([],{month:"short",day:"numeric"})},Wd=e=>new Date(e).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}),Vm=({incident:e,onClick:t,compact:n=!1})=>{const r=Ig[e.check_type]||e.check_type;return n?s.jsxs("button",{onClick:t,className:"w-full flex items-center gap-3 py-2 px-3 hover:bg-separator-light rounded-ios-sm transition-colors text-left",children:[s.jsx("span",{className:"text-xs text-label-tertiary w-12",children:Wd(e.created_at)}),s.jsx("span",{className:"text-sm text-label-primary truncate flex-1",children:e.hostname}),s.jsx("span",{className:"text-sm text-label-secondary truncate max-w-[100px]",children:r}),e.resolution_level&&s.jsx(ql,{level:e.resolution_level}),e.resolved?s.jsx("svg",{className:"w-4 h-4 text-health-healthy flex-shrink-0",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})}):s.jsx("svg",{className:"w-4 h-4 text-health-warning flex-shrink-0 animate-pulse",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})})]}):s.jsxs("button",{onClick:t,className:"w-full flex items-center gap-4 p-4 bg-white/50 hover:bg-white/80 rounded-ios-md transition-colors text-left border border-separator-light",children:[s.jsx("div",{className:`w-2 h-2 rounded-full flex-shrink-0 ${e.resolved?"bg-health-healthy":"bg-health-warning animate-pulse"}`}),s.jsxs("div",{className:"w-16 flex-shrink-0",children:[s.jsx("p",{className:"text-sm font-medium text-label-primary",children:Wd(e.created_at)}),s.jsx("p",{className:"text-xs text-label-tertiary",children:Fg(e.created_at)})]}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("p",{className:"text-sm font-medium text-label-primary truncate",children:e.site_id.replace(/-/g," ").replace(/\b\w/g,l=>l.toUpperCase())}),s.jsx("p",{className:"text-xs text-label-tertiary truncate",children:e.hostname})]}),s.jsxs("div",{className:"w-24 flex-shrink-0",children:[s.jsxs("p",{className:"text-sm text-label-secondary",children:[r," drift"]}),e.hipaa_controls.length>0&&s.jsx("p",{className:"text-xs text-label-tertiary truncate",children:e.hipaa_controls[0]})]}),s.jsx("div",{className:"w-20 flex-shrink-0",children:e.resolution_level?s.jsx(ql,{level:e.resolution_level,showLabel:!0}):s.jsx("span",{className:"text-xs text-label-tertiary",children:"Pending"})}),s.jsx("div",{className:"w-16 flex-shrink-0 text-right",children:e.resolved?s.jsx("span",{className:"text-sm text-health-healthy font-medium",children:"Resolved"}):s.jsx("span",{className:"text-sm text-health-warning font-medium",children:"Active"})})]})},zg=({incidents:e,isLoading:t=!1,error:n=null,title:r="Recent Incidents",showViewAll:l=!0,compact:i=!1,limit:a})=>{const o=it(),c=a?e.slice(0,a):e,d=e.filter(h=>!h.resolved).length,u=e.filter(h=>h.resolved).length;return s.jsxs(R,{padding:i?"md":"lg",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("h2",{className:"text-lg font-semibold text-label-primary",children:r}),!t&&e.length>0&&s.jsxs("div",{className:"flex items-center gap-2 text-xs",children:[d>0&&s.jsxs("span",{className:"px-2 py-0.5 bg-orange-100 text-health-warning rounded-full",children:[d," active"]}),s.jsxs("span",{className:"text-label-tertiary",children:[u," resolved"]})]})]}),l&&e.length>0&&s.jsx("button",{onClick:()=>o("/incidents"),className:"text-sm text-accent-primary hover:underline",children:"View All"})]}),n&&s.jsx("div",{className:"text-center py-4",children:s.jsx("p",{className:"text-health-critical text-sm",children:n.message})}),t&&s.jsx("div",{className:"space-y-3",children:[1,2,3].map(h=>s.jsxs("div",{className:"flex items-center gap-4 p-3",children:[s.jsx(rl,{width:"60px",height:"12px"}),s.jsx(rl,{width:"120px",height:"14px"}),s.jsx(rl,{width:"80px",height:"12px"}),s.jsx(rl,{width:"50px",height:"20px"})]},h))}),!t&&!n&&e.length===0&&s.jsxs("div",{className:"text-center py-8",children:[s.jsx("div",{className:"text-health-healthy mb-2",children:s.jsx("svg",{className:"w-10 h-10 mx-auto",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})})}),s.jsx("p",{className:"text-label-secondary text-sm",children:"No recent incidents"}),s.jsx("p",{className:"text-label-tertiary text-xs mt-1",children:"All systems operating normally"})]}),!t&&!n&&e.length>0&&s.jsx("div",{className:i?"space-y-1":"space-y-2",children:c.map(h=>s.jsx(Vm,{incident:h,compact:i,onClick:()=>console.log("View incident",h.id)},h.id))}),a&&e.length>a&&s.jsx("div",{className:"mt-4 pt-3 border-t border-separator-light text-center",children:s.jsxs("button",{onClick:()=>o("/incidents"),className:"text-sm text-accent-primary hover:underline",children:["+",e.length-a," more incidents"]})})]})},at=3e4,Oe=1e4;function Qm(){return Me({queryKey:["fleet"],queryFn:Hm.getFleet,refetchInterval:at,staleTime:Oe})}function Ug(e){return Me({queryKey:["client",e],queryFn:()=>Hm.getClient(e),enabled:!!e,refetchInterval:at,staleTime:Oe})}function Km(e){return Me({queryKey:["incidents",e],queryFn:()=>kg.getIncidents(e),refetchInterval:at,staleTime:Oe})}function $g(){return Me({queryKey:["stats"],queryFn:Sg.getGlobalStats,refetchInterval:at,staleTime:Oe})}function qm(){return Me({queryKey:["learning","status"],queryFn:fi.getStatus,refetchInterval:at,staleTime:Oe})}function Bg(){const e=Ds();return()=>{e.invalidateQueries({queryKey:["fleet"]}),e.invalidateQueries({queryKey:["incidents"]}),e.invalidateQueries({queryKey:["stats"]}),e.invalidateQueries({queryKey:["learning"]}),e.invalidateQueries({queryKey:["runbooks"]})}}function Hg(){return Me({queryKey:["runbooks"],queryFn:mc.getRunbooks,staleTime:Oe})}function Wg(e){return Me({queryKey:["runbook",e],queryFn:()=>mc.getRunbook(e),enabled:!!e,staleTime:Oe})}function Vg(e,t){return Me({queryKey:["runbook",e,"executions",t],queryFn:()=>mc.getExecutions(e,t),enabled:!!e,staleTime:Oe})}function Qg(){return Me({queryKey:["learning","candidates"],queryFn:fi.getCandidates,refetchInterval:at,staleTime:Oe})}function Kg(e){return Me({queryKey:["learning","history",e],queryFn:()=>fi.getHistory(e),refetchInterval:at,staleTime:Oe})}function qg(){const e=Ds();return hc({mutationFn:t=>fi.promote(t),onSuccess:()=>{e.invalidateQueries({queryKey:["learning"]})}})}function Gg(){return Me({queryKey:["onboarding","pipeline"],queryFn:Wm.getPipeline,refetchInterval:at,staleTime:Oe})}function Xg(){return Me({queryKey:["onboarding","metrics"],queryFn:Wm.getMetrics,refetchInterval:at,staleTime:Oe})}function Yg(e){return Me({queryKey:["sites",e],queryFn:()=>xi.getSites(e),refetchInterval:at,staleTime:Oe})}function Jg(e){return Me({queryKey:["site",e],queryFn:()=>xi.getSite(e),enabled:!!e,refetchInterval:at,staleTime:Oe})}function Gm(){const e=Ds();return hc({mutationFn:xi.createSite,onSuccess:()=>{e.invalidateQueries({queryKey:["sites"]})}})}function Zg(){const e=Ds();return hc({mutationFn:({siteId:t,data:n})=>xi.addCredential(t,n),onSuccess:(t,{siteId:n})=>{e.invalidateQueries({queryKey:["site",n]})}})}function ev(e){const t=b.useCallback(n=>{const r=n.target;if(!((r.tagName==="INPUT"||r.tagName==="TEXTAREA"||r.isContentEditable)&&n.key!=="Escape"))for(const l of e){const i=l.metaKey?n.metaKey||n.ctrlKey:!0,a=l.ctrlKey?n.ctrlKey:!0,o=l.shiftKey?n.shiftKey:!n.shiftKey,c=n.key.toLowerCase()===l.key.toLowerCase();if(i&&a&&o&&c){n.preventDefault(),l.handler();return}}},[e]);b.useEffect(()=>(window.addEventListener("keydown",t),()=>window.removeEventListener("keydown",t)),[t])}function tv(e){ev([{key:"k",metaKey:!0,handler:e}])}const nv=()=>{const e=it(),{data:t=[],isLoading:n,error:r}=Qm(),{data:l=[],isLoading:i,error:a}=Km({limit:10}),{data:o,isLoading:c}=$g(),{data:d,isLoading:u}=qm();return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[s.jsx(R,{padding:"md",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-label-tertiary text-sm",children:"Total Clients"}),s.jsx("p",{className:"text-2xl font-semibold",children:c?"...":(o==null?void 0:o.total_clients)??t.length})]}),s.jsx("div",{className:"w-10 h-10 bg-accent-tint rounded-ios-md flex items-center justify-center",children:s.jsx("svg",{className:"w-5 h-5 text-accent-primary",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M19 21V5a2 2 0 00-2-2H7a2 2 0 00-2 2v16m14 0h2m-2 0h-5m-9 0H3m2 0h5M9 7h1m-1 4h1m4-4h1m-1 4h1m-5 10v-5a1 1 0 011-1h2a1 1 0 011 1v5m-4 0h4"})})})]})}),s.jsx(R,{padding:"md",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-label-tertiary text-sm",children:"Avg Compliance"}),s.jsx("p",{className:"text-2xl font-semibold text-health-healthy",children:c?"...":`${(o==null?void 0:o.avg_compliance_score)??0}%`})]}),s.jsx(Gl,{score:(o==null?void 0:o.avg_compliance_score)??0,size:"sm",showLabel:!1})]})}),s.jsx(R,{padding:"md",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-label-tertiary text-sm",children:"Incidents (24h)"}),s.jsx("p",{className:"text-2xl font-semibold",children:c?"...":(o==null?void 0:o.incidents_24h)??0})]}),s.jsx("div",{className:"w-10 h-10 bg-orange-50 rounded-ios-md flex items-center justify-center",children:s.jsx("svg",{className:"w-5 h-5 text-health-warning",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})})})]})}),s.jsx(R,{padding:"md",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-label-tertiary text-sm",children:"L1 Resolution"}),s.jsx("p",{className:"text-2xl font-semibold text-ios-blue",children:c?"...":`${(o==null?void 0:o.l1_resolution_rate)??0}%`})]}),s.jsx("div",{className:"w-10 h-10 bg-blue-50 rounded-ios-md flex items-center justify-center",children:s.jsx("svg",{className:"w-5 h-5 text-ios-blue",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})})})]})})]}),s.jsxs(R,{children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsx("h2",{className:"text-lg font-semibold",children:"Fleet Overview"}),s.jsxs("span",{className:"text-xs text-label-tertiary",children:[t.length," client",t.length!==1?"s":""]})]}),s.jsx(Dg,{clients:t,isLoading:n,error:r})]}),s.jsx(zg,{incidents:l,isLoading:i,error:a,title:"Recent Incidents",showViewAll:!0,limit:5,compact:!0}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs(R,{children:[s.jsx("h2",{className:"text-lg font-semibold mb-4",children:"System Health"}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"text-label-secondary",children:"Avg Compliance"}),s.jsx("span",{className:"font-medium",children:c?"...":`${(o==null?void 0:o.avg_compliance_score)??0}%`})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"text-label-secondary",children:"Avg Connectivity"}),s.jsx("span",{className:"font-medium",children:c?"...":`${(o==null?void 0:o.avg_connectivity_score)??0}%`})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"text-label-secondary",children:"Online Appliances"}),s.jsx("span",{className:"font-medium",children:c?"...":`${(o==null?void 0:o.online_appliances)??0}/${(o==null?void 0:o.total_appliances)??0}`})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"text-label-secondary",children:"Incidents (7d)"}),s.jsx("span",{className:"font-medium",children:c?"...":(o==null?void 0:o.incidents_7d)??0})]})]})]}),s.jsxs(R,{children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsx("h2",{className:"text-lg font-semibold",children:"Learning Loop"}),s.jsx("button",{onClick:()=>e("/learning"),className:"text-sm text-accent-primary hover:underline",children:"View All"})]}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"text-label-secondary",children:"L1 Rules"}),s.jsx("span",{className:"font-medium",children:u?"...":(d==null?void 0:d.total_l1_rules)??0})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"text-label-secondary",children:"L2 Decisions (30d)"}),s.jsx("span",{className:"font-medium",children:u?"...":(d==null?void 0:d.total_l2_decisions_30d)??0})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"text-label-secondary",children:"Awaiting Promotion"}),s.jsx("span",{className:"font-medium text-health-warning",children:u?"...":(d==null?void 0:d.patterns_awaiting_promotion)??0})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"text-label-secondary",children:"Success Rate"}),s.jsx("span",{className:"font-medium text-health-healthy",children:u?"...":`${(d==null?void 0:d.promotion_success_rate)??0}%`})]})]})]})]}),s.jsx(R,{children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("h2",{className:"text-lg font-semibold",children:"Onboarding Pipeline"}),s.jsx("p",{className:"text-sm text-label-tertiary mt-1",children:"Track prospects through acquisition and activation phases"})]}),s.jsx("button",{onClick:()=>e("/onboarding"),className:"btn-secondary text-sm",children:"View Pipeline"})]})})]})},sv=e=>e<1e3?`${e}ms`:e<6e4?`${(e/1e3).toFixed(1)}s`:`${(e/6e4).toFixed(1)}m`,rv=({runbook:e,onClick:t})=>{const n=e.success_rate>=95?"text-health-healthy":e.success_rate>=80?"text-health-warning":"text-health-critical";return s.jsx(R,{hover:!0,onClick:t,padding:"md",children:s.jsxs("div",{className:"flex items-start justify-between gap-4",children:[s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[s.jsx("span",{className:"text-xs font-mono text-label-tertiary",children:e.id}),s.jsx(ql,{level:e.level}),e.is_disruptive&&s.jsx("span",{className:"px-1.5 py-0.5 text-xs bg-orange-100 text-orange-700 rounded",children:"Disruptive"})]}),s.jsx("h3",{className:"font-semibold text-label-primary truncate",children:e.name}),s.jsx("p",{className:"text-sm text-label-secondary mt-1 line-clamp-2",children:e.description}),s.jsx("div",{className:"flex flex-wrap gap-1 mt-2",children:e.hipaa_controls.map(r=>s.jsx("span",{className:"px-1.5 py-0.5 text-xs bg-accent-tint text-accent-primary rounded",children:r},r))})]}),s.jsxs("div",{className:"flex-shrink-0 text-right space-y-1",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-xs text-label-tertiary",children:"Executions"}),s.jsx("p",{className:"text-lg font-semibold text-label-primary",children:e.execution_count.toLocaleString()})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-xs text-label-tertiary",children:"Success Rate"}),s.jsxs("p",{className:`text-lg font-semibold ${n}`,children:[e.success_rate.toFixed(1),"%"]})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-xs text-label-tertiary",children:"Avg Time"}),s.jsx("p",{className:"text-sm font-medium text-label-secondary",children:sv(e.avg_execution_time_ms)})]})]})]})})},Vd=e=>e<1e3?`${e}ms`:e<6e4?`${(e/1e3).toFixed(1)}s`:`${(e/6e4).toFixed(1)}m`,Qd=e=>new Date(e).toLocaleDateString([],{month:"short",day:"numeric",year:"numeric"}),lv=e=>new Date(e).toLocaleString([],{month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}),iv=({runbook:e,executions:t,isLoadingExecutions:n,onClose:r})=>{const l=e.success_rate>=95?"text-health-healthy":e.success_rate>=80?"text-health-warning":"text-health-critical";return s.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4",children:[s.jsx("div",{className:"absolute inset-0 bg-black/30 backdrop-blur-sm",onClick:r}),s.jsxs("div",{className:"relative w-full max-w-2xl max-h-[90vh] overflow-hidden bg-white/95 backdrop-blur-xl rounded-ios-lg shadow-2xl border border-white/50",children:[s.jsxs("div",{className:"p-6 border-b border-separator-light",children:[s.jsxs("div",{className:"flex items-start justify-between",children:[s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[s.jsx("span",{className:"text-sm font-mono text-label-tertiary",children:e.id}),s.jsx(ql,{level:e.level,showLabel:!0}),e.is_disruptive&&s.jsx("span",{className:"px-2 py-0.5 text-xs bg-orange-100 text-orange-700 rounded-full",children:"Disruptive"})]}),s.jsx("h2",{className:"text-xl font-semibold text-label-primary",children:e.name}),s.jsx("p",{className:"text-label-secondary mt-1",children:e.description})]}),s.jsx("button",{onClick:r,className:"p-2 hover:bg-separator-light rounded-ios-sm transition-colors",children:s.jsx("svg",{className:"w-5 h-5 text-label-tertiary",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),s.jsx("div",{className:"flex flex-wrap gap-1 mt-3",children:e.hipaa_controls.map(i=>s.jsxs("span",{className:"px-2 py-1 text-xs bg-accent-tint text-accent-primary rounded-full",children:["HIPAA ",i]},i))})]}),s.jsxs("div",{className:"overflow-y-auto max-h-[calc(90vh-200px)]",children:[s.jsxs("div",{className:"grid grid-cols-3 gap-4 p-6 bg-separator-light/50",children:[s.jsxs("div",{className:"text-center",children:[s.jsx("p",{className:"text-xs text-label-tertiary uppercase tracking-wide",children:"Executions"}),s.jsx("p",{className:"text-2xl font-semibold text-label-primary mt-1",children:e.execution_count.toLocaleString()})]}),s.jsxs("div",{className:"text-center",children:[s.jsx("p",{className:"text-xs text-label-tertiary uppercase tracking-wide",children:"Success Rate"}),s.jsxs("p",{className:`text-2xl font-semibold mt-1 ${l}`,children:[e.success_rate.toFixed(1),"%"]})]}),s.jsxs("div",{className:"text-center",children:[s.jsx("p",{className:"text-xs text-label-tertiary uppercase tracking-wide",children:"Avg Time"}),s.jsx("p",{className:"text-2xl font-semibold text-label-primary mt-1",children:Vd(e.avg_execution_time_ms)})]})]}),s.jsxs("div",{className:"p-6 border-b border-separator-light",children:[s.jsx("h3",{className:"text-sm font-semibold text-label-tertiary uppercase tracking-wide mb-3",children:"Execution Steps"}),s.jsx("div",{className:"space-y-2",children:e.steps.map((i,a)=>{const o=i;return s.jsxs("div",{className:"flex items-center gap-3 p-3 bg-separator-light/50 rounded-ios-sm",children:[s.jsx("span",{className:"w-6 h-6 flex items-center justify-center bg-accent-primary text-white text-xs font-medium rounded-full",children:a+1}),s.jsxs("div",{className:"flex-1",children:[s.jsx("p",{className:"text-sm font-medium text-label-primary",children:o.action||o.name||`Step ${a+1}`}),o.timeout_seconds&&s.jsxs("p",{className:"text-xs text-label-tertiary",children:["Timeout: ",o.timeout_seconds,"s"]})]})]},a)})})]}),Object.keys(e.parameters).length>0&&s.jsxs("div",{className:"p-6 border-b border-separator-light",children:[s.jsx("h3",{className:"text-sm font-semibold text-label-tertiary uppercase tracking-wide mb-3",children:"Parameters"}),s.jsx("div",{className:"grid grid-cols-2 gap-2",children:Object.entries(e.parameters).map(([i,a])=>s.jsxs("div",{className:"p-2 bg-separator-light/50 rounded-ios-sm",children:[s.jsx("p",{className:"text-xs text-label-tertiary",children:i}),s.jsx("p",{className:"text-sm font-medium text-label-primary",children:typeof a=="boolean"?a?"Yes":"No":String(a)})]},i))})]}),s.jsxs("div",{className:"p-6",children:[s.jsx("h3",{className:"text-sm font-semibold text-label-tertiary uppercase tracking-wide mb-3",children:"Recent Executions"}),n?s.jsx("div",{className:"space-y-2",children:[1,2,3].map(i=>s.jsx("div",{className:"h-16 bg-separator-light rounded-ios-sm animate-pulse"},i))}):t.length===0?s.jsx("p",{className:"text-label-tertiary text-sm",children:"No recent executions"}):s.jsx("div",{className:"space-y-2",children:t.map(i=>s.jsxs("div",{className:"flex items-center gap-3 p-3 bg-separator-light/50 rounded-ios-sm",children:[s.jsx("div",{className:`w-2 h-2 rounded-full flex-shrink-0 ${i.success?"bg-health-healthy":"bg-health-critical"}`}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("p",{className:"text-sm font-medium text-label-primary truncate",children:i.hostname}),s.jsx("span",{className:"text-xs text-label-tertiary",children:i.site_id.replace(/-/g," ").replace(/\b\w/g,a=>a.toUpperCase())})]}),i.output&&s.jsx("p",{className:"text-xs text-label-secondary truncate",children:i.output}),i.error&&s.jsx("p",{className:"text-xs text-health-critical truncate",children:i.error})]}),s.jsxs("div",{className:"text-right flex-shrink-0",children:[s.jsx("p",{className:"text-xs text-label-tertiary",children:lv(i.executed_at)}),s.jsx("p",{className:"text-xs text-label-secondary",children:Vd(i.execution_time_ms)})]})]},i.id))})]}),s.jsx("div",{className:"p-6 bg-separator-light/30 border-t border-separator-light",children:s.jsxs("div",{className:"flex items-center justify-between text-xs text-label-tertiary",children:[s.jsxs("span",{children:["Created: ",Qd(e.created_at)]}),s.jsxs("span",{children:["Last updated: ",Qd(e.updated_at)]})]})})]})]})]})},av=()=>{const[e,t]=b.useState(null),[n,r]=b.useState("all"),[l,i]=b.useState(""),{data:a=[],isLoading:o,error:c}=Hg(),{data:d}=Wg(e),{data:u=[],isLoading:h}=Vg(e,10),f=a.filter(m=>{const p=n==="all"||m.level===n,g=l===""||m.name.toLowerCase().includes(l.toLowerCase())||m.id.toLowerCase().includes(l.toLowerCase())||m.hipaa_controls.some(v=>v.toLowerCase().includes(l.toLowerCase()));return p&&g}),x=a.reduce((m,p)=>m+p.execution_count,0),j=a.length>0?a.reduce((m,p)=>m+p.success_rate,0)/a.length:0,N=a.filter(m=>m.level==="L1").length,w=a.filter(m=>m.is_disruptive).length;return s.jsxs("div",{className:"space-y-6",children:[s.jsx("div",{className:"flex items-center justify-between",children:s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl font-semibold",children:"Runbook Library"}),s.jsx("p",{className:"text-label-tertiary mt-1",children:"Automated remediation playbooks with HIPAA control mappings"})]})}),s.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[s.jsxs(R,{padding:"md",children:[s.jsx("p",{className:"text-xs text-label-tertiary uppercase tracking-wide",children:"Total Runbooks"}),s.jsx("p",{className:"text-2xl font-semibold mt-1",children:a.length})]}),s.jsxs(R,{padding:"md",children:[s.jsx("p",{className:"text-xs text-label-tertiary uppercase tracking-wide",children:"Total Executions"}),s.jsx("p",{className:"text-2xl font-semibold mt-1",children:x.toLocaleString()})]}),s.jsxs(R,{padding:"md",children:[s.jsx("p",{className:"text-xs text-label-tertiary uppercase tracking-wide",children:"Avg Success Rate"}),s.jsxs("p",{className:"text-2xl font-semibold text-health-healthy mt-1",children:[j.toFixed(1),"%"]})]}),s.jsxs(R,{padding:"md",children:[s.jsx("p",{className:"text-xs text-label-tertiary uppercase tracking-wide",children:"L1 Deterministic"}),s.jsx("p",{className:"text-2xl font-semibold text-ios-blue mt-1",children:N})]})]}),s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsxs("div",{className:"relative flex-1 max-w-md",children:[s.jsx("svg",{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-label-tertiary",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})}),s.jsx("input",{type:"text",placeholder:"Search runbooks, HIPAA controls...",value:l,onChange:m=>i(m.target.value),className:"w-full pl-10 pr-4 py-2 bg-white/50 border border-separator-light rounded-ios-md text-sm focus:outline-none focus:ring-2 focus:ring-accent-primary focus:border-transparent"})]}),s.jsx("div",{className:"flex items-center gap-1 bg-separator-light rounded-ios-md p-1",children:["all","L1","L2","L3"].map(m=>s.jsx("button",{onClick:()=>r(m),className:`px-3 py-1.5 text-sm rounded-ios-sm transition-colors ${n===m?"bg-white shadow-sm text-label-primary font-medium":"text-label-secondary hover:text-label-primary"}`,children:m==="all"?"All":m},m))})]}),o?s.jsx("div",{className:"flex items-center justify-center py-12",children:s.jsx(Is,{size:"lg"})}):c?s.jsx(R,{children:s.jsxs("div",{className:"text-center py-8",children:[s.jsx("p",{className:"text-health-critical",children:"Failed to load runbooks"}),s.jsx("p",{className:"text-label-tertiary text-sm mt-1",children:String(c)})]})}):f.length===0?s.jsx(R,{children:s.jsxs("div",{className:"text-center py-8",children:[s.jsx("p",{className:"text-label-secondary",children:"No runbooks match your filters"}),s.jsx("button",{onClick:()=>{r("all"),i("")},className:"text-accent-primary text-sm mt-2 hover:underline",children:"Clear filters"})]})}):s.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4",children:f.map(m=>s.jsx(rv,{runbook:m,onClick:()=>t(m.id)},m.id))}),s.jsx(R,{padding:"sm",children:s.jsxs("div",{className:"flex items-center justify-center gap-6 text-xs text-label-tertiary",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{className:"px-1.5 py-0.5 bg-ios-blue/10 text-ios-blue rounded",children:"L1"}),s.jsx("span",{children:"Deterministic (<100ms)"})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{className:"px-1.5 py-0.5 bg-ios-purple/10 text-ios-purple rounded",children:"L2"}),s.jsx("span",{children:"LLM-assisted (2-5s)"})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{className:"px-1.5 py-0.5 bg-orange-100 text-orange-700 rounded",children:"Disruptive"}),s.jsxs("span",{children:[w," runbooks may cause service interruption"]})]})]})}),d&&s.jsx(iv,{runbook:d,executions:u,isLoadingExecutions:h,onClose:()=>t(null)})]})},ov=({candidate:e,onApprove:t,onReject:n,isPromoting:r=!1})=>{const l=o=>o<1e3?`${o}ms`:`${(o/1e3).toFixed(1)}s`,i=o=>new Date(o).toLocaleDateString(void 0,{month:"short",day:"numeric"}),a=e.success_rate>=95?"text-health-healthy":e.success_rate>=80?"text-health-warning":"text-health-critical";return s.jsxs(R,{padding:"md",className:"relative",children:[r&&s.jsx("div",{className:"absolute inset-0 bg-white/50 rounded-ios-lg flex items-center justify-center z-10",children:s.jsx("div",{className:"w-6 h-6 border-2 border-accent-primary border-t-transparent rounded-full animate-spin"})}),s.jsxs("div",{className:"flex items-start justify-between gap-4",children:[s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[s.jsx("span",{className:"px-2 py-0.5 text-xs font-medium bg-level-l2 text-white rounded",children:"L2"}),s.jsxs("span",{className:"text-xs text-label-tertiary",children:[i(e.first_seen)," - ",i(e.last_seen)]})]}),s.jsx("h3",{className:"font-mono text-sm font-medium text-label-primary mb-1",children:e.pattern_signature}),s.jsx("p",{className:"text-sm text-label-secondary mb-3",children:e.description}),s.jsxs("div",{className:"bg-separator-light/50 rounded-ios-sm p-3 mb-3",children:[s.jsx("p",{className:"text-xs text-label-tertiary mb-1",children:"Proposed L1 Rule:"}),s.jsx("p",{className:"text-sm font-medium text-label-primary",children:e.proposed_rule})]}),s.jsxs("div",{className:"flex items-center gap-4 text-xs",children:[s.jsxs("div",{children:[s.jsx("span",{className:"text-label-tertiary",children:"Occurrences: "}),s.jsx("span",{className:"font-medium text-label-primary",children:e.occurrences})]}),s.jsxs("div",{children:[s.jsx("span",{className:"text-label-tertiary",children:"Success: "}),s.jsxs("span",{className:`font-medium ${a}`,children:[e.success_rate.toFixed(1),"%"]})]}),s.jsxs("div",{children:[s.jsx("span",{className:"text-label-tertiary",children:"Avg Time: "}),s.jsx("span",{className:"font-medium text-label-primary",children:l(e.avg_resolution_time_ms)})]})]})]}),s.jsxs("div",{className:"flex flex-col gap-2",children:[s.jsx("button",{onClick:()=>t(e.id),disabled:r,className:"btn-primary text-xs px-4 py-2 disabled:opacity-50",children:"Approve"}),s.jsx("button",{onClick:()=>n(e.id),disabled:r,className:"btn-secondary text-xs px-4 py-2 disabled:opacity-50",children:"Reject"})]})]})]})},cv=({history:e,isLoading:t=!1})=>{const n=l=>new Date(l).toLocaleDateString(void 0,{month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}),r=l=>l>=95?"bg-health-healthy":l>=80?"bg-health-warning":"bg-health-critical";return t?s.jsxs(R,{children:[s.jsx("h2",{className:"text-lg font-semibold mb-4",children:"Recently Promoted"}),s.jsx("div",{className:"space-y-4",children:[1,2,3].map(l=>s.jsxs("div",{className:"flex gap-4 animate-pulse",children:[s.jsx("div",{className:"w-3 h-3 bg-separator-light rounded-full mt-1.5"}),s.jsxs("div",{className:"flex-1",children:[s.jsx("div",{className:"h-4 bg-separator-light rounded w-1/2 mb-2"}),s.jsx("div",{className:"h-3 bg-separator-light rounded w-1/3"})]})]},l))})]}):e.length===0?s.jsxs(R,{children:[s.jsx("h2",{className:"text-lg font-semibold mb-4",children:"Recently Promoted"}),s.jsx("p",{className:"text-label-tertiary text-sm",children:"No promotions yet. Approve patterns above to start building your L1 rule library."})]}):s.jsxs(R,{children:[s.jsx("h2",{className:"text-lg font-semibold mb-4",children:"Recently Promoted"}),s.jsxs("div",{className:"relative",children:[s.jsx("div",{className:"absolute left-1.5 top-2 bottom-2 w-px bg-separator-light"}),s.jsx("div",{className:"space-y-4",children:e.map((l,i)=>s.jsxs("div",{className:"flex gap-4 relative",children:[s.jsx("div",{className:`w-3 h-3 rounded-full flex-shrink-0 mt-1.5 ${i===0?"bg-accent-primary":"bg-separator-light"}`}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsxs("div",{className:"flex items-start justify-between gap-2",children:[s.jsxs("div",{className:"min-w-0",children:[s.jsx("p",{className:"font-mono text-sm font-medium text-label-primary truncate",children:l.pattern_signature}),s.jsx("p",{className:"text-xs text-label-tertiary mt-0.5",children:n(l.promoted_at)})]}),s.jsx("div",{className:"flex items-center gap-2 flex-shrink-0",children:s.jsx("span",{className:"px-2 py-0.5 text-xs font-medium bg-level-l1 text-white rounded",children:l.rule_id})})]}),s.jsxs("div",{className:"flex items-center gap-3 mt-2 text-xs",children:[s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx("span",{className:`w-2 h-2 rounded-full ${r(l.post_promotion_success_rate)}`}),s.jsxs("span",{className:"text-label-tertiary",children:[l.post_promotion_success_rate.toFixed(1),"% success"]})]}),s.jsxs("div",{className:"text-label-tertiary",children:[l.executions_since_promotion," executions"]})]})]})]},l.id))})]})]})},dv=()=>{var f,x;const[e,t]=b.useState(null),{data:n,isLoading:r}=qm(),{data:l=[],isLoading:i}=Qg(),{data:a=[],isLoading:o}=Kg(10),c=qg(),d=async j=>{t(j);try{await c.mutateAsync(j)}catch(N){console.error("Failed to promote pattern:",N)}finally{t(null)}},u=j=>{console.log("Rejected pattern:",j)},h=async()=>{for(const j of l)await d(j.id)};return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[s.jsxs(R,{padding:"md",children:[s.jsx("p",{className:"text-label-tertiary text-sm",children:"L1 Rules"}),r?s.jsx("div",{className:"h-9 animate-pulse bg-separator-light rounded mt-1"}):s.jsxs(s.Fragment,{children:[s.jsx("p",{className:"text-3xl font-semibold",children:(n==null?void 0:n.total_l1_rules)??0}),s.jsx("p",{className:"text-xs text-health-healthy",children:"Deterministic resolutions"})]})]}),s.jsxs(R,{padding:"md",children:[s.jsx("p",{className:"text-label-tertiary text-sm",children:"L2 Decisions (30d)"}),r?s.jsx("div",{className:"h-9 animate-pulse bg-separator-light rounded mt-1"}):s.jsxs(s.Fragment,{children:[s.jsx("p",{className:"text-3xl font-semibold",children:(n==null?void 0:n.total_l2_decisions_30d)??0}),s.jsx("p",{className:"text-xs text-label-tertiary",children:"LLM-assisted resolutions"})]})]}),s.jsxs(R,{padding:"md",children:[s.jsx("p",{className:"text-label-tertiary text-sm",children:"L1 Resolution Rate"}),r?s.jsx("div",{className:"h-9 animate-pulse bg-separator-light rounded mt-1"}):s.jsxs(s.Fragment,{children:[s.jsxs("p",{className:"text-3xl font-semibold text-health-healthy",children:[((f=n==null?void 0:n.l1_resolution_rate)==null?void 0:f.toFixed(1))??0,"%"]}),s.jsx("p",{className:"text-xs text-label-tertiary",children:"Target: 70-80%"})]})]}),s.jsxs(R,{padding:"md",children:[s.jsx("p",{className:"text-label-tertiary text-sm",children:"Promotion Success"}),r?s.jsx("div",{className:"h-9 animate-pulse bg-separator-light rounded mt-1"}):s.jsxs(s.Fragment,{children:[s.jsxs("p",{className:`text-3xl font-semibold ${((n==null?void 0:n.promotion_success_rate)??0)>=90?"text-health-healthy":"text-health-warning"}`,children:[((x=n==null?void 0:n.promotion_success_rate)==null?void 0:x.toFixed(1))??0,"%"]}),s.jsx("p",{className:"text-xs text-label-tertiary",children:"Post-promotion accuracy"})]})]})]}),s.jsxs(R,{children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsxs("div",{children:[s.jsxs("h2",{className:"text-lg font-semibold",children:["Awaiting Promotion (",l.length,")"]}),s.jsx("p",{className:"text-sm text-label-tertiary mt-1",children:"L2 patterns with consistent success ready for L1 promotion"})]}),l.length>0&&s.jsx("button",{onClick:h,disabled:e!==null,className:"btn-primary text-sm disabled:opacity-50",children:"Approve All"})]}),i?s.jsx("div",{className:"flex items-center justify-center py-12",children:s.jsx(Is,{size:"lg"})}):l.length===0?s.jsxs("div",{className:"text-center py-12",children:[s.jsx("div",{className:"w-16 h-16 mx-auto mb-4 rounded-full bg-health-healthy/10 flex items-center justify-center",children:s.jsx("svg",{className:"w-8 h-8 text-health-healthy",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})})}),s.jsx("p",{className:"text-label-secondary font-medium",children:"All caught up!"}),s.jsx("p",{className:"text-label-tertiary text-sm mt-1",children:"No patterns awaiting promotion at this time."})]}):s.jsx("div",{className:"space-y-4",children:l.map(j=>s.jsx(ov,{candidate:j,onApprove:d,onReject:u,isPromoting:e===j.id},j.id))})]}),s.jsx(cv,{history:a,isLoading:o}),s.jsxs(R,{padding:"md",children:[s.jsx("h3",{className:"font-semibold text-label-primary mb-2",children:"How the Learning Loop Works"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 text-sm text-label-secondary",children:[s.jsxs("div",{className:"flex gap-3",children:[s.jsx("div",{className:"w-8 h-8 flex-shrink-0 rounded-full bg-level-l2/20 flex items-center justify-center",children:s.jsx("span",{className:"text-level-l2 font-bold text-xs",children:"L2"})}),s.jsxs("div",{children:[s.jsx("p",{className:"font-medium text-label-primary",children:"Pattern Detection"}),s.jsx("p",{className:"text-xs",children:"LLM identifies recurring incident patterns and successful resolutions"})]})]}),s.jsxs("div",{className:"flex gap-3",children:[s.jsx("div",{className:"w-8 h-8 flex-shrink-0 rounded-full bg-accent-primary/20 flex items-center justify-center",children:s.jsx("svg",{className:"w-4 h-4 text-accent-primary",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})})}),s.jsxs("div",{children:[s.jsx("p",{className:"font-medium text-label-primary",children:"Human Review"}),s.jsx("p",{className:"text-xs",children:"Admin approves patterns meeting success thresholds for promotion"})]})]}),s.jsxs("div",{className:"flex gap-3",children:[s.jsx("div",{className:"w-8 h-8 flex-shrink-0 rounded-full bg-level-l1/20 flex items-center justify-center",children:s.jsx("span",{className:"text-level-l1 font-bold text-xs",children:"L1"})}),s.jsxs("div",{children:[s.jsx("p",{className:"font-medium text-label-primary",children:"Deterministic Rule"}),s.jsx("p",{className:"text-xs",children:"Pattern becomes instant L1 resolution - no LLM cost, <100ms"})]})]})]})]})]})},uv={lead:"Lead",discovery:"Discovery",proposal:"Proposal",contract:"Contract",intake:"Intake",creds:"Credentials",shipped:"Shipped",received:"Received",connectivity:"Connectivity",scanning:"Scanning",baseline:"Baseline",compliant:"Compliant",active:"Active"},hv=e=>["lead","discovery","proposal","contract","intake","creds","shipped"].includes(e)?1:2,mv=e=>{switch(e){case"connected":return"bg-health-healthy";case"pending":return"bg-health-warning";case"failed":return"bg-health-critical";default:return"bg-separator-light"}},pv=({client:e,onClick:t})=>{var i;const n=hv(e.stage),r=(e.days_in_stage??0)>7,l=(((i=e.blockers)==null?void 0:i.length)??0)>0;return s.jsx(R,{hover:!0,onClick:t,className:"cursor-pointer",children:s.jsxs("div",{className:"flex items-start justify-between gap-4",children:[s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[s.jsxs("span",{className:`px-2 py-0.5 text-xs font-medium rounded ${n===1?"bg-accent-primary/20 text-accent-primary":"bg-level-l2/20 text-level-l2"}`,children:["Phase ",n]}),s.jsx("span",{className:"text-xs text-label-tertiary",children:uv[e.stage]}),r&&s.jsx("span",{className:"px-1.5 py-0.5 text-xs bg-health-warning/20 text-health-warning rounded",children:"At Risk"})]}),s.jsx("h3",{className:"font-semibold text-label-primary mb-1",children:e.name}),e.contact_name&&s.jsxs("p",{className:"text-sm text-label-secondary mb-2",children:[e.contact_name,e.contact_email&&` - ${e.contact_email}`]}),l&&s.jsx("div",{className:"flex flex-wrap gap-1 mb-2",children:(e.blockers||[]).map((a,o)=>s.jsx("span",{className:"px-2 py-0.5 text-xs bg-health-critical/10 text-health-critical rounded",children:a},o))}),s.jsxs("div",{className:"mt-3",children:[s.jsxs("div",{className:"flex items-center justify-between text-xs mb-1",children:[s.jsx("span",{className:"text-label-tertiary",children:"Progress"}),s.jsxs("span",{className:"font-medium text-label-secondary",children:[e.progress_percent,"%"]})]}),s.jsx("div",{className:"h-1.5 bg-separator-light rounded-full overflow-hidden",children:s.jsx("div",{className:"h-full bg-accent-primary rounded-full transition-all",style:{width:`${e.progress_percent}%`}})})]})]}),s.jsxs("div",{className:"flex flex-col items-end gap-2",children:[s.jsxs("div",{className:"text-right",children:[s.jsx("p",{className:`text-lg font-bold ${r?"text-health-warning":"text-label-primary"}`,children:e.days_in_stage}),s.jsx("p",{className:"text-xs text-label-tertiary",children:"days"})]}),n===2&&e.checkin_status&&s.jsxs("div",{className:"flex items-center gap-1.5",children:[s.jsx("div",{className:`w-2 h-2 rounded-full ${mv(e.checkin_status)}`}),s.jsx("span",{className:"text-xs text-label-tertiary capitalize",children:e.checkin_status})]}),n===2&&e.compliance_score!=null&&s.jsxs("div",{className:"text-right",children:[s.jsxs("p",{className:"text-sm font-medium text-label-secondary",children:[((e==null?void 0:e.compliance_score)??0).toFixed(0),"%"]}),s.jsx("p",{className:"text-xs text-label-tertiary",children:"compliance"})]})]})]})})};class fv extends po.Component{constructor(t){super(t),this.state={hasError:!1,error:null}}static getDerivedStateFromError(t){return{hasError:!0,error:t}}render(){var t,n;return this.state.hasError?s.jsxs("div",{className:"p-4 bg-red-500/20 border border-red-500 rounded-lg text-red-500",children:[s.jsx("strong",{children:"PipelineStages Error:"})," ",(t=this.state.error)==null?void 0:t.message,s.jsx("pre",{className:"mt-2 text-xs overflow-auto",children:(n=this.state.error)==null?void 0:n.stack})]}):this.props.children}}const xv=[{key:"lead",label:"Lead",shortLabel:"Lead"},{key:"discovery",label:"Discovery",shortLabel:"Disc"},{key:"proposal",label:"Proposal",shortLabel:"Prop"},{key:"contract",label:"Contract",shortLabel:"Sign"},{key:"intake",label:"Intake",shortLabel:"Form"},{key:"creds",label:"Credentials",shortLabel:"Cred"},{key:"shipped",label:"Shipped",shortLabel:"Ship"}],yv=[{key:"received",label:"Received",shortLabel:"Recv"},{key:"connectivity",label:"Connectivity",shortLabel:"Conn"},{key:"scanning",label:"Scanning",shortLabel:"Scan"},{key:"baseline",label:"Baseline",shortLabel:"Base"},{key:"compliant",label:"Compliant",shortLabel:"Comp"},{key:"active",label:"Active",shortLabel:"Live"}],gv=({metrics:e,isLoading:t})=>{const n=(i,a)=>e?(i==="acquisition"?e.acquisition:e.activation)[a]??0:0,r=(i,a)=>Math.max(...i.map(o=>n(a,o.key)),1),l=(i,a,o)=>{const c=r(i,a);return s.jsx("div",{className:"flex gap-2",children:i.map(d=>{const u=n(a,d.key),h=u/c*100;return s.jsxs("div",{className:"flex-1 text-center",children:[s.jsxs("div",{className:"relative h-16 bg-separator-light/50 rounded-ios-sm overflow-hidden mb-1",children:[s.jsx("div",{className:`absolute bottom-0 left-0 right-0 ${o} transition-all duration-500`,style:{height:`${h}%`}}),s.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:s.jsx("span",{className:`text-lg font-bold ${u>0?"text-white":"text-label-tertiary"}`,children:t?"-":u})})]}),s.jsx("span",{className:"text-xs text-label-tertiary",title:d.label,children:d.shortLabel})]},d.key)})})};return s.jsx(fv,{children:s.jsxs(R,{children:[s.jsxs("div",{className:"mb-6",children:[s.jsxs("div",{className:"flex items-center justify-between mb-3",children:[s.jsx("h2",{className:"text-sm font-semibold text-label-tertiary uppercase tracking-wide",children:"Phase 1: Acquisition"}),e&&s.jsxs("span",{className:"text-sm text-label-secondary",children:["Avg ",((e==null?void 0:e.avg_days_to_ship)??0).toFixed(0)," days to ship"]})]}),l(xv,"acquisition","bg-accent-primary")]}),s.jsxs("div",{className:"flex items-center gap-4 mb-6",children:[s.jsx("div",{className:"flex-1 h-px bg-separator-light"}),s.jsx("svg",{className:"w-6 h-6 text-label-tertiary",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M19 14l-7 7m0 0l-7-7m7 7V3"})}),s.jsx("div",{className:"flex-1 h-px bg-separator-light"})]}),s.jsxs("div",{children:[s.jsxs("div",{className:"flex items-center justify-between mb-3",children:[s.jsx("h2",{className:"text-sm font-semibold text-label-tertiary uppercase tracking-wide",children:"Phase 2: Activation"}),e&&s.jsxs("span",{className:"text-sm text-label-secondary",children:["Avg ",((e==null?void 0:e.avg_days_to_active)??0).toFixed(0)," days to active"]})]}),l(yv,"activation","bg-level-l2")]})]})})},vv=({isOpen:e,onClose:t,onSubmit:n,isLoading:r})=>{const[l,i]=b.useState(""),[a,o]=b.useState(""),[c,d]=b.useState(""),[u,h]=b.useState("mid");if(!e)return null;const f=x=>{x.preventDefault(),n({clinic_name:l,contact_name:a||void 0,contact_email:c||void 0,tier:u})};return s.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50",children:s.jsxs(R,{className:"w-full max-w-md",children:[s.jsx("h2",{className:"text-xl font-semibold mb-4",children:"New Prospect"}),s.jsxs("form",{onSubmit:f,className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-label-secondary mb-1",children:"Clinic Name *"}),s.jsx("input",{type:"text",value:l,onChange:x=>i(x.target.value),placeholder:"e.g., Acme Dental",className:"w-full px-3 py-2 rounded-ios bg-fill-secondary text-label-primary border border-separator-light focus:border-accent-primary focus:outline-none",required:!0})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-label-secondary mb-1",children:"Contact Name"}),s.jsx("input",{type:"text",value:a,onChange:x=>o(x.target.value),placeholder:"e.g., Dr. Smith",className:"w-full px-3 py-2 rounded-ios bg-fill-secondary text-label-primary border border-separator-light focus:border-accent-primary focus:outline-none"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-label-secondary mb-1",children:"Contact Email"}),s.jsx("input",{type:"email",value:c,onChange:x=>d(x.target.value),placeholder:"e.g., contact@acmedental.com",className:"w-full px-3 py-2 rounded-ios bg-fill-secondary text-label-primary border border-separator-light focus:border-accent-primary focus:outline-none"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-label-secondary mb-1",children:"Practice Size"}),s.jsxs("select",{value:u,onChange:x=>h(x.target.value),className:"w-full px-3 py-2 rounded-ios bg-fill-secondary text-label-primary border border-separator-light focus:border-accent-primary focus:outline-none",children:[s.jsx("option",{value:"small",children:"Small (1-5 providers)"}),s.jsx("option",{value:"mid",children:"Mid (6-15 providers)"}),s.jsx("option",{value:"large",children:"Large (15-50 providers)"})]})]}),s.jsxs("div",{className:"flex gap-3 pt-2",children:[s.jsx("button",{type:"button",onClick:t,className:"flex-1 px-4 py-2 rounded-ios bg-fill-secondary text-label-primary hover:bg-fill-tertiary transition-colors",children:"Cancel"}),s.jsx("button",{type:"submit",disabled:!l||r,className:"flex-1 px-4 py-2 rounded-ios bg-accent-primary text-white hover:bg-accent-primary/90 transition-colors disabled:opacity-50",children:r?"Creating...":"Add Prospect"})]})]})]})})},jv=()=>{const e=it(),[t,n]=b.useState("all"),[r,l]=b.useState(!1),{data:i=[],isLoading:a}=Gg(),{data:o,isLoading:c}=Xg(),d=Gm(),u=async m=>{try{const p=await d.mutateAsync(m);l(!1),e(`/sites/${p.site_id}`)}catch(p){console.error("Failed to create prospect:",p)}},h=["lead","discovery","proposal","contract","intake","creds","shipped"],f=["received","connectivity","scanning","baseline","compliant","active"],x=i.filter(m=>t==="all"?m.stage!=="active":t===1?h.includes(m.stage):f.includes(m.stage)&&m.stage!=="active"),j=i.filter(m=>m.stage==="active"),N=[...x].sort((m,p)=>(p.days_in_stage??0)-(m.days_in_stage??0)),w=i.filter(m=>{var p;return(((p=m.blockers)==null?void 0:p.length)??0)>0});return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl font-semibold text-label-primary",children:"Onboarding Pipeline"}),s.jsxs("p",{className:"text-label-tertiary text-sm mt-1",children:[(o==null?void 0:o.total_prospects)??0," active prospects"]})]}),s.jsx("button",{onClick:()=>l(!0),className:"btn-primary",children:"+ New Prospect"})]}),s.jsx(gv,{metrics:o,isLoading:c}),s.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[s.jsxs(R,{padding:"md",className:"text-center",children:[s.jsx("p",{className:`text-2xl font-bold ${((o==null?void 0:o.at_risk_count)??0)>0?"text-health-warning":"text-label-primary"}`,children:c?"-":(o==null?void 0:o.at_risk_count)??0}),s.jsx("p",{className:"text-xs text-label-tertiary",children:"At Risk (>7 days)"})]}),s.jsxs(R,{padding:"md",className:"text-center",children:[s.jsx("p",{className:`text-2xl font-bold ${((o==null?void 0:o.stalled_count)??0)>0?"text-health-critical":"text-label-primary"}`,children:c?"-":(o==null?void 0:o.stalled_count)??0}),s.jsx("p",{className:"text-xs text-label-tertiary",children:"Stalled (>14 days)"})]}),s.jsxs(R,{padding:"md",className:"text-center",children:[s.jsx("p",{className:`text-2xl font-bold ${((o==null?void 0:o.connectivity_issues)??0)>0?"text-health-critical":"text-label-primary"}`,children:c?"-":(o==null?void 0:o.connectivity_issues)??0}),s.jsx("p",{className:"text-xs text-label-tertiary",children:"Connectivity Issues"})]}),s.jsxs(R,{padding:"md",className:"text-center",children:[s.jsx("p",{className:"text-2xl font-bold text-accent-primary",children:c?"-":j.length}),s.jsx("p",{className:"text-xs text-label-tertiary",children:"Recently Activated"})]})]}),w.length>0&&s.jsx(R,{className:"border-l-4 border-health-warning",children:s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx("div",{className:"w-8 h-8 rounded-full bg-health-warning/20 flex items-center justify-center flex-shrink-0",children:s.jsx("svg",{className:"w-4 h-4 text-health-warning",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})})}),s.jsxs("div",{children:[s.jsxs("h3",{className:"font-semibold text-label-primary",children:[w.length," Prospect",w.length>1?"s":""," with Blockers"]}),s.jsx("p",{className:"text-sm text-label-secondary mt-1",children:w.map(m=>m.name).join(", ")})]})]})}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{className:"text-sm text-label-tertiary",children:"Show:"}),s.jsx("div",{className:"flex gap-1",children:[{value:"all",label:"All"},{value:1,label:"Phase 1"},{value:2,label:"Phase 2"}].map(m=>s.jsx("button",{onClick:()=>n(m.value),className:`px-3 py-1.5 text-sm rounded-ios-sm transition-colors ${t===m.value?"bg-accent-primary text-white":"bg-separator-light text-label-secondary hover:bg-separator-light/80"}`,children:m.label},m.value))}),s.jsxs("span",{className:"text-sm text-label-tertiary ml-4",children:[N.length," prospect",N.length!==1?"s":""]})]}),a?s.jsx("div",{className:"flex items-center justify-center py-12",children:s.jsx(Is,{size:"lg"})}):N.length===0?s.jsxs(R,{className:"text-center py-12",children:[s.jsx("div",{className:"w-16 h-16 mx-auto mb-4 rounded-full bg-accent-primary/10 flex items-center justify-center",children:s.jsx("svg",{className:"w-8 h-8 text-accent-primary",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M18 9v3m0 0v3m0-3h3m-3 0h-3m-2-5a4 4 0 11-8 0 4 4 0 018 0zM3 20a6 6 0 0112 0v1H3v-1z"})})}),s.jsx("h3",{className:"font-semibold text-label-primary mb-2",children:"No prospects in pipeline"}),s.jsx("p",{className:"text-label-tertiary text-sm mb-4",children:'Click "New Prospect" to add your first client.'}),s.jsx("button",{onClick:()=>l(!0),className:"btn-primary",children:"+ New Prospect"})]}):s.jsx("div",{className:"space-y-4",children:N.map(m=>s.jsx(pv,{client:m},m.id))}),j.length>0&&s.jsxs(R,{children:[s.jsx("h2",{className:"text-lg font-semibold mb-4",children:"Recently Activated"}),s.jsx("div",{className:"space-y-2",children:j.slice(0,5).map(m=>s.jsxs("div",{className:"flex items-center justify-between py-3 border-b border-separator-light last:border-0",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"w-8 h-8 rounded-full bg-health-healthy/20 flex items-center justify-center",children:s.jsx("svg",{className:"w-4 h-4 text-health-healthy",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})})}),s.jsxs("div",{children:[s.jsx("p",{className:"font-medium text-label-primary",children:m.name}),s.jsx("p",{className:"text-xs text-label-tertiary",children:m.site_id&&`Site: ${m.site_id}`})]})]}),s.jsxs("div",{className:"text-right",children:[s.jsx("p",{className:"text-sm font-medium text-health-healthy",children:"Active"}),s.jsx("p",{className:"text-xs text-label-tertiary",children:m.active_at?new Date(m.active_at).toLocaleDateString():"Recently"})]})]},m.id))})]}),s.jsx(vv,{isOpen:r,onClose:()=>l(!1),onSubmit:u,isLoading:d.isPending})]})},Nv=()=>{const{siteId:e}=ic(),t=it(),{data:n,isLoading:r,error:l}=Ug(e||null),{data:i=[]}=Km({site_id:e,limit:10}),a=u=>u.charAt(0).toUpperCase()+u.slice(1),o=u=>u>=100?{text:"PASS",color:"text-health-healthy"}:u>=50?{text:"WARN",color:"text-health-warning"}:{text:"FAIL",color:"text-health-critical"},c=u=>{if(!u)return"Never";const h=new Date(u),x=new Date().getTime()-h.getTime(),j=Math.floor(x/6e4);return j<1?"Just now":j<60?`${j}m ago`:j<1440?`${Math.floor(j/60)}h ago`:h.toLocaleDateString()};if(r)return s.jsx("div",{className:"flex items-center justify-center min-h-[400px]",children:s.jsx(Is,{size:"lg"})});if(l||!n)return s.jsxs("div",{className:"flex flex-col items-center justify-center min-h-[400px] text-center",children:[s.jsx("div",{className:"w-16 h-16 mb-4 rounded-full bg-health-critical/10 flex items-center justify-center",children:s.jsx("svg",{className:"w-8 h-8 text-health-critical",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})})}),s.jsx("h2",{className:"text-xl font-semibold text-label-primary mb-2",children:"Client Not Found"}),s.jsxs("p",{className:"text-label-tertiary mb-4",children:['Could not load data for "',e,'"']}),s.jsx("button",{onClick:()=>t("/"),className:"btn-primary",children:"Return to Dashboard"})]});const d=["patching","antivirus","backup","logging","firewall","encryption"];return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx("button",{onClick:()=>t("/"),className:"p-2 hover:bg-separator-light rounded-ios-sm transition-colors","aria-label":"Back to dashboard",children:s.jsx("svg",{className:"w-5 h-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})})}),s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl font-semibold text-label-primary",children:n.name}),s.jsxs("p",{className:"text-label-tertiary",children:[n.tier," Tier"]})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[s.jsxs(R,{className:"flex flex-col items-center justify-center py-8",children:[s.jsx(Gl,{score:n.health.overall,size:"xl"}),s.jsx("p",{className:"mt-4 text-sm text-label-tertiary",children:"Overall Health"})]}),s.jsxs(R,{children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsx("h3",{className:"font-semibold",children:"Connectivity"}),s.jsxs("span",{className:"text-lg font-bold text-accent-primary",children:[n.health.connectivity.score.toFixed(0),"%"]})]}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{children:[s.jsxs("div",{className:"flex justify-between text-sm mb-1",children:[s.jsx("span",{className:"text-label-secondary",children:"Check-in Freshness"}),s.jsxs("span",{className:`font-medium ${o(n.health.connectivity.checkin_freshness).color}`,children:[n.health.connectivity.checkin_freshness,"%"]})]}),s.jsx("div",{className:"h-1.5 bg-separator-light rounded-full overflow-hidden",children:s.jsx("div",{className:"h-full bg-accent-primary rounded-full transition-all",style:{width:`${n.health.connectivity.checkin_freshness}%`}})})]}),s.jsxs("div",{children:[s.jsxs("div",{className:"flex justify-between text-sm mb-1",children:[s.jsx("span",{className:"text-label-secondary",children:"Healing Success"}),s.jsxs("span",{className:`font-medium ${o(n.health.connectivity.healing_success_rate).color}`,children:[n.health.connectivity.healing_success_rate,"%"]})]}),s.jsx("div",{className:"h-1.5 bg-separator-light rounded-full overflow-hidden",children:s.jsx("div",{className:"h-full bg-accent-primary rounded-full transition-all",style:{width:`${n.health.connectivity.healing_success_rate}%`}})})]}),s.jsxs("div",{children:[s.jsxs("div",{className:"flex justify-between text-sm mb-1",children:[s.jsx("span",{className:"text-label-secondary",children:"Order Execution"}),s.jsxs("span",{className:`font-medium ${o(n.health.connectivity.order_execution_rate).color}`,children:[n.health.connectivity.order_execution_rate,"%"]})]}),s.jsx("div",{className:"h-1.5 bg-separator-light rounded-full overflow-hidden",children:s.jsx("div",{className:"h-full bg-accent-primary rounded-full transition-all",style:{width:`${n.health.connectivity.order_execution_rate}%`}})})]})]})]}),s.jsxs(R,{children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsx("h3",{className:"font-semibold",children:"Compliance"}),s.jsxs("span",{className:"text-lg font-bold text-accent-primary",children:[n.health.compliance.score.toFixed(0),"%"]})]}),s.jsx("div",{className:"space-y-2",children:d.map(u=>{const h=n.compliance_breakdown[u]??0,f=o(h*100);return s.jsxs("div",{className:"flex justify-between text-sm",children:[s.jsx("span",{className:"text-label-secondary",children:a(u)}),s.jsx("span",{className:`font-medium ${f.color}`,children:f.text})]},u)})})]})]}),s.jsxs(R,{children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsxs("h2",{className:"text-lg font-semibold",children:["Appliances (",n.appliances.length,")"]}),s.jsxs("div",{className:"flex items-center gap-2 text-sm text-label-tertiary",children:[s.jsx("span",{className:"w-2 h-2 rounded-full bg-health-healthy"}),n.appliances.filter(u=>u.is_online).length," online"]})]}),n.appliances.length===0?s.jsx("p",{className:"text-label-tertiary text-center py-8",children:"No appliances registered for this client."}):s.jsx("div",{className:"space-y-3",children:n.appliances.map(u=>s.jsxs("div",{className:"flex items-center justify-between p-4 bg-separator-light/50 rounded-ios-md",children:[s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx("div",{className:`w-3 h-3 rounded-full ${u.is_online?"bg-health-healthy":"bg-health-critical"}`}),s.jsxs("div",{children:[s.jsx("p",{className:"font-medium text-label-primary",children:u.hostname}),s.jsxs("p",{className:"text-xs text-label-tertiary",children:[u.ip_address||"No IP"," | v",u.agent_version||"?"]})]})]}),s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsxs("div",{className:"text-right text-xs text-label-tertiary",children:[s.jsx("p",{children:"Last check-in"}),s.jsx("p",{className:"font-medium text-label-secondary",children:c(u.last_checkin)})]}),u.health&&s.jsx(Gl,{score:u.health.overall,size:"sm"})]})]},u.id))})]}),s.jsxs(R,{children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsx("h2",{className:"text-lg font-semibold",children:"Recent Incidents"}),s.jsx("span",{className:"text-sm text-label-tertiary",children:"Last 10"})]}),i.length===0?s.jsxs("div",{className:"text-center py-8",children:[s.jsx("div",{className:"w-12 h-12 mx-auto mb-3 rounded-full bg-health-healthy/10 flex items-center justify-center",children:s.jsx("svg",{className:"w-6 h-6 text-health-healthy",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})})}),s.jsx("p",{className:"text-label-secondary font-medium",children:"No recent incidents"}),s.jsx("p",{className:"text-label-tertiary text-sm",children:"This client has been running smoothly."})]}):s.jsx("div",{className:"space-y-2",children:i.map(u=>s.jsx(Vm,{incident:u},u.id))})]}),s.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[s.jsxs(R,{padding:"md",className:"text-center",children:[s.jsx("p",{className:"text-3xl font-bold text-label-primary",children:n.appliances.length}),s.jsx("p",{className:"text-sm text-label-tertiary",children:"Total Appliances"})]}),s.jsxs(R,{padding:"md",className:"text-center",children:[s.jsx("p",{className:"text-3xl font-bold text-health-healthy",children:n.appliances.filter(u=>u.is_online).length}),s.jsx("p",{className:"text-sm text-label-tertiary",children:"Online"})]}),s.jsxs(R,{padding:"md",className:"text-center",children:[s.jsx("p",{className:"text-3xl font-bold text-label-primary",children:i.filter(u=>!u.resolved).length}),s.jsx("p",{className:"text-sm text-label-tertiary",children:"Open Incidents"})]}),s.jsxs(R,{padding:"md",className:"text-center",children:[s.jsx("p",{className:"text-3xl font-bold text-accent-primary",children:i.filter(u=>u.resolution_level==="L1").length}),s.jsx("p",{className:"text-sm text-label-tertiary",children:"L1 Resolved"})]})]})]})},Xm=b.createContext(void 0),bv={admin:{password:"admin",role:"admin",displayName:"Administrator"}},wv=({children:e})=>{const[t,n]=b.useState(null),[r,l]=b.useState([]);b.useEffect(()=>{const c=localStorage.getItem("auth_user");if(c)try{n(JSON.parse(c))}catch{localStorage.removeItem("auth_user")}const d=localStorage.getItem("audit_logs");if(d)try{l(JSON.parse(d))}catch{localStorage.removeItem("audit_logs")}},[]);const i=(c,d,u)=>{const h={id:Date.now(),timestamp:new Date().toISOString(),user:(t==null?void 0:t.username)||"anonymous",action:c,target:d,details:u};l(f=>{const x=[h,...f].slice(0,1e3);return localStorage.setItem("audit_logs",JSON.stringify(x)),x})},a=async(c,d)=>{const u=bv[c];if(u&&u.password===d){const h={username:c,role:u.role,displayName:u.displayName};n(h),localStorage.setItem("auth_user",JSON.stringify(h));const f={id:Date.now(),timestamp:new Date().toISOString(),user:c,action:"LOGIN",target:"Authentication",details:"User logged in successfully"};return l(x=>{const j=[f,...x].slice(0,1e3);return localStorage.setItem("audit_logs",JSON.stringify(j)),j}),!0}return!1},o=()=>{t&&i("LOGOUT","Authentication","User logged out"),n(null),localStorage.removeItem("auth_user")};return s.jsx(Xm.Provider,{value:{user:t,isAuthenticated:!!t,login:a,logout:o,auditLogs:r,addAuditLog:i},children:e})},yi=()=>{const e=b.useContext(Xm);if(e===void 0)throw new Error("useAuth must be used within an AuthProvider");return e},kv=({onSuccess:e})=>{const{login:t}=yi(),[n,r]=b.useState(""),[l,i]=b.useState(""),[a,o]=b.useState(""),[c,d]=b.useState(!1),u=async h=>{h.preventDefault(),o(""),d(!0);const f=await t(n,l);d(!1),f?e():o("Invalid username or password")};return s.jsx("div",{className:"min-h-screen bg-background-primary flex items-center justify-center p-4",children:s.jsxs("div",{className:"w-full max-w-md",children:[s.jsxs("div",{className:"text-center mb-8",children:[s.jsx("div",{className:"w-16 h-16 bg-accent-primary rounded-ios-lg mx-auto flex items-center justify-center mb-4",children:s.jsx("span",{className:"text-white font-bold text-2xl",children:"M"})}),s.jsx("h1",{className:"text-2xl font-semibold text-label-primary",children:"Central Command"}),s.jsx("p",{className:"text-label-tertiary mt-1",children:"Sign in to continue"})]}),s.jsxs("div",{className:"bg-white/80 backdrop-blur-xl rounded-ios-lg shadow-lg border border-white/50 p-8",children:[s.jsxs("form",{onSubmit:u,className:"space-y-6",children:[a&&s.jsx("div",{className:"p-3 bg-red-50 border border-red-200 rounded-ios-md",children:s.jsx("p",{className:"text-sm text-health-critical",children:a})}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"username",className:"block text-sm font-medium text-label-primary mb-2",children:"Username"}),s.jsx("input",{id:"username",type:"text",value:n,onChange:h=>r(h.target.value),required:!0,autoComplete:"username",className:"w-full px-4 py-3 bg-separator-light rounded-ios-md border-none outline-none focus:ring-2 focus:ring-accent-primary text-label-primary placeholder-label-tertiary",placeholder:"Enter username"})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-label-primary mb-2",children:"Password"}),s.jsx("input",{id:"password",type:"password",value:l,onChange:h=>i(h.target.value),required:!0,autoComplete:"current-password",className:"w-full px-4 py-3 bg-separator-light rounded-ios-md border-none outline-none focus:ring-2 focus:ring-accent-primary text-label-primary placeholder-label-tertiary",placeholder:"Enter password"})]}),s.jsx("button",{type:"submit",disabled:c,className:"w-full py-3 bg-accent-primary text-white font-medium rounded-ios-md hover:bg-accent-primary/90 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:c?"Signing in...":"Sign In"})]}),s.jsx("div",{className:"mt-6 pt-6 border-t border-separator-light",children:s.jsx("p",{className:"text-xs text-label-tertiary text-center",children:"Default credentials: admin / admin"})})]}),s.jsx("p",{className:"text-xs text-label-tertiary text-center mt-8",children:"Malachor MSP Compliance Platform"})]})})},Sv=e=>new Date(e).toLocaleString([],{month:"short",day:"numeric",year:"numeric",hour:"2-digit",minute:"2-digit",second:"2-digit"}),Cv=e=>{switch(e){case"LOGIN":return"text-health-healthy bg-green-50";case"LOGOUT":return"text-label-secondary bg-gray-100";case"CREATE":case"UPDATE":return"text-ios-blue bg-blue-50";case"DELETE":return"text-health-critical bg-red-50";case"EXECUTE":return"text-ios-purple bg-purple-50";case"VIEW":return"text-label-tertiary bg-gray-50";default:return"text-label-secondary bg-gray-100"}},_v=()=>{const{auditLogs:e,user:t}=yi(),[n,r]=b.useState("all"),[l,i]=b.useState("all"),[a,o]=b.useState(""),c=Array.from(new Set(e.map(x=>x.action))),d=Array.from(new Set(e.map(x=>x.user))),u=e.filter(x=>{var m;const j=n==="all"||x.action===n,N=l==="all"||x.user===l,w=a===""||x.target.toLowerCase().includes(a.toLowerCase())||(((m=x.details)==null?void 0:m.toLowerCase().includes(a.toLowerCase()))??!1);return j&&N&&w}),h=e.filter(x=>{const j=new Date(x.timestamp),N=new Date;return j.toDateString()===N.toDateString()}).length,f=e.filter(x=>x.action==="LOGIN").length;return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl font-semibold",children:"Audit Logs"}),s.jsx("p",{className:"text-label-tertiary mt-1",children:"Track all user actions and system changes for accountability"})]}),(t==null?void 0:t.role)==="admin"&&s.jsxs("button",{onClick:()=>{if(confirm("Export audit logs to CSV?")){const x=[["Timestamp","User","Action","Target","Details"].join(","),...e.map(m=>[m.timestamp,m.user,m.action,`"${m.target}"`,`"${m.details||""}"`].join(","))].join(`
`),j=new Blob([x],{type:"text/csv"}),N=URL.createObjectURL(j),w=document.createElement("a");w.href=N,w.download=`audit-logs-${new Date().toISOString().split("T")[0]}.csv`,w.click()}},className:"btn-secondary flex items-center gap-2",children:[s.jsx("svg",{className:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-4l-4 4m0 0l-4-4m4 4V4"})}),"Export CSV"]})]}),s.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[s.jsxs(R,{padding:"md",children:[s.jsx("p",{className:"text-xs text-label-tertiary uppercase tracking-wide",children:"Total Logs"}),s.jsx("p",{className:"text-2xl font-semibold mt-1",children:e.length})]}),s.jsxs(R,{padding:"md",children:[s.jsx("p",{className:"text-xs text-label-tertiary uppercase tracking-wide",children:"Today"}),s.jsx("p",{className:"text-2xl font-semibold mt-1",children:h})]}),s.jsxs(R,{padding:"md",children:[s.jsx("p",{className:"text-xs text-label-tertiary uppercase tracking-wide",children:"Login Events"}),s.jsx("p",{className:"text-2xl font-semibold text-health-healthy mt-1",children:f})]}),s.jsxs(R,{padding:"md",children:[s.jsx("p",{className:"text-xs text-label-tertiary uppercase tracking-wide",children:"Unique Users"}),s.jsx("p",{className:"text-2xl font-semibold mt-1",children:d.length})]})]}),s.jsxs("div",{className:"flex flex-wrap items-center gap-4",children:[s.jsxs("div",{className:"relative flex-1 max-w-md",children:[s.jsx("svg",{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-label-tertiary",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})}),s.jsx("input",{type:"text",placeholder:"Search logs...",value:a,onChange:x=>o(x.target.value),className:"w-full pl-10 pr-4 py-2 bg-white/50 border border-separator-light rounded-ios-md text-sm focus:outline-none focus:ring-2 focus:ring-accent-primary focus:border-transparent"})]}),s.jsxs("select",{value:n,onChange:x=>r(x.target.value),className:"px-4 py-2 bg-white/50 border border-separator-light rounded-ios-md text-sm focus:outline-none focus:ring-2 focus:ring-accent-primary",children:[s.jsx("option",{value:"all",children:"All Actions"}),c.map(x=>s.jsx("option",{value:x,children:x},x))]}),s.jsxs("select",{value:l,onChange:x=>i(x.target.value),className:"px-4 py-2 bg-white/50 border border-separator-light rounded-ios-md text-sm focus:outline-none focus:ring-2 focus:ring-accent-primary",children:[s.jsx("option",{value:"all",children:"All Users"}),d.map(x=>s.jsx("option",{value:x,children:x},x))]})]}),s.jsx(R,{children:u.length===0?s.jsxs("div",{className:"text-center py-12",children:[s.jsx("svg",{className:"w-12 h-12 text-label-tertiary mx-auto mb-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})}),s.jsx("p",{className:"text-label-secondary",children:"No audit logs found"}),s.jsx("p",{className:"text-label-tertiary text-sm mt-1",children:e.length===0?"Actions will be logged here as you use the system":"Try adjusting your filters"})]}):s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"w-full",children:[s.jsx("thead",{children:s.jsxs("tr",{className:"border-b border-separator-light",children:[s.jsx("th",{className:"text-left text-xs font-semibold text-label-tertiary uppercase tracking-wide py-3 px-4",children:"Timestamp"}),s.jsx("th",{className:"text-left text-xs font-semibold text-label-tertiary uppercase tracking-wide py-3 px-4",children:"User"}),s.jsx("th",{className:"text-left text-xs font-semibold text-label-tertiary uppercase tracking-wide py-3 px-4",children:"Action"}),s.jsx("th",{className:"text-left text-xs font-semibold text-label-tertiary uppercase tracking-wide py-3 px-4",children:"Target"}),s.jsx("th",{className:"text-left text-xs font-semibold text-label-tertiary uppercase tracking-wide py-3 px-4",children:"Details"})]})}),s.jsx("tbody",{children:u.map(x=>s.jsxs("tr",{className:"border-b border-separator-light last:border-b-0 hover:bg-separator-light/50 transition-colors",children:[s.jsx("td",{className:"py-3 px-4",children:s.jsx("span",{className:"text-sm text-label-secondary font-mono",children:Sv(x.timestamp)})}),s.jsx("td",{className:"py-3 px-4",children:s.jsx("span",{className:"text-sm font-medium text-label-primary",children:x.user})}),s.jsx("td",{className:"py-3 px-4",children:s.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-medium rounded ${Cv(x.action)}`,children:x.action})}),s.jsx("td",{className:"py-3 px-4",children:s.jsx("span",{className:"text-sm text-label-primary",children:x.target})}),s.jsx("td",{className:"py-3 px-4",children:s.jsx("span",{className:"text-sm text-label-tertiary",children:x.details||"-"})})]},x.id))})]})})}),s.jsx(R,{padding:"sm",children:s.jsx("p",{className:"text-xs text-label-tertiary text-center",children:"Audit logs are stored locally and retained for accountability. Export to CSV for permanent records."})})]})},Pv=({status:e})=>{const t={online:{color:"bg-health-healthy",icon:"",label:"Online"},stale:{color:"bg-health-warning",icon:"",label:"Stale"},offline:{color:"bg-health-critical",icon:"",label:"Offline"},pending:{color:"bg-gray-400",icon:"",label:"Pending"}},n=t[e]||t.pending;return s.jsxs("span",{className:"inline-flex items-center gap-1.5 text-sm",children:[s.jsx("span",{children:n.icon}),s.jsx("span",{className:`font-medium ${e==="online"?"text-health-healthy":e==="stale"?"text-health-warning":e==="offline"?"text-health-critical":"text-label-tertiary"}`,children:n.label})]})};function Ev(e){if(!e)return"Never";const t=new Date(e),r=new Date().getTime()-t.getTime(),l=Math.floor(r/6e4);if(l<1)return"Just now";if(l<60)return`${l} min ago`;const i=Math.floor(l/60);return i<24?`${i}h ago`:`${Math.floor(i/24)}d ago`}const Lv=({site:e,onClick:t})=>s.jsxs("tr",{onClick:t,className:"hover:bg-fill-tertiary/50 cursor-pointer transition-colors",children:[s.jsx("td",{className:"px-4 py-3",children:s.jsxs("div",{children:[s.jsx("p",{className:"font-medium text-label-primary",children:e.clinic_name}),s.jsx("p",{className:"text-xs text-label-tertiary",children:e.site_id})]})}),s.jsx("td",{className:"px-4 py-3",children:s.jsx(Pv,{status:e.live_status})}),s.jsx("td",{className:"px-4 py-3 text-sm text-label-secondary",children:Ev(e.last_checkin)}),s.jsx("td",{className:"px-4 py-3",children:s.jsx(An,{variant:e.onboarding_stage==="active"?"success":e.onboarding_stage==="connectivity"?"info":"default",children:e.onboarding_stage.replace("_"," ")})}),s.jsx("td",{className:"px-4 py-3 text-sm text-label-secondary",children:e.appliance_count}),s.jsx("td",{className:"px-4 py-3",children:s.jsx(An,{variant:e.tier==="large"?"success":e.tier==="mid"?"info":"default",children:e.tier})})]}),Rv=({isOpen:e,onClose:t,onSubmit:n,isLoading:r})=>{const[l,i]=b.useState(""),[a,o]=b.useState(""),[c,d]=b.useState(""),[u,h]=b.useState("mid");if(!e)return null;const f=x=>{x.preventDefault(),n({clinic_name:l,contact_name:a||void 0,contact_email:c||void 0,tier:u})};return s.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50",children:s.jsxs(R,{className:"w-full max-w-md",children:[s.jsx("h2",{className:"text-xl font-semibold mb-4",children:"New Site"}),s.jsxs("form",{onSubmit:f,className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-label-secondary mb-1",children:"Clinic Name *"}),s.jsx("input",{type:"text",value:l,onChange:x=>i(x.target.value),className:"w-full px-3 py-2 rounded-ios bg-fill-secondary text-label-primary border border-separator-light focus:border-accent-primary focus:outline-none",required:!0})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-label-secondary mb-1",children:"Contact Name"}),s.jsx("input",{type:"text",value:a,onChange:x=>o(x.target.value),className:"w-full px-3 py-2 rounded-ios bg-fill-secondary text-label-primary border border-separator-light focus:border-accent-primary focus:outline-none"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-label-secondary mb-1",children:"Contact Email"}),s.jsx("input",{type:"email",value:c,onChange:x=>d(x.target.value),className:"w-full px-3 py-2 rounded-ios bg-fill-secondary text-label-primary border border-separator-light focus:border-accent-primary focus:outline-none"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-label-secondary mb-1",children:"Tier"}),s.jsxs("select",{value:u,onChange:x=>h(x.target.value),className:"w-full px-3 py-2 rounded-ios bg-fill-secondary text-label-primary border border-separator-light focus:border-accent-primary focus:outline-none",children:[s.jsx("option",{value:"small",children:"Small (1-5 providers)"}),s.jsx("option",{value:"mid",children:"Mid (6-15 providers)"}),s.jsx("option",{value:"large",children:"Large (15-50 providers)"})]})]}),s.jsxs("div",{className:"flex gap-3 pt-2",children:[s.jsx("button",{type:"button",onClick:t,className:"flex-1 px-4 py-2 rounded-ios bg-fill-secondary text-label-primary hover:bg-fill-tertiary transition-colors",children:"Cancel"}),s.jsx("button",{type:"submit",disabled:!l||r,className:"flex-1 px-4 py-2 rounded-ios bg-accent-primary text-white hover:bg-accent-primary/90 transition-colors disabled:opacity-50",children:r?"Creating...":"Create Site"})]})]})]})})},Tv=()=>{const e=it(),[t,n]=b.useState(!1),[r,l]=b.useState(void 0),{data:i,isLoading:a}=Yg(r),o=Gm(),c=(i==null?void 0:i.sites)||[],d={all:c.length,online:c.filter(h=>h.live_status==="online").length,offline:c.filter(h=>h.live_status==="offline").length,pending:c.filter(h=>h.live_status==="pending").length},u=async h=>{try{const f=await o.mutateAsync(h);n(!1),e(`/sites/${f.site_id}`)}catch(f){console.error("Failed to create site:",f)}};return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl font-semibold text-label-primary",children:"Sites"}),s.jsxs("p",{className:"text-label-tertiary text-sm mt-1",children:[c.length," client site",c.length!==1?"s":""]})]}),s.jsx("button",{onClick:()=>n(!0),className:"btn-primary",children:"+ New Site"})]}),s.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[s.jsxs(R,{padding:"md",className:"text-center",children:[s.jsx("p",{className:"text-2xl font-bold text-health-healthy",children:d.online}),s.jsx("p",{className:"text-xs text-label-tertiary",children:"Online"})]}),s.jsxs(R,{padding:"md",className:"text-center",children:[s.jsx("p",{className:`text-2xl font-bold ${d.offline>0?"text-health-critical":"text-label-primary"}`,children:d.offline}),s.jsx("p",{className:"text-xs text-label-tertiary",children:"Offline"})]}),s.jsxs(R,{padding:"md",className:"text-center",children:[s.jsx("p",{className:`text-2xl font-bold ${d.pending>0?"text-health-warning":"text-label-primary"}`,children:d.pending}),s.jsx("p",{className:"text-xs text-label-tertiary",children:"Pending"})]}),s.jsxs(R,{padding:"md",className:"text-center",children:[s.jsx("p",{className:"text-2xl font-bold text-accent-primary",children:d.all}),s.jsx("p",{className:"text-xs text-label-tertiary",children:"Total"})]})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{className:"text-sm text-label-tertiary",children:"Filter:"}),s.jsx("div",{className:"flex gap-1",children:[{value:void 0,label:"All"},{value:"online",label:"Online"},{value:"offline",label:"Offline"},{value:"pending",label:"Pending"}].map(h=>s.jsx("button",{onClick:()=>l(h.value),className:`px-3 py-1.5 text-sm rounded-ios-sm transition-colors ${r===h.value?"bg-accent-primary text-white":"bg-separator-light text-label-secondary hover:bg-separator-light/80"}`,children:h.label},h.value||"all"))})]}),s.jsx(R,{padding:"none",children:a?s.jsx("div",{className:"flex items-center justify-center py-12",children:s.jsx(Is,{size:"lg"})}):c.length===0?s.jsxs("div",{className:"text-center py-12",children:[s.jsx("div",{className:"w-16 h-16 mx-auto mb-4 rounded-full bg-accent-primary/10 flex items-center justify-center",children:s.jsx("svg",{className:"w-8 h-8 text-accent-primary",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 21V5a2 2 0 00-2-2H7a2 2 0 00-2 2v16m14 0h2m-2 0h-5m-9 0H3m2 0h5M9 7h1m-1 4h1m4-4h1m-1 4h1m-5 10v-5a1 1 0 011-1h2a1 1 0 011 1v5m-4 0h4"})})}),s.jsx("h3",{className:"font-semibold text-label-primary mb-2",children:"No sites yet"}),s.jsx("p",{className:"text-label-tertiary text-sm mb-4",children:'Click "New Site" to add your first client.'}),s.jsx("button",{onClick:()=>n(!0),className:"btn-primary",children:"+ New Site"})]}):s.jsxs("table",{className:"w-full",children:[s.jsx("thead",{className:"bg-fill-secondary border-b border-separator-light",children:s.jsxs("tr",{children:[s.jsx("th",{className:"px-4 py-3 text-left text-xs font-semibold text-label-secondary uppercase tracking-wider",children:"Site"}),s.jsx("th",{className:"px-4 py-3 text-left text-xs font-semibold text-label-secondary uppercase tracking-wider",children:"Status"}),s.jsx("th",{className:"px-4 py-3 text-left text-xs font-semibold text-label-secondary uppercase tracking-wider",children:"Last Checkin"}),s.jsx("th",{className:"px-4 py-3 text-left text-xs font-semibold text-label-secondary uppercase tracking-wider",children:"Stage"}),s.jsx("th",{className:"px-4 py-3 text-left text-xs font-semibold text-label-secondary uppercase tracking-wider",children:"Appliances"}),s.jsx("th",{className:"px-4 py-3 text-left text-xs font-semibold text-label-secondary uppercase tracking-wider",children:"Tier"})]})}),s.jsx("tbody",{className:"divide-y divide-separator-light",children:c.map(h=>s.jsx(Lv,{site:h,onClick:()=>e(`/sites/${h.site_id}`)},h.site_id))})]})}),s.jsx(Rv,{isOpen:t,onClose:()=>n(!1),onSubmit:u,isLoading:o.isPending})]})};function Mv(e){if(!e)return"Never";const t=new Date(e),r=new Date().getTime()-t.getTime(),l=Math.floor(r/6e4);if(l<1)return"Just now";if(l<60)return`${l} min ago`;const i=Math.floor(l/60);return i<24?`${i}h ago`:`${Math.floor(i/24)}d ago`}function Ov(e){if(!e)return"Unknown";const t=Math.floor(e/86400),n=Math.floor(e%86400/3600),r=Math.floor(e%3600/60);return t>0?`${t}d ${n}h`:n>0?`${n}h ${r}m`:`${r}m`}const Av=({appliance:e})=>{const t={online:"bg-health-healthy",stale:"bg-health-warning",offline:"bg-health-critical",pending:"bg-gray-400"};return s.jsxs(R,{className:"p-4",children:[s.jsxs("div",{className:"flex items-start justify-between mb-3",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:`w-3 h-3 rounded-full ${t[e.live_status]}`}),s.jsx("h3",{className:"font-semibold text-label-primary",children:e.hostname||e.appliance_id})]}),s.jsx(An,{variant:e.live_status==="online"?"success":"default",children:e.live_status})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-3 text-sm",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-label-tertiary",children:"MAC Address"}),s.jsx("p",{className:"text-label-secondary font-mono",children:e.mac_address||"-"})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-label-tertiary",children:"IP Addresses"}),s.jsx("p",{className:"text-label-secondary font-mono",children:e.ip_addresses.length>0?e.ip_addresses.join(", "):"-"})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-label-tertiary",children:"Agent Version"}),s.jsx("p",{className:"text-label-secondary",children:e.agent_version||"-"})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-label-tertiary",children:"NixOS Version"}),s.jsx("p",{className:"text-label-secondary",children:e.nixos_version||"-"})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-label-tertiary",children:"Last Checkin"}),s.jsx("p",{className:"text-label-secondary",children:Mv(e.last_checkin)})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-label-tertiary",children:"Uptime"}),s.jsx("p",{className:"text-label-secondary",children:Ov(e.uptime_seconds)})]})]})]})},Dv=({timestamps:e,stage:t})=>{const n=[{key:"lead_at",label:"Lead",icon:""},{key:"discovery_at",label:"Discovery",icon:""},{key:"proposal_at",label:"Proposal",icon:""},{key:"contract_at",label:"Contract",icon:""},{key:"intake_at",label:"Intake",icon:""},{key:"creds_at",label:"Credentials",icon:""},{key:"shipped_at",label:"Shipped",icon:""},{key:"received_at",label:"Received",icon:""},{key:"connectivity_at",label:"Connected",icon:""},{key:"scanning_at",label:"Scanning",icon:""},{key:"baseline_at",label:"Baseline",icon:""},{key:"active_at",label:"Active",icon:""}];return s.jsx("div",{className:"space-y-2",children:n.map(r=>{const l=e[r.key]!==null,i=t===r.key.replace("_at","");return s.jsxs("div",{className:`flex items-center gap-3 py-2 px-3 rounded-ios transition-colors ${i?"bg-accent-primary/10":l?"bg-fill-secondary":""}`,children:[s.jsx("span",{className:"text-lg",children:l?"":r.icon}),s.jsx("span",{className:`flex-1 ${l?"text-label-primary":"text-label-tertiary"}`,children:r.label}),e[r.key]&&s.jsx("span",{className:"text-xs text-label-tertiary",children:new Date(e[r.key]).toLocaleDateString()})]},r.key)})})},Iv=({isOpen:e,onClose:t,onSubmit:n,isLoading:r})=>{const[l,i]=b.useState("router"),[a,o]=b.useState(""),[c,d]=b.useState(""),[u,h]=b.useState(""),[f,x]=b.useState("");if(!e)return null;const j=N=>{N.preventDefault(),n({credential_type:l,credential_name:a,username:c||void 0,password:u||void 0,host:f||void 0}),o(""),d(""),h(""),x("")};return s.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50",children:s.jsxs(R,{className:"w-full max-w-md",children:[s.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Add Credential"}),s.jsxs("form",{onSubmit:j,className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-label-secondary mb-1",children:"Type"}),s.jsxs("select",{value:l,onChange:N=>i(N.target.value),className:"w-full px-3 py-2 rounded-ios bg-fill-secondary text-label-primary border border-separator-light",children:[s.jsx("option",{value:"router",children:"Router"}),s.jsx("option",{value:"active_directory",children:"Active Directory"}),s.jsx("option",{value:"ehr",children:"EHR System"}),s.jsx("option",{value:"backup",children:"Backup Service"}),s.jsx("option",{value:"other",children:"Other"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-label-secondary mb-1",children:"Name *"}),s.jsx("input",{type:"text",value:a,onChange:N=>o(N.target.value),placeholder:"e.g., Main Router, Domain Admin",className:"w-full px-3 py-2 rounded-ios bg-fill-secondary text-label-primary border border-separator-light",required:!0})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-label-secondary mb-1",children:"Host/IP"}),s.jsx("input",{type:"text",value:f,onChange:N=>x(N.target.value),placeholder:"192.168.1.1",className:"w-full px-3 py-2 rounded-ios bg-fill-secondary text-label-primary border border-separator-light"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-label-secondary mb-1",children:"Username"}),s.jsx("input",{type:"text",value:c,onChange:N=>d(N.target.value),className:"w-full px-3 py-2 rounded-ios bg-fill-secondary text-label-primary border border-separator-light"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-label-secondary mb-1",children:"Password"}),s.jsx("input",{type:"password",value:u,onChange:N=>h(N.target.value),className:"w-full px-3 py-2 rounded-ios bg-fill-secondary text-label-primary border border-separator-light"})]}),s.jsxs("div",{className:"flex gap-3 pt-2",children:[s.jsx("button",{type:"button",onClick:t,className:"flex-1 px-4 py-2 rounded-ios bg-fill-secondary text-label-primary",children:"Cancel"}),s.jsx("button",{type:"submit",disabled:!a||r,className:"flex-1 px-4 py-2 rounded-ios bg-accent-primary text-white disabled:opacity-50",children:r?"Adding...":"Add Credential"})]})]})]})})},Fv=()=>{const{siteId:e}=ic(),t=it(),[n,r]=b.useState(!1),{data:l,isLoading:i,error:a}=Jg(e||null),o=Zg();if(i)return s.jsx("div",{className:"flex items-center justify-center py-24",children:s.jsx(Is,{size:"lg"})});if(a||!l)return s.jsxs(R,{className:"text-center py-12",children:[s.jsx("h2",{className:"text-xl font-semibold text-label-primary mb-2",children:"Site Not Found"}),s.jsxs("p",{className:"text-label-tertiary mb-4",children:['The site "',e,'" could not be found.']}),s.jsx("button",{onClick:()=>t("/sites"),className:"btn-primary",children:"Back to Sites"})]});const c=async d=>{try{await o.mutateAsync({siteId:l.site_id,data:d}),r(!1)}catch(u){console.error("Failed to add credential:",u)}};return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx("button",{onClick:()=>t("/sites"),className:"p-2 rounded-ios hover:bg-fill-secondary transition-colors",children:s.jsx("svg",{className:"w-5 h-5 text-label-secondary",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})})}),s.jsxs("div",{className:"flex-1",children:[s.jsx("h1",{className:"text-2xl font-semibold text-label-primary",children:l.clinic_name}),s.jsx("p",{className:"text-label-tertiary text-sm",children:l.site_id})]}),s.jsx(An,{variant:l.live_status==="online"?"success":l.live_status==="offline"?"error":"default",children:l.live_status})]}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[s.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[s.jsxs(R,{children:[s.jsx("h2",{className:"text-lg font-semibold mb-4",children:"Contact Information"}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-label-tertiary text-sm",children:"Contact Name"}),s.jsx("p",{className:"text-label-primary",children:l.contact_name||"-"})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-label-tertiary text-sm",children:"Email"}),s.jsx("p",{className:"text-label-primary",children:l.contact_email||"-"})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-label-tertiary text-sm",children:"Phone"}),s.jsx("p",{className:"text-label-primary",children:l.contact_phone||"-"})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-label-tertiary text-sm",children:"Tier"}),s.jsx(An,{variant:l.tier==="large"?"success":l.tier==="mid"?"info":"default",children:l.tier})]}),l.address&&s.jsxs("div",{className:"col-span-2",children:[s.jsx("p",{className:"text-label-tertiary text-sm",children:"Address"}),s.jsx("p",{className:"text-label-primary",children:l.address})]})]})]}),s.jsxs(R,{children:[s.jsxs("h2",{className:"text-lg font-semibold mb-4",children:["Appliances (",l.appliances.length,")"]}),l.appliances.length===0?s.jsxs("div",{className:"text-center py-8",children:[s.jsx("p",{className:"text-label-tertiary",children:"No appliances connected yet."}),s.jsx("p",{className:"text-label-tertiary text-sm mt-1",children:"The appliance will appear here when it phones home."})]}):s.jsx("div",{className:"space-y-4",children:l.appliances.map(d=>s.jsx(Av,{appliance:d},d.appliance_id))})]}),s.jsxs(R,{children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsxs("h2",{className:"text-lg font-semibold",children:["Credentials (",l.credentials.length,")"]}),s.jsx("button",{onClick:()=>r(!0),className:"text-sm text-accent-primary hover:text-accent-primary/80",children:"+ Add Credential"})]}),l.credentials.length===0?s.jsxs("div",{className:"text-center py-8",children:[s.jsx("p",{className:"text-label-tertiary",children:"No credentials stored."}),s.jsx("p",{className:"text-label-tertiary text-sm mt-1",children:"Add router, AD, or other credentials for the appliance."})]}):s.jsx("div",{className:"space-y-2",children:l.credentials.map(d=>s.jsxs("div",{className:"flex items-center justify-between py-3 px-4 bg-fill-secondary rounded-ios",children:[s.jsxs("div",{children:[s.jsx("p",{className:"font-medium text-label-primary",children:d.credential_name}),s.jsx("p",{className:"text-xs text-label-tertiary",children:d.credential_type})]}),s.jsx(An,{variant:"default",children:"Stored"})]},d.id))})]})]}),s.jsxs("div",{className:"space-y-6",children:[s.jsxs(R,{children:[s.jsx("h2",{className:"text-lg font-semibold mb-4",children:"Onboarding Progress"}),s.jsx(Dv,{timestamps:l.timestamps,stage:l.onboarding_stage})]}),l.notes&&s.jsxs(R,{children:[s.jsx("h2",{className:"text-lg font-semibold mb-2",children:"Notes"}),s.jsx("p",{className:"text-label-secondary text-sm",children:l.notes})]}),l.blockers.length>0&&s.jsxs(R,{className:"border-l-4 border-health-warning",children:[s.jsx("h2",{className:"text-lg font-semibold mb-2",children:"Blockers"}),s.jsx("ul",{className:"space-y-2",children:l.blockers.map((d,u)=>s.jsxs("li",{className:"text-sm text-label-secondary flex items-start gap-2",children:[s.jsx("span",{className:"text-health-warning",children:"!"}),d]},u))})]}),l.tracking_number&&s.jsxs(R,{children:[s.jsx("h2",{className:"text-lg font-semibold mb-2",children:"Shipping"}),s.jsx("p",{className:"text-label-tertiary text-sm",children:"Carrier"}),s.jsx("p",{className:"text-label-primary",children:l.tracking_carrier||"Unknown"}),s.jsx("p",{className:"text-label-tertiary text-sm mt-2",children:"Tracking Number"}),s.jsx("p",{className:"text-label-primary font-mono text-sm",children:l.tracking_number})]})]})]}),s.jsx(Iv,{isOpen:n,onClose:()=>r(!1),onSubmit:c,isLoading:o.isPending})]})},Gi={overview:{title:"Platform Overview",icon:"",items:[{id:"what-is",title:"What is OsirisCare?",content:s.jsxs("div",{className:"space-y-4",children:[s.jsx("p",{children:"OsirisCare is a HIPAA compliance automation platform designed for healthcare SMBs. It combines NixOS-based infrastructure, Model Context Protocol (MCP) orchestration, and LLM-powered remediation to deliver automated compliance monitoring and self-healing."}),s.jsx("h4",{className:"font-semibold mt-4",children:"Key Features"}),s.jsxs("ul",{className:"list-disc list-inside space-y-2 text-label-secondary",children:[s.jsx("li",{children:"Automated HIPAA compliance monitoring (8 core controls)"}),s.jsx("li",{children:"Three-tier auto-healing (L1 deterministic, L2 LLM, L3 human)"}),s.jsx("li",{children:"Immutable audit trail with cryptographic evidence"}),s.jsx("li",{children:"Client portal with magic-link access"}),s.jsx("li",{children:"Real-time drift detection and remediation"})]}),s.jsx("h4",{className:"font-semibold mt-4",children:"Architecture"}),s.jsxs("ul",{className:"list-disc list-inside space-y-2 text-label-secondary",children:[s.jsxs("li",{children:[s.jsx("strong",{children:"Central Command:"})," This dashboard - fleet management and monitoring"]}),s.jsxs("li",{children:[s.jsx("strong",{children:"MCP Server:"})," API backend handling check-ins, orders, and evidence"]}),s.jsxs("li",{children:[s.jsx("strong",{children:"Compliance Appliance:"})," NixOS device at client site running checks"]}),s.jsxs("li",{children:[s.jsx("strong",{children:"Client Portal:"})," Read-only compliance dashboard for clients"]})]})]})},{id:"pricing",title:"Pricing Tiers",content:s.jsx("div",{className:"space-y-4",children:s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[s.jsxs("div",{className:"p-4 bg-fill-secondary rounded-ios",children:[s.jsx("h4",{className:"font-semibold text-accent-primary",children:"Small"}),s.jsx("p",{className:"text-2xl font-bold mt-2",children:"$200/mo"}),s.jsx("p",{className:"text-sm text-label-tertiary",children:"1-5 providers"}),s.jsxs("ul",{className:"mt-3 text-sm space-y-1 text-label-secondary",children:[s.jsx("li",{children:"1 compliance appliance"}),s.jsx("li",{children:"8 core controls"}),s.jsx("li",{children:"Monthly compliance packet"}),s.jsx("li",{children:"Email support"})]})]}),s.jsxs("div",{className:"p-4 bg-accent-primary/10 rounded-ios border border-accent-primary",children:[s.jsx("h4",{className:"font-semibold text-accent-primary",children:"Mid (Popular)"}),s.jsx("p",{className:"text-2xl font-bold mt-2",children:"$500/mo"}),s.jsx("p",{className:"text-sm text-label-tertiary",children:"6-15 providers"}),s.jsxs("ul",{className:"mt-3 text-sm space-y-1 text-label-secondary",children:[s.jsx("li",{children:"Up to 3 appliances"}),s.jsx("li",{children:"8 core controls + custom"}),s.jsx("li",{children:"Weekly compliance reports"}),s.jsx("li",{children:"Priority support"})]})]}),s.jsxs("div",{className:"p-4 bg-fill-secondary rounded-ios",children:[s.jsx("h4",{className:"font-semibold text-accent-primary",children:"Large"}),s.jsx("p",{className:"text-2xl font-bold mt-2",children:"$1,500-3,000/mo"}),s.jsx("p",{className:"text-sm text-label-tertiary",children:"15-50 providers"}),s.jsxs("ul",{className:"mt-3 text-sm space-y-1 text-label-secondary",children:[s.jsx("li",{children:"Unlimited appliances"}),s.jsx("li",{children:"Full control customization"}),s.jsx("li",{children:"Daily reports + alerts"}),s.jsx("li",{children:"Dedicated support"})]})]})]})})}]},operations:{title:"Operations & SOPs",icon:"",items:[{id:"daily-ops",title:"Daily Operations Checklist",content:s.jsxs("div",{className:"space-y-4",children:[s.jsx("p",{className:"text-label-secondary",children:"Complete these tasks each business day to maintain fleet health and catch issues early."}),s.jsx("h4",{className:"font-semibold",children:"Morning Check (9:00 AM)"}),s.jsx("div",{className:"p-4 bg-fill-secondary rounded-ios",children:s.jsx("ul",{className:"space-y-2",children:["Review Central Command dashboard for offline appliances","Check for any L3 escalations requiring human intervention","Verify overnight backup jobs completed successfully","Review any new incidents from overnight auto-healing","Check email for client-reported issues"].map((e,t)=>s.jsxs("li",{className:"flex items-start gap-2",children:[s.jsxs("span",{className:"text-accent-primary font-mono text-sm",children:[t+1,"."]}),s.jsx("span",{className:"text-label-secondary text-sm",children:e})]},t))})}),s.jsx("h4",{className:"font-semibold mt-6",children:"Afternoon Check (3:00 PM)"}),s.jsx("div",{className:"p-4 bg-fill-secondary rounded-ios",children:s.jsx("ul",{className:"space-y-2",children:["Review compliance scores - investigate any drops below 90%","Check patch status for critical vulnerabilities","Follow up on any pending client requests","Review pipeline stages - move clients through stages","Document any notable incidents in session log"].map((e,t)=>s.jsxs("li",{className:"flex items-start gap-2",children:[s.jsxs("span",{className:"text-accent-primary font-mono text-sm",children:[t+1,"."]}),s.jsx("span",{className:"text-label-secondary text-sm",children:e})]},t))})}),s.jsx("h4",{className:"font-semibold mt-6",children:"Weekly Tasks (Fridays)"}),s.jsx("div",{className:"p-4 bg-fill-secondary rounded-ios",children:s.jsx("ul",{className:"space-y-2",children:["Generate weekly compliance reports for all active sites","Review L1 rule effectiveness - promote any new patterns","Check for appliance firmware/NixOS updates","Backup Central Command database","Review and close resolved incidents","Update client portal links if needed"].map((e,t)=>s.jsxs("li",{className:"flex items-start gap-2",children:[s.jsxs("span",{className:"text-accent-primary font-mono text-sm",children:[t+1,"."]}),s.jsx("span",{className:"text-label-secondary text-sm",children:e})]},t))})}),s.jsx("h4",{className:"font-semibold mt-6",children:"Monthly Tasks (1st of Month)"}),s.jsx("div",{className:"p-4 bg-fill-secondary rounded-ios",children:s.jsx("ul",{className:"space-y-2",children:["Generate monthly compliance packets for all clients","Review and update baseline configurations","Audit privileged access across all sites","Test backup restore procedures (random site selection)","Review billing and ensure all active sites invoiced","Update documentation with any process changes"].map((e,t)=>s.jsxs("li",{className:"flex items-start gap-2",children:[s.jsxs("span",{className:"text-accent-primary font-mono text-sm",children:[t+1,"."]}),s.jsx("span",{className:"text-label-secondary text-sm",children:e})]},t))})})]})},{id:"new-clinic-sop",title:"SOP: Onboard New Clinic",content:s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"p-4 bg-accent-primary/10 border-l-4 border-accent-primary rounded-r-ios",children:[s.jsx("p",{className:"text-sm font-medium",children:"End-to-end procedure for onboarding a new clinic from signed contract to active monitoring."}),s.jsx("p",{className:"text-xs text-label-tertiary mt-1",children:"Estimated time: 2-3 hours hands-on over 5-7 days"})]}),s.jsx("h4",{className:"font-semibold",children:"Phase 1: Pre-Deployment (Day 1-2)"}),s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"w-full text-sm",children:[s.jsx("thead",{children:s.jsxs("tr",{className:"border-b border-separator-light",children:[s.jsx("th",{className:"text-left py-2 px-3 w-12",children:"#"}),s.jsx("th",{className:"text-left py-2 px-3",children:"Task"}),s.jsx("th",{className:"text-left py-2 px-3",children:"Details"})]})}),s.jsxs("tbody",{className:"text-label-secondary",children:[s.jsxs("tr",{className:"border-b border-separator-light/50",children:[s.jsx("td",{className:"py-2 px-3 font-mono",children:"1"}),s.jsx("td",{className:"py-2 px-3 font-medium",children:"Collect signed documents"}),s.jsx("td",{className:"py-2 px-3",children:"MSA + BAA must be signed. Store in client folder."})]}),s.jsxs("tr",{className:"border-b border-separator-light/50",children:[s.jsx("td",{className:"py-2 px-3 font-mono",children:"2"}),s.jsx("td",{className:"py-2 px-3 font-medium",children:"Create site in Central Command"}),s.jsxs("td",{className:"py-2 px-3",children:["Sites  Add Site. Use format: ",s.jsx("code",{className:"bg-fill-tertiary px-1 rounded",children:"clinic-name-XXXX"})]})]}),s.jsxs("tr",{className:"border-b border-separator-light/50",children:[s.jsx("td",{className:"py-2 px-3 font-mono",children:"3"}),s.jsx("td",{className:"py-2 px-3 font-medium",children:"Generate API credentials"}),s.jsx("td",{className:"py-2 px-3",children:"Site Settings  Generate API Key. Save securely."})]}),s.jsxs("tr",{className:"border-b border-separator-light/50",children:[s.jsx("td",{className:"py-2 px-3 font-mono",children:"4"}),s.jsx("td",{className:"py-2 px-3 font-medium",children:"Gather network info"}),s.jsx("td",{className:"py-2 px-3",children:"IP range, DHCP/static, firewall rules, existing IT contact."})]}),s.jsxs("tr",{className:"border-b border-separator-light/50",children:[s.jsx("td",{className:"py-2 px-3 font-mono",children:"5"}),s.jsx("td",{className:"py-2 px-3 font-medium",children:"Provision appliance config"}),s.jsx("td",{className:"py-2 px-3",children:'Run generate-config.py with site ID. See "SOP: Image Appliance".'})]}),s.jsxs("tr",{children:[s.jsx("td",{className:"py-2 px-3 font-mono",children:"6"}),s.jsx("td",{className:"py-2 px-3 font-medium",children:"Flash and test appliance"}),s.jsx("td",{className:"py-2 px-3",children:"Write image to USB, boot in lab, verify check-in."})]})]})]})}),s.jsx("h4",{className:"font-semibold mt-6",children:"Phase 2: Shipping (Day 2-3)"}),s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"w-full text-sm",children:[s.jsx("thead",{children:s.jsxs("tr",{className:"border-b border-separator-light",children:[s.jsx("th",{className:"text-left py-2 px-3 w-12",children:"#"}),s.jsx("th",{className:"text-left py-2 px-3",children:"Task"}),s.jsx("th",{className:"text-left py-2 px-3",children:"Details"})]})}),s.jsxs("tbody",{className:"text-label-secondary",children:[s.jsxs("tr",{className:"border-b border-separator-light/50",children:[s.jsx("td",{className:"py-2 px-3 font-mono",children:"7"}),s.jsx("td",{className:"py-2 px-3 font-medium",children:"Package appliance"}),s.jsx("td",{className:"py-2 px-3",children:"Include: appliance, power cable, Ethernet cable, quick start card."})]}),s.jsxs("tr",{className:"border-b border-separator-light/50",children:[s.jsx("td",{className:"py-2 px-3 font-mono",children:"8"}),s.jsx("td",{className:"py-2 px-3 font-medium",children:"Ship with tracking"}),s.jsx("td",{className:"py-2 px-3",children:'Use insured shipping. Update pipeline stage to "Shipped".'})]}),s.jsxs("tr",{children:[s.jsx("td",{className:"py-2 px-3 font-mono",children:"9"}),s.jsx("td",{className:"py-2 px-3 font-medium",children:"Send tracking + instructions"}),s.jsx("td",{className:"py-2 px-3",children:"Email client with tracking number and installation PDF."})]})]})]})}),s.jsx("h4",{className:"font-semibold mt-6",children:"Phase 3: Activation (Day 4-7)"}),s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"w-full text-sm",children:[s.jsx("thead",{children:s.jsxs("tr",{className:"border-b border-separator-light",children:[s.jsx("th",{className:"text-left py-2 px-3 w-12",children:"#"}),s.jsx("th",{className:"text-left py-2 px-3",children:"Task"}),s.jsx("th",{className:"text-left py-2 px-3",children:"Details"})]})}),s.jsxs("tbody",{className:"text-label-secondary",children:[s.jsxs("tr",{className:"border-b border-separator-light/50",children:[s.jsx("td",{className:"py-2 px-3 font-mono",children:"10"}),s.jsx("td",{className:"py-2 px-3 font-medium",children:"Confirm delivery"}),s.jsx("td",{className:"py-2 px-3",children:'Call/email client when delivered. Update to "Received".'})]}),s.jsxs("tr",{className:"border-b border-separator-light/50",children:[s.jsx("td",{className:"py-2 px-3 font-mono",children:"11"}),s.jsx("td",{className:"py-2 px-3 font-medium",children:"Schedule install call"}),s.jsx("td",{className:"py-2 px-3",children:"15-30 min call while client plugs in appliance."})]}),s.jsxs("tr",{className:"border-b border-separator-light/50",children:[s.jsx("td",{className:"py-2 px-3 font-mono",children:"12"}),s.jsx("td",{className:"py-2 px-3 font-medium",children:"Verify connectivity"}),s.jsx("td",{className:"py-2 px-3",children:'Watch Central Command for check-in. Update to "Connectivity".'})]}),s.jsxs("tr",{className:"border-b border-separator-light/50",children:[s.jsx("td",{className:"py-2 px-3 font-mono",children:"13"}),s.jsx("td",{className:"py-2 px-3 font-medium",children:"Monitor initial scan"}),s.jsx("td",{className:"py-2 px-3",children:'Wait for network discovery to complete. Update to "Scanning".'})]}),s.jsxs("tr",{className:"border-b border-separator-light/50",children:[s.jsx("td",{className:"py-2 px-3 font-mono",children:"14"}),s.jsx("td",{className:"py-2 px-3 font-medium",children:"Establish baseline"}),s.jsx("td",{className:"py-2 px-3",children:'Review discovered assets, set baseline. Update to "Baseline".'})]}),s.jsxs("tr",{className:"border-b border-separator-light/50",children:[s.jsx("td",{className:"py-2 px-3 font-mono",children:"15"}),s.jsx("td",{className:"py-2 px-3 font-medium",children:"Achieve compliance"}),s.jsx("td",{className:"py-2 px-3",children:'Fix any failing controls. Target 8/8 passing. Update to "Compliant".'})]}),s.jsxs("tr",{className:"border-b border-separator-light/50",children:[s.jsx("td",{className:"py-2 px-3 font-mono",children:"16"}),s.jsx("td",{className:"py-2 px-3 font-medium",children:"Generate portal link"}),s.jsx("td",{className:"py-2 px-3",children:"Create magic link, send to client with orientation doc."})]}),s.jsxs("tr",{children:[s.jsx("td",{className:"py-2 px-3 font-mono",children:"17"}),s.jsx("td",{className:"py-2 px-3 font-medium",children:"Orientation call"}),s.jsx("td",{className:"py-2 px-3",children:'Walk client through portal. Answer questions. Mark "Active".'})]})]})]})})]})},{id:"image-appliance-sop",title:"SOP: Image Appliance",content:s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"p-4 bg-accent-primary/10 border-l-4 border-accent-primary rounded-r-ios",children:[s.jsx("p",{className:"text-sm font-medium",children:"Build and flash a compliance appliance for deployment."}),s.jsx("p",{className:"text-xs text-label-tertiary mt-1",children:"Requires: Linux workstation, USB drive (8GB+), target hardware"})]}),s.jsx("h4",{className:"font-semibold",children:"Prerequisites"}),s.jsxs("ul",{className:"list-disc list-inside space-y-2 text-label-secondary text-sm",children:[s.jsx("li",{children:"Site created in Central Command with API key"}),s.jsx("li",{children:"Nix installed on build machine"}),s.jsx("li",{children:"Target hardware: HP T640 or equivalent (4GB+ RAM)"}),s.jsx("li",{children:"USB drive 8GB+ (will be erased)"})]}),s.jsx("h4",{className:"font-semibold mt-6",children:"Step 1: Generate Site Configuration"}),s.jsx("div",{className:"p-4 bg-gray-900 rounded-ios text-green-400 font-mono text-sm overflow-x-auto",children:s.jsx("pre",{children:`cd /path/to/Msp_Flakes

# Generate config for the site
python iso/provisioning/generate-config.py \\
  --site-id "clinic-smith-abc123" \\
  --site-name "Smith Family Practice" \\
  --timezone "America/New_York"

# Output:
# ./appliance-config/clinic-smith-abc123/
#  config.yaml        # Main configuration
#  certs/             # mTLS certificates
#     client.crt
#     client.key
#     ca.crt
#  registration.yaml  # For Central Command`})}),s.jsx("h4",{className:"font-semibold mt-6",children:"Step 2: Register Site in Central Command"}),s.jsx("div",{className:"p-4 bg-gray-900 rounded-ios text-green-400 font-mono text-sm overflow-x-auto",children:s.jsx("pre",{children:`# Copy the API key from registration.yaml
cat appliance-config/clinic-smith-abc123/registration.yaml

# Add to Central Command via API or UI
curl -X POST https://api.osiriscare.net/api/sites \\
  -H "Authorization: Bearer $ADMIN_TOKEN" \\
  -H "Content-Type: application/json" \\
  -d '{
    "site_id": "clinic-smith-abc123",
    "site_name": "Smith Family Practice",
    "api_key": "sk-site-..."
  }'`})}),s.jsx("h4",{className:"font-semibold mt-6",children:"Step 3: Build the ISO"}),s.jsx("div",{className:"p-4 bg-gray-900 rounded-ios text-green-400 font-mono text-sm overflow-x-auto",children:s.jsx("pre",{children:`# Build the appliance ISO (requires Linux or remote builder)
nix build -f flake-compliance.nix appliance-iso -o result-iso

# ISO will be at:
ls -lh result-iso/iso/osiriscare-appliance.iso
# -r--r--r-- 1 user user 850M Dec 31 12:00 osiriscare-appliance.iso`})}),s.jsx("h4",{className:"font-semibold mt-6",children:"Step 4: Flash to USB"}),s.jsx("div",{className:"p-4 bg-gray-900 rounded-ios text-green-400 font-mono text-sm overflow-x-auto",children:s.jsx("pre",{children:`# Find USB device (CAREFUL - this erases the drive!)
lsblk
# Example: /dev/sdc

# Write ISO to USB
sudo dd if=result-iso/iso/osiriscare-appliance.iso \\
  of=/dev/sdX \\
  bs=4M \\
  status=progress \\
  conv=fsync

# Verify
sync`})}),s.jsx("h4",{className:"font-semibold mt-6",children:"Step 5: Copy Configuration to USB"}),s.jsx("div",{className:"p-4 bg-gray-900 rounded-ios text-green-400 font-mono text-sm overflow-x-auto",children:s.jsx("pre",{children:`# Mount the USB config partition
sudo mkdir -p /mnt/usb
sudo mount /dev/sdX2 /mnt/usb

# Copy site configuration
sudo mkdir -p /mnt/usb/msp
sudo cp appliance-config/clinic-smith-abc123/config.yaml /mnt/usb/msp/
sudo cp -r appliance-config/clinic-smith-abc123/certs /mnt/usb/msp/

# Unmount
sudo umount /mnt/usb`})}),s.jsx("h4",{className:"font-semibold mt-6",children:"Step 6: Test in Lab"}),s.jsx("div",{className:"p-4 bg-fill-secondary rounded-ios",children:s.jsxs("ol",{className:"list-decimal list-inside space-y-2 text-label-secondary text-sm",children:[s.jsx("li",{children:"Boot target hardware from USB"}),s.jsx("li",{children:"Wait for NixOS to boot (2-3 minutes)"}),s.jsx("li",{children:"Verify network connectivity via status page (port 80)"}),s.jsx("li",{children:"Check Central Command for check-in within 5 minutes"}),s.jsx("li",{children:"Verify all 8 controls reporting (may show warnings initially)"}),s.jsx("li",{children:"Label appliance with site ID"})]})}),s.jsxs("div",{className:"p-4 bg-health-warning/10 border-l-4 border-health-warning rounded-r-ios mt-4",children:[s.jsx("h4",{className:"font-semibold text-health-warning",children:"Troubleshooting"}),s.jsxs("ul",{className:"mt-2 text-sm text-label-secondary space-y-1",children:[s.jsxs("li",{children:[s.jsx("strong",{children:"No boot:"})," Check BIOS boot order, ensure UEFI mode"]}),s.jsxs("li",{children:[s.jsx("strong",{children:"No network:"})," Verify Ethernet cable, check DHCP"]}),s.jsxs("li",{children:[s.jsx("strong",{children:"No check-in:"})," Verify config.yaml API key matches Central Command"]})]})]})]})},{id:"provision-site-sop",title:"SOP: Provision Site Credentials",content:s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"p-4 bg-accent-primary/10 border-l-4 border-accent-primary rounded-r-ios",children:[s.jsx("p",{className:"text-sm font-medium",children:"Generate all credentials needed for a new site deployment."}),s.jsx("p",{className:"text-xs text-label-tertiary mt-1",children:"Run before imaging appliance"})]}),s.jsx("h4",{className:"font-semibold",children:"What Gets Generated"}),s.jsxs("ul",{className:"list-disc list-inside space-y-2 text-label-secondary text-sm",children:[s.jsxs("li",{children:[s.jsx("strong",{children:"Site ID:"})," Unique identifier (format: clinic-name-XXXX)"]}),s.jsxs("li",{children:[s.jsx("strong",{children:"API Key:"})," For appliance authentication to Central Command"]}),s.jsxs("li",{children:[s.jsx("strong",{children:"Portal Token:"})," Magic link token for client dashboard"]}),s.jsxs("li",{children:[s.jsx("strong",{children:"mTLS Certificates:"})," Client cert for mutual TLS"]})]}),s.jsx("h4",{className:"font-semibold mt-6",children:"Via Central Command UI"}),s.jsx("div",{className:"p-4 bg-fill-secondary rounded-ios",children:s.jsxs("ol",{className:"list-decimal list-inside space-y-2 text-label-secondary text-sm",children:[s.jsxs("li",{children:["Navigate to ",s.jsx("strong",{children:"Sites  Add Site"})]}),s.jsx("li",{children:'Enter site name (e.g., "Smith Family Practice")'}),s.jsx("li",{children:"Select pricing tier"}),s.jsxs("li",{children:["Click ",s.jsx("strong",{children:"Create Site"})]}),s.jsx("li",{children:"Copy the generated Site ID and API Key"}),s.jsx("li",{children:"Download the configuration bundle (.zip)"})]})}),s.jsx("h4",{className:"font-semibold mt-6",children:"Via Command Line"}),s.jsx("div",{className:"p-4 bg-gray-900 rounded-ios text-green-400 font-mono text-sm overflow-x-auto",children:s.jsx("pre",{children:`# Run the provisioning script
python iso/provisioning/generate-config.py \\
  --site-id "clinic-smith-abc123" \\
  --site-name "Smith Family Practice" \\
  --timezone "America/New_York" \\
  --output-dir ./appliance-config

# Output structure:
./appliance-config/clinic-smith-abc123/
 config.yaml           # Appliance config
 certs/
    client.crt        # mTLS client cert
    client.key        # mTLS private key (SECURE!)
    ca.crt            # CA certificate
 registration.yaml     # Central Command registration

# View generated credentials
cat registration.yaml
# site_id: clinic-smith-abc123
# api_key: sk-site-xxxxxxxx
# portal_token: YBnJGHrJS5151NC...
# portal_url: https://portal.osiriscare.net/...`})}),s.jsx("h4",{className:"font-semibold mt-6",children:"Register in Central Command"}),s.jsx("div",{className:"p-4 bg-gray-900 rounded-ios text-green-400 font-mono text-sm overflow-x-auto",children:s.jsx("pre",{children:`# Add site via API
curl -X POST https://api.osiriscare.net/api/sites \\
  -H "Authorization: Bearer $ADMIN_TOKEN" \\
  -H "Content-Type: application/json" \\
  -d @registration.yaml

# Or manually add in UI:
# 1. Sites  Add Site
# 2. Enter site_id and api_key from registration.yaml
# 3. Save`})}),s.jsx("h4",{className:"font-semibold mt-6",children:"Security Notes"}),s.jsx("div",{className:"p-4 bg-health-critical/10 border-l-4 border-health-critical rounded-r-ios",children:s.jsxs("ul",{className:"text-sm text-label-secondary space-y-1",children:[s.jsxs("li",{children:[s.jsx("strong",{children:"client.key"})," - Never share or commit to git"]}),s.jsxs("li",{children:[s.jsx("strong",{children:"api_key"})," - Rotate if compromised"]}),s.jsxs("li",{children:[s.jsx("strong",{children:"portal_token"})," - Can be regenerated if needed"]}),s.jsx("li",{children:"Store config bundles encrypted when not in use"})]})})]})},{id:"replace-appliance-sop",title:"SOP: Replace Failed Appliance",content:s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"p-4 bg-accent-primary/10 border-l-4 border-accent-primary rounded-r-ios",children:[s.jsx("p",{className:"text-sm font-medium",children:"Replace a failed or damaged appliance at an existing site."}),s.jsx("p",{className:"text-xs text-label-tertiary mt-1",children:"Preserves site credentials and compliance history"})]}),s.jsx("h4",{className:"font-semibold",children:"When to Replace"}),s.jsxs("ul",{className:"list-disc list-inside space-y-2 text-label-secondary text-sm",children:[s.jsx("li",{children:"Hardware failure (won't boot, storage failure)"}),s.jsx("li",{children:"Appliance damaged in shipping/handling"}),s.jsx("li",{children:"Upgrade to newer hardware model"}),s.jsx("li",{children:"Security incident requiring device wipe"})]}),s.jsx("h4",{className:"font-semibold mt-6",children:"Procedure"}),s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"w-full text-sm",children:[s.jsx("thead",{children:s.jsxs("tr",{className:"border-b border-separator-light",children:[s.jsx("th",{className:"text-left py-2 px-3 w-12",children:"#"}),s.jsx("th",{className:"text-left py-2 px-3",children:"Task"}),s.jsx("th",{className:"text-left py-2 px-3",children:"Notes"})]})}),s.jsxs("tbody",{className:"text-label-secondary",children:[s.jsxs("tr",{className:"border-b border-separator-light/50",children:[s.jsx("td",{className:"py-2 px-3 font-mono",children:"1"}),s.jsx("td",{className:"py-2 px-3 font-medium",children:"Retrieve existing config"}),s.jsx("td",{className:"py-2 px-3",children:"Download from Central Command or use backup"})]}),s.jsxs("tr",{className:"border-b border-separator-light/50",children:[s.jsx("td",{className:"py-2 px-3 font-mono",children:"2"}),s.jsx("td",{className:"py-2 px-3 font-medium",children:"Flash new appliance"}),s.jsx("td",{className:"py-2 px-3",children:"Same ISO, same config.yaml and certs"})]}),s.jsxs("tr",{className:"border-b border-separator-light/50",children:[s.jsx("td",{className:"py-2 px-3 font-mono",children:"3"}),s.jsx("td",{className:"py-2 px-3 font-medium",children:"Test in lab"}),s.jsx("td",{className:"py-2 px-3",children:"Verify check-in with existing site ID"})]}),s.jsxs("tr",{className:"border-b border-separator-light/50",children:[s.jsx("td",{className:"py-2 px-3 font-mono",children:"4"}),s.jsx("td",{className:"py-2 px-3 font-medium",children:"Ship replacement"}),s.jsx("td",{className:"py-2 px-3",children:"Include return label for failed unit"})]}),s.jsxs("tr",{className:"border-b border-separator-light/50",children:[s.jsx("td",{className:"py-2 px-3 font-mono",children:"5"}),s.jsx("td",{className:"py-2 px-3 font-medium",children:"Coordinate swap"}),s.jsx("td",{className:"py-2 px-3",children:"Client unplugs old, plugs in new"})]}),s.jsxs("tr",{className:"border-b border-separator-light/50",children:[s.jsx("td",{className:"py-2 px-3 font-mono",children:"6"}),s.jsx("td",{className:"py-2 px-3 font-medium",children:"Verify connectivity"}),s.jsx("td",{className:"py-2 px-3",children:"Confirm check-ins resume in Central Command"})]}),s.jsxs("tr",{children:[s.jsx("td",{className:"py-2 px-3 font-mono",children:"7"}),s.jsx("td",{className:"py-2 px-3 font-medium",children:"Dispose old unit"}),s.jsx("td",{className:"py-2 px-3",children:"Wipe storage, recycle hardware per policy"})]})]})]})}),s.jsxs("div",{className:"p-4 bg-fill-secondary rounded-ios mt-4",children:[s.jsx("h4",{className:"font-semibold text-sm",children:"Key Point"}),s.jsx("p",{className:"text-sm text-label-secondary mt-1",children:"The site ID and API key remain unchanged. The new appliance simply continues where the old one left off. Compliance history is preserved in Central Command."})]})]})},{id:"offboard-clinic-sop",title:"SOP: Offboard Clinic",content:s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"p-4 bg-health-warning/10 border-l-4 border-health-warning rounded-r-ios",children:[s.jsx("p",{className:"text-sm font-medium",children:"Properly terminate service and preserve records for compliance."}),s.jsx("p",{className:"text-xs text-label-tertiary mt-1",children:"HIPAA requires retention of records for 6 years"})]}),s.jsx("h4",{className:"font-semibold",children:"Pre-Offboarding"}),s.jsx("ul",{className:"space-y-2",children:["Confirm cancellation request in writing","Verify final invoice is paid","Schedule offboarding date with client","Export final compliance report"].map((e,t)=>s.jsxs("li",{className:"flex items-center gap-2",children:[s.jsx("input",{type:"checkbox",className:"rounded"}),s.jsx("span",{className:"text-label-secondary text-sm",children:e})]},t))}),s.jsx("h4",{className:"font-semibold mt-6",children:"Offboarding Tasks"}),s.jsx("ul",{className:"space-y-2",children:["Generate final compliance packet (PDF)","Export all evidence bundles to archive","Revoke API key in Central Command","Invalidate portal magic link",'Mark site as "Churned" in pipeline',"Archive site data (do not delete - 6 year retention)","Request appliance return (prepaid label)"].map((e,t)=>s.jsxs("li",{className:"flex items-center gap-2",children:[s.jsx("input",{type:"checkbox",className:"rounded"}),s.jsx("span",{className:"text-label-secondary text-sm",children:e})]},t))}),s.jsx("h4",{className:"font-semibold mt-6",children:"Post-Offboarding"}),s.jsx("ul",{className:"space-y-2",children:["Wipe returned appliance","Update inventory records","Document reason for churn","Schedule 90-day follow-up (win-back opportunity)"].map((e,t)=>s.jsxs("li",{className:"flex items-center gap-2",children:[s.jsx("input",{type:"checkbox",className:"rounded"}),s.jsx("span",{className:"text-label-secondary text-sm",children:e})]},t))}),s.jsx("h4",{className:"font-semibold mt-6",children:"Archive Commands"}),s.jsx("div",{className:"p-4 bg-gray-900 rounded-ios text-green-400 font-mono text-sm overflow-x-auto",children:s.jsx("pre",{children:`# Export site data before archiving
curl https://api.osiriscare.net/api/sites/{site_id}/export \\
  -H "Authorization: Bearer $ADMIN_TOKEN" \\
  -o clinic-smith-export.tar.gz

# Archive contains:
# - All evidence bundles
# - Compliance history
# - Incident logs
# - Configuration snapshots

# Mark site as churned (preserves data, stops billing)
curl -X PATCH https://api.osiriscare.net/api/sites/{site_id} \\
  -H "Authorization: Bearer $ADMIN_TOKEN" \\
  -d '{"status": "churned", "churn_date": "2025-01-01"}'`})})]})},{id:"incident-response-sop",title:"SOP: L3 Incident Response",content:s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"p-4 bg-health-critical/10 border-l-4 border-health-critical rounded-r-ios",children:[s.jsx("p",{className:"text-sm font-medium",children:"Handle incidents that auto-healing cannot resolve."}),s.jsx("p",{className:"text-xs text-label-tertiary mt-1",children:"Target response: 4 hours during business hours"})]}),s.jsx("h4",{className:"font-semibold",children:"When L3 Escalation Occurs"}),s.jsxs("ul",{className:"list-disc list-inside space-y-2 text-label-secondary text-sm",children:[s.jsx("li",{children:"L1 deterministic rules don't match"}),s.jsx("li",{children:"L2 LLM planner cannot generate safe remediation"}),s.jsx("li",{children:"Action requires human judgment or approval"}),s.jsx("li",{children:"Client has custom exception or policy"})]}),s.jsx("h4",{className:"font-semibold mt-6",children:"Response Procedure"}),s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"w-full text-sm",children:[s.jsx("thead",{children:s.jsxs("tr",{className:"border-b border-separator-light",children:[s.jsx("th",{className:"text-left py-2 px-3 w-12",children:"#"}),s.jsx("th",{className:"text-left py-2 px-3",children:"Task"}),s.jsx("th",{className:"text-left py-2 px-3",children:"Time"})]})}),s.jsxs("tbody",{className:"text-label-secondary",children:[s.jsxs("tr",{className:"border-b border-separator-light/50",children:[s.jsx("td",{className:"py-2 px-3 font-mono",children:"1"}),s.jsx("td",{className:"py-2 px-3 font-medium",children:"Acknowledge incident in Central Command"}),s.jsx("td",{className:"py-2 px-3",children:"15 min"})]}),s.jsxs("tr",{className:"border-b border-separator-light/50",children:[s.jsx("td",{className:"py-2 px-3 font-mono",children:"2"}),s.jsx("td",{className:"py-2 px-3 font-medium",children:"Review incident details and evidence"}),s.jsx("td",{className:"py-2 px-3",children:"15 min"})]}),s.jsxs("tr",{className:"border-b border-separator-light/50",children:[s.jsx("td",{className:"py-2 px-3 font-mono",children:"3"}),s.jsx("td",{className:"py-2 px-3 font-medium",children:"Assess severity and impact"}),s.jsx("td",{className:"py-2 px-3",children:"10 min"})]}),s.jsxs("tr",{className:"border-b border-separator-light/50",children:[s.jsx("td",{className:"py-2 px-3 font-mono",children:"4"}),s.jsx("td",{className:"py-2 px-3 font-medium",children:"Develop remediation plan"}),s.jsx("td",{className:"py-2 px-3",children:"30 min"})]}),s.jsxs("tr",{className:"border-b border-separator-light/50",children:[s.jsx("td",{className:"py-2 px-3 font-mono",children:"5"}),s.jsx("td",{className:"py-2 px-3 font-medium",children:"Execute remediation (maintenance window if disruptive)"}),s.jsx("td",{className:"py-2 px-3",children:"Varies"})]}),s.jsxs("tr",{className:"border-b border-separator-light/50",children:[s.jsx("td",{className:"py-2 px-3 font-mono",children:"6"}),s.jsx("td",{className:"py-2 px-3 font-medium",children:"Verify fix and document"}),s.jsx("td",{className:"py-2 px-3",children:"15 min"})]}),s.jsxs("tr",{children:[s.jsx("td",{className:"py-2 px-3 font-mono",children:"7"}),s.jsx("td",{className:"py-2 px-3 font-medium",children:"Create L1 rule if pattern is repeatable"}),s.jsx("td",{className:"py-2 px-3",children:"30 min"})]})]})]})}),s.jsx("h4",{className:"font-semibold mt-6",children:"Severity Levels"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[s.jsxs("div",{className:"p-4 bg-health-critical/10 rounded-ios",children:[s.jsx("h5",{className:"font-semibold text-health-critical",children:"Critical"}),s.jsx("p",{className:"text-xs text-label-secondary mt-1",children:"Active breach, data exposure, complete outage"}),s.jsx("p",{className:"text-xs text-label-tertiary mt-2",children:"Response: Immediate"})]}),s.jsxs("div",{className:"p-4 bg-health-warning/10 rounded-ios",children:[s.jsx("h5",{className:"font-semibold text-health-warning",children:"High"}),s.jsx("p",{className:"text-xs text-label-secondary mt-1",children:"Control failure, compliance gap, partial outage"}),s.jsx("p",{className:"text-xs text-label-tertiary mt-2",children:"Response: 4 hours"})]}),s.jsxs("div",{className:"p-4 bg-fill-secondary rounded-ios",children:[s.jsx("h5",{className:"font-semibold",children:"Medium/Low"}),s.jsx("p",{className:"text-xs text-label-secondary mt-1",children:"Warning conditions, optimization opportunities"}),s.jsx("p",{className:"text-xs text-label-tertiary mt-2",children:"Response: 24 hours"})]})]}),s.jsx("h4",{className:"font-semibold mt-6",children:"Promote to L1 Rule"}),s.jsx("div",{className:"p-4 bg-gray-900 rounded-ios text-green-400 font-mono text-sm overflow-x-auto",children:s.jsx("pre",{children:`# After successful manual remediation, create L1 rule
# in mcp-server/runbooks/

# Example: RB-DISK-002.yaml
id: RB-DISK-002
name: Clear temp files when disk > 90%
trigger:
  control: storage_posture
  condition: disk_usage > 90
actions:
  - type: shell
    command: "find /tmp -mtime +7 -delete"
  - type: shell
    command: "journalctl --vacuum-time=7d"
outcome: success
evidence:
  - disk_usage_before
  - disk_usage_after`})})]})}]},onboarding:{title:"Client Onboarding",icon:"",items:[{id:"pipeline",title:"Onboarding Pipeline Stages",content:s.jsxs("div",{className:"space-y-4",children:[s.jsx("h4",{className:"font-semibold",children:"Phase 1: Acquisition (Lead  Shipped)"}),s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"w-full text-sm",children:[s.jsx("thead",{children:s.jsxs("tr",{className:"border-b border-separator-light",children:[s.jsx("th",{className:"text-left py-2 px-3",children:"Stage"}),s.jsx("th",{className:"text-left py-2 px-3",children:"Description"}),s.jsx("th",{className:"text-left py-2 px-3",children:"Actions"}),s.jsx("th",{className:"text-left py-2 px-3",children:"Target"})]})}),s.jsxs("tbody",{className:"text-label-secondary",children:[s.jsxs("tr",{className:"border-b border-separator-light/50",children:[s.jsx("td",{className:"py-2 px-3 font-medium",children:"Lead"}),s.jsx("td",{className:"py-2 px-3",children:"Initial contact/referral received"}),s.jsx("td",{className:"py-2 px-3",children:"Log prospect, schedule discovery"}),s.jsx("td",{className:"py-2 px-3",children:"1-2 days"})]}),s.jsxs("tr",{className:"border-b border-separator-light/50",children:[s.jsx("td",{className:"py-2 px-3 font-medium",children:"Discovery"}),s.jsx("td",{className:"py-2 px-3",children:"Needs assessment call"}),s.jsx("td",{className:"py-2 px-3",children:"Document requirements, assess fit"}),s.jsx("td",{className:"py-2 px-3",children:"1-3 days"})]}),s.jsxs("tr",{className:"border-b border-separator-light/50",children:[s.jsx("td",{className:"py-2 px-3 font-medium",children:"Proposal"}),s.jsx("td",{className:"py-2 px-3",children:"Pricing and scope presented"}),s.jsx("td",{className:"py-2 px-3",children:"Send proposal, follow up"}),s.jsx("td",{className:"py-2 px-3",children:"3-5 days"})]}),s.jsxs("tr",{className:"border-b border-separator-light/50",children:[s.jsx("td",{className:"py-2 px-3 font-medium",children:"Contract"}),s.jsx("td",{className:"py-2 px-3",children:"Agreement signing"}),s.jsx("td",{className:"py-2 px-3",children:"Send MSA + BAA, collect signature"}),s.jsx("td",{className:"py-2 px-3",children:"1-3 days"})]}),s.jsxs("tr",{className:"border-b border-separator-light/50",children:[s.jsx("td",{className:"py-2 px-3 font-medium",children:"Intake"}),s.jsx("td",{className:"py-2 px-3",children:"Information gathering"}),s.jsx("td",{className:"py-2 px-3",children:"Collect network info, contacts"}),s.jsx("td",{className:"py-2 px-3",children:"2-5 days"})]}),s.jsxs("tr",{className:"border-b border-separator-light/50",children:[s.jsx("td",{className:"py-2 px-3 font-medium",children:"Credentials"}),s.jsx("td",{className:"py-2 px-3",children:"Access provisioned"}),s.jsx("td",{className:"py-2 px-3",children:"Generate site ID, API keys"}),s.jsx("td",{className:"py-2 px-3",children:"1 day"})]}),s.jsxs("tr",{children:[s.jsx("td",{className:"py-2 px-3 font-medium",children:"Shipped"}),s.jsx("td",{className:"py-2 px-3",children:"Appliance sent"}),s.jsx("td",{className:"py-2 px-3",children:"Configure appliance, ship"}),s.jsx("td",{className:"py-2 px-3",children:"1-2 days"})]})]})]})}),s.jsx("h4",{className:"font-semibold mt-6",children:"Phase 2: Activation (Received  Active)"}),s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"w-full text-sm",children:[s.jsx("thead",{children:s.jsxs("tr",{className:"border-b border-separator-light",children:[s.jsx("th",{className:"text-left py-2 px-3",children:"Stage"}),s.jsx("th",{className:"text-left py-2 px-3",children:"Description"}),s.jsx("th",{className:"text-left py-2 px-3",children:"Actions"}),s.jsx("th",{className:"text-left py-2 px-3",children:"Target"})]})}),s.jsxs("tbody",{className:"text-label-secondary",children:[s.jsxs("tr",{className:"border-b border-separator-light/50",children:[s.jsx("td",{className:"py-2 px-3 font-medium",children:"Received"}),s.jsx("td",{className:"py-2 px-3",children:"Client has appliance"}),s.jsx("td",{className:"py-2 px-3",children:"Confirm delivery, schedule install"}),s.jsx("td",{className:"py-2 px-3",children:"1 day"})]}),s.jsxs("tr",{className:"border-b border-separator-light/50",children:[s.jsx("td",{className:"py-2 px-3 font-medium",children:"Connectivity"}),s.jsx("td",{className:"py-2 px-3",children:"Appliance phoning home"}),s.jsx("td",{className:"py-2 px-3",children:"Verify check-in, troubleshoot"}),s.jsx("td",{className:"py-2 px-3",children:"1-2 days"})]}),s.jsxs("tr",{className:"border-b border-separator-light/50",children:[s.jsx("td",{className:"py-2 px-3 font-medium",children:"Scanning"}),s.jsx("td",{className:"py-2 px-3",children:"Discovery running"}),s.jsx("td",{className:"py-2 px-3",children:"Monitor scans, review assets"}),s.jsx("td",{className:"py-2 px-3",children:"1-2 days"})]}),s.jsxs("tr",{className:"border-b border-separator-light/50",children:[s.jsx("td",{className:"py-2 px-3 font-medium",children:"Baseline"}),s.jsx("td",{className:"py-2 px-3",children:"Baseline established"}),s.jsx("td",{className:"py-2 px-3",children:"Review baseline, set thresholds"}),s.jsx("td",{className:"py-2 px-3",children:"1 day"})]}),s.jsxs("tr",{className:"border-b border-separator-light/50",children:[s.jsx("td",{className:"py-2 px-3 font-medium",children:"Compliant"}),s.jsx("td",{className:"py-2 px-3",children:"All controls passing"}),s.jsx("td",{className:"py-2 px-3",children:"Verify 8/8 controls, fix issues"}),s.jsx("td",{className:"py-2 px-3",children:"1-3 days"})]}),s.jsxs("tr",{children:[s.jsx("td",{className:"py-2 px-3 font-medium",children:"Active"}),s.jsx("td",{className:"py-2 px-3",children:"Live and monitored"}),s.jsx("td",{className:"py-2 px-3",children:"Generate portal link, hand off"}),s.jsx("td",{className:"py-2 px-3",children:"-"})]})]})]})})]})},{id:"checklist",title:"Onboarding Checklist",content:s.jsxs("div",{className:"space-y-4",children:[s.jsx("h4",{className:"font-semibold",children:"Pre-Onboarding"}),s.jsx("ul",{className:"space-y-2",children:["Signed MSA and BAA received","Payment method on file","Primary contact identified","Network diagram or description obtained","Current IT provider contact (if applicable)"].map((e,t)=>s.jsxs("li",{className:"flex items-center gap-2",children:[s.jsx("input",{type:"checkbox",className:"rounded"}),s.jsx("span",{className:"text-label-secondary",children:e})]},t))}),s.jsx("h4",{className:"font-semibold mt-6",children:"Appliance Setup"}),s.jsx("ul",{className:"space-y-2",children:["Site ID generated in Central Command","API key created and secured","Appliance flashed with client config","Appliance tested in lab (check-in verified)","Tracking number sent to client"].map((e,t)=>s.jsxs("li",{className:"flex items-center gap-2",children:[s.jsx("input",{type:"checkbox",className:"rounded"}),s.jsx("span",{className:"text-label-secondary",children:e})]},t))}),s.jsx("h4",{className:"font-semibold mt-6",children:"Activation"}),s.jsx("ul",{className:"space-y-2",children:["Appliance receiving check-ins","Network scan completed","Baseline configuration saved","All 8 controls passing","Portal magic link generated and sent","Client orientation call completed"].map((e,t)=>s.jsxs("li",{className:"flex items-center gap-2",children:[s.jsx("input",{type:"checkbox",className:"rounded"}),s.jsx("span",{className:"text-label-secondary",children:e})]},t))})]})}]},appliance:{title:"Appliance Setup",icon:"",items:[{id:"hardware",title:"Hardware Requirements",content:s.jsxs("div",{className:"space-y-4",children:[s.jsx("h4",{className:"font-semibold",children:"Minimum Specifications"}),s.jsxs("ul",{className:"list-disc list-inside space-y-2 text-label-secondary",children:[s.jsx("li",{children:"Intel N100 or equivalent (4 cores, 2.0+ GHz)"}),s.jsx("li",{children:"8GB RAM minimum, 16GB recommended"}),s.jsx("li",{children:"128GB NVMe SSD (LUKS encrypted)"}),s.jsx("li",{children:"2x Gigabit Ethernet ports"}),s.jsx("li",{children:"TPM 2.0 (optional, for secure boot)"})]}),s.jsx("h4",{className:"font-semibold mt-6",children:"Recommended Hardware"}),s.jsxs("div",{className:"p-4 bg-fill-secondary rounded-ios",children:[s.jsx("p",{className:"font-medium",children:"Beelink S12 Pro Mini PC"}),s.jsxs("ul",{className:"mt-2 text-sm text-label-secondary space-y-1",children:[s.jsx("li",{children:"Intel N100 (4C/4T, 3.4GHz boost)"}),s.jsx("li",{children:"16GB DDR5 RAM"}),s.jsx("li",{children:"500GB NVMe SSD"}),s.jsx("li",{children:"Dual 2.5GbE NICs"}),s.jsx("li",{children:"~$200 retail"})]})]}),s.jsx("h4",{className:"font-semibold mt-6",children:"Network Requirements"}),s.jsxs("ul",{className:"list-disc list-inside space-y-2 text-label-secondary",children:[s.jsx("li",{children:"Static IP or DHCP reservation"}),s.jsx("li",{children:"Outbound HTTPS (443) to api.osiriscare.net"}),s.jsx("li",{children:"LAN access to monitored devices"}),s.jsx("li",{children:"No inbound ports required"})]})]})},{id:"flashing",title:"Flashing the Appliance",content:s.jsxs("div",{className:"space-y-4",children:[s.jsx("h4",{className:"font-semibold",children:"Step 1: Generate Configuration"}),s.jsx("div",{className:"p-4 bg-gray-900 rounded-ios text-green-400 font-mono text-sm",children:s.jsx("pre",{children:`# In Central Command, create the site first
# Then generate the appliance config:

nix build .#appliance-image \\
  --argstr siteId "clinic-name-abc123" \\
  --argstr apiKey "sk_live_..." \\
  --argstr apiUrl "https://api.osiriscare.net"`})}),s.jsx("h4",{className:"font-semibold mt-6",children:"Step 2: Write to USB"}),s.jsx("div",{className:"p-4 bg-gray-900 rounded-ios text-green-400 font-mono text-sm",children:s.jsx("pre",{children:`# Find USB device
lsblk

# Write image (replace /dev/sdX)
sudo dd if=result/nixos.img of=/dev/sdX \\
  bs=4M status=progress conv=fsync`})}),s.jsx("h4",{className:"font-semibold mt-6",children:"Step 3: Boot and Verify"}),s.jsxs("ol",{className:"list-decimal list-inside space-y-2 text-label-secondary",children:[s.jsx("li",{children:"Insert USB into target device, power on"}),s.jsx("li",{children:"Wait for NixOS to boot (2-3 minutes)"}),s.jsx("li",{children:"Appliance will auto-connect via DHCP"}),s.jsx("li",{children:"Check Central Command for check-in within 5 minutes"}),s.jsx("li",{children:"If no check-in, verify network and check logs"})]})]})},{id:"troubleshooting-appliance",title:"Appliance Troubleshooting",content:s.jsxs("div",{className:"space-y-4",children:[s.jsx("h4",{className:"font-semibold",children:"No Check-In After Boot"}),s.jsxs("ol",{className:"list-decimal list-inside space-y-2 text-label-secondary",children:[s.jsx("li",{children:"Verify Ethernet cable is connected (check link lights)"}),s.jsxs("li",{children:["Confirm DHCP is working: ",s.jsx("code",{className:"bg-fill-secondary px-1 rounded",children:"journalctl -u systemd-networkd"})]}),s.jsxs("li",{children:["Test DNS: ",s.jsx("code",{className:"bg-fill-secondary px-1 rounded",children:"ping api.osiriscare.net"})]}),s.jsxs("li",{children:["Check agent logs: ",s.jsx("code",{className:"bg-fill-secondary px-1 rounded",children:"journalctl -u compliance-agent"})]}),s.jsxs("li",{children:["Verify API key is correct in ",s.jsx("code",{className:"bg-fill-secondary px-1 rounded",children:"/etc/compliance-agent/config.yaml"})]})]}),s.jsx("h4",{className:"font-semibold mt-6",children:"Connectivity Drops"}),s.jsxs("ul",{className:"list-disc list-inside space-y-2 text-label-secondary",children:[s.jsx("li",{children:"Check for firewall blocking outbound 443"}),s.jsx("li",{children:"Verify static IP hasn't changed"}),s.jsxs("li",{children:["Review ",s.jsx("code",{className:"bg-fill-secondary px-1 rounded",children:"/var/log/mcp-client.log"})]}),s.jsxs("li",{children:["Restart agent: ",s.jsx("code",{className:"bg-fill-secondary px-1 rounded",children:"systemctl restart compliance-agent"})]})]}),s.jsx("h4",{className:"font-semibold mt-6",children:"Remote Access (Emergency)"}),s.jsx("div",{className:"p-4 bg-gray-900 rounded-ios text-green-400 font-mono text-sm",children:s.jsx("pre",{children:`# SSH is enabled for admin user
ssh admin@<appliance-ip>

# View real-time logs
journalctl -u compliance-agent -f

# Manual check-in
/opt/compliance-agent/bin/phone-home --now`})})]})}]},compliance:{title:"Compliance Controls",icon:"",items:[{id:"controls",title:"8 Core HIPAA Controls",content:s.jsx("div",{className:"space-y-4",children:s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"w-full text-sm",children:[s.jsx("thead",{children:s.jsxs("tr",{className:"border-b border-separator-light",children:[s.jsx("th",{className:"text-left py-2 px-3",children:"Control"}),s.jsx("th",{className:"text-left py-2 px-3",children:"Description"}),s.jsx("th",{className:"text-left py-2 px-3",children:"HIPAA Reference"})]})}),s.jsxs("tbody",{className:"text-label-secondary",children:[s.jsxs("tr",{className:"border-b border-separator-light/50",children:[s.jsx("td",{className:"py-2 px-3 font-medium",children:"Endpoint Drift"}),s.jsx("td",{className:"py-2 px-3",children:"Configuration matches approved baseline"}),s.jsx("td",{className:"py-2 px-3",children:"164.308(a)(1)(ii)(D), 164.310(d)(1)"})]}),s.jsxs("tr",{className:"border-b border-separator-light/50",children:[s.jsx("td",{className:"py-2 px-3 font-medium",children:"Patch Freshness"}),s.jsx("td",{className:"py-2 px-3",children:"Critical patches applied within 72 hours"}),s.jsx("td",{className:"py-2 px-3",children:"164.308(a)(5)(ii)(B)"})]}),s.jsxs("tr",{className:"border-b border-separator-light/50",children:[s.jsx("td",{className:"py-2 px-3 font-medium",children:"Backup Success"}),s.jsx("td",{className:"py-2 px-3",children:"Daily backups + monthly restore test"}),s.jsx("td",{className:"py-2 px-3",children:"164.308(a)(7)(ii)(A), 164.310(d)(2)(iv)"})]}),s.jsxs("tr",{className:"border-b border-separator-light/50",children:[s.jsx("td",{className:"py-2 px-3 font-medium",children:"MFA Coverage"}),s.jsx("td",{className:"py-2 px-3",children:"MFA required for all human accounts"}),s.jsx("td",{className:"py-2 px-3",children:"164.312(a)(2)(i), 164.308(a)(4)(ii)(C)"})]}),s.jsxs("tr",{className:"border-b border-separator-light/50",children:[s.jsx("td",{className:"py-2 px-3 font-medium",children:"Privileged Access"}),s.jsx("td",{className:"py-2 px-3",children:"Admin accounts reviewed and limited"}),s.jsx("td",{className:"py-2 px-3",children:"164.308(a)(3)(ii)(B), 164.308(a)(4)(ii)(B)"})]}),s.jsxs("tr",{className:"border-b border-separator-light/50",children:[s.jsx("td",{className:"py-2 px-3 font-medium",children:"Git Protections"}),s.jsx("td",{className:"py-2 px-3",children:"Config tracked in version control"}),s.jsx("td",{className:"py-2 px-3",children:"164.312(b), 164.308(a)(5)(ii)(D)"})]}),s.jsxs("tr",{className:"border-b border-separator-light/50",children:[s.jsx("td",{className:"py-2 px-3 font-medium",children:"Secrets Hygiene"}),s.jsx("td",{className:"py-2 px-3",children:"No plaintext credentials in files"}),s.jsx("td",{className:"py-2 px-3",children:"164.312(a)(2)(i), 164.308(a)(4)(ii)(B)"})]}),s.jsxs("tr",{children:[s.jsx("td",{className:"py-2 px-3 font-medium",children:"Storage Posture"}),s.jsx("td",{className:"py-2 px-3",children:"Encryption at rest + proper permissions"}),s.jsx("td",{className:"py-2 px-3",children:"164.310(d)(2)(iii), 164.312(a)(1)"})]})]})]})})})},{id:"auto-healing",title:"Three-Tier Auto-Healing",content:s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"p-4 bg-fill-secondary rounded-ios",children:[s.jsx("h4",{className:"font-semibold text-level-l1",children:"L1: Deterministic (70-80%)"}),s.jsx("p",{className:"text-sm text-label-secondary mt-1",children:"YAML-based rules executed in <100ms at zero cost. Handles known issues like service restarts, log rotation, and configuration resets."})]}),s.jsxs("div",{className:"p-4 bg-fill-secondary rounded-ios",children:[s.jsx("h4",{className:"font-semibold text-level-l2",children:"L2: LLM Planner (15-20%)"}),s.jsx("p",{className:"text-sm text-label-secondary mt-1",children:"GPT-4 powered analysis for novel issues. Generates remediation plans in 2-5 seconds at ~$0.001 per incident. Successful patterns promote to L1."})]}),s.jsxs("div",{className:"p-4 bg-fill-secondary rounded-ios",children:[s.jsx("h4",{className:"font-semibold text-level-l3",children:"L3: Human Escalation (5-10%)"}),s.jsx("p",{className:"text-sm text-label-secondary mt-1",children:"Complex or sensitive issues requiring human judgment. Creates tickets with full context and recommended actions."})]})]})}]},portal:{title:"Client Portal",icon:"",items:[{id:"generating-links",title:"Generating Portal Links",content:s.jsxs("div",{className:"space-y-4",children:[s.jsx("p",{className:"text-label-secondary",children:"Portal links are magic URLs that give clients read-only access to their compliance dashboard. No login required - the token in the URL authenticates access."}),s.jsx("h4",{className:"font-semibold mt-4",children:"Via Central Command"}),s.jsxs("ol",{className:"list-decimal list-inside space-y-2 text-label-secondary",children:[s.jsx("li",{children:"Navigate to Sites  [Client Name]"}),s.jsx("li",{children:'Click "Generate Portal Link" button'}),s.jsx("li",{children:"Copy the URL and send to client"})]}),s.jsx("h4",{className:"font-semibold mt-4",children:"Via API"}),s.jsx("div",{className:"p-4 bg-gray-900 rounded-ios text-green-400 font-mono text-sm",children:s.jsx("pre",{children:`curl -X POST https://api.osiriscare.net/api/portal/sites/{site_id}/generate-token

# Response:
{
  "portal_url": "https://portal.osiriscare.net/portal/site/{site_id}?token=...",
  "token": "YBnJGHrJS5151NC-...",
  "expires": "never"
}`})}),s.jsx("h4",{className:"font-semibold mt-4",children:"Portal Features"}),s.jsxs("ul",{className:"list-disc list-inside space-y-2 text-label-secondary",children:[s.jsx("li",{children:"Real-time compliance score and KPIs"}),s.jsx("li",{children:"8 control status tiles with HIPAA mappings"}),s.jsx("li",{children:"Recent incident log with auto-fix status"}),s.jsx("li",{children:"Evidence bundle downloads"}),s.jsx("li",{children:"Monthly compliance packet (PDF)"})]})]})}]},troubleshooting:{title:"Troubleshooting",icon:"",items:[{id:"common-issues",title:"Common Issues",content:s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"p-4 bg-health-critical/10 border-l-4 border-health-critical rounded-r-ios",children:[s.jsx("h4",{className:"font-semibold text-health-critical",children:"Appliance Not Checking In"}),s.jsxs("ol",{className:"mt-2 list-decimal list-inside text-sm text-label-secondary space-y-1",children:[s.jsx("li",{children:"Verify network connectivity (ping api.osiriscare.net)"}),s.jsx("li",{children:"Check firewall allows outbound HTTPS (443)"}),s.jsx("li",{children:"Verify API key in config matches Central Command"}),s.jsx("li",{children:"Review agent logs: journalctl -u compliance-agent"}),s.jsx("li",{children:"Restart agent: systemctl restart compliance-agent"})]})]}),s.jsxs("div",{className:"p-4 bg-health-warning/10 border-l-4 border-health-warning rounded-r-ios",children:[s.jsx("h4",{className:"font-semibold text-health-warning",children:"Control Failing Unexpectedly"}),s.jsxs("ol",{className:"mt-2 list-decimal list-inside text-sm text-label-secondary space-y-1",children:[s.jsx("li",{children:"Check control details for specific failure reason"}),s.jsx("li",{children:"Verify baseline configuration is current"}),s.jsx("li",{children:"Review recent changes in git log"}),s.jsx("li",{children:"Check if exception should be applied"}),s.jsx("li",{children:"Contact support if issue persists"})]})]}),s.jsxs("div",{className:"p-4 bg-fill-secondary border-l-4 border-separator-light rounded-r-ios",children:[s.jsx("h4",{className:"font-semibold",children:"Portal Link Not Working"}),s.jsxs("ol",{className:"mt-2 list-decimal list-inside text-sm text-label-secondary space-y-1",children:[s.jsx("li",{children:"Verify URL is complete (token parameter present)"}),s.jsx("li",{children:"Generate a new link if token may be compromised"}),s.jsx("li",{children:"Check that site exists and is active"}),s.jsx("li",{children:"Try accessing directly via portal.osiriscare.net"})]})]})]})},{id:"support",title:"Getting Support",content:s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{className:"p-4 bg-fill-secondary rounded-ios",children:[s.jsx("h4",{className:"font-semibold",children:"Email Support"}),s.jsx("p",{className:"text-sm text-label-secondary mt-1",children:"support@osiriscare.net"}),s.jsx("p",{className:"text-xs text-label-tertiary mt-2",children:"Response within 24 hours"})]}),s.jsxs("div",{className:"p-4 bg-fill-secondary rounded-ios",children:[s.jsx("h4",{className:"font-semibold",children:"Emergency Line"}),s.jsx("p",{className:"text-sm text-label-secondary mt-1",children:"(570) 555-0123"}),s.jsx("p",{className:"text-xs text-label-tertiary mt-2",children:"Critical issues only"})]})]}),s.jsx("h4",{className:"font-semibold mt-4",children:"When Contacting Support"}),s.jsxs("ul",{className:"list-disc list-inside space-y-2 text-label-secondary",children:[s.jsx("li",{children:"Include Site ID and appliance hostname"}),s.jsx("li",{children:"Describe the issue and when it started"}),s.jsx("li",{children:"Attach relevant log excerpts"}),s.jsx("li",{children:"Note any recent changes made"})]})]})}]}},zv=()=>{const[e,t]=b.useState("overview"),[n,r]=b.useState(Gi.overview.items[0].id),l=Gi[e],i=l.items.find(a=>a.id===n)||l.items[0];return s.jsxs("div",{className:"flex gap-6 min-h-[calc(100vh-200px)]",children:[s.jsx("div",{className:"w-64 flex-shrink-0",children:s.jsxs(R,{className:"sticky top-6",children:[s.jsx("h2",{className:"text-lg font-semibold mb-4",children:"Documentation"}),s.jsx("nav",{className:"space-y-1",children:Object.entries(Gi).map(([a,o])=>s.jsxs("div",{children:[s.jsxs("button",{onClick:()=>{t(a),r(o.items[0].id)},className:`w-full text-left px-3 py-2 rounded-ios text-sm font-medium transition-colors flex items-center gap-2 ${e===a?"bg-accent-primary text-white":"text-label-secondary hover:bg-fill-secondary"}`,children:[s.jsx("span",{children:o.icon}),o.title]}),e===a&&s.jsx("div",{className:"ml-6 mt-1 space-y-1",children:o.items.map(c=>s.jsx("button",{onClick:()=>r(c.id),className:`w-full text-left px-3 py-1.5 rounded-ios-sm text-xs transition-colors ${n===c.id?"bg-accent-primary/20 text-accent-primary":"text-label-tertiary hover:text-label-secondary"}`,children:c.title},c.id))})]},a))})]})}),s.jsx("div",{className:"flex-1",children:s.jsxs(R,{children:[s.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[s.jsx("span",{className:"text-2xl",children:l.icon}),s.jsxs("div",{children:[s.jsx("p",{className:"text-xs text-label-tertiary uppercase tracking-wide",children:l.title}),s.jsx("h1",{className:"text-xl font-semibold",children:i.title})]})]}),s.jsx("div",{className:"prose prose-sm max-w-none text-label-primary",children:i.content})]})})]})},ll=({label:e,value:t,unit:n,status:r})=>{const l={pass:"text-green-600",warn:"text-orange-500",fail:"text-red-600"},i={pass:"bg-green-50 border-green-200",warn:"bg-orange-50 border-orange-200",fail:"bg-red-50 border-red-200"};return s.jsxs("div",{className:`rounded-xl border p-6 ${i[r]}`,children:[s.jsxs("div",{className:`text-4xl font-bold ${l[r]}`,children:[typeof t=="number"?t.toFixed(t%1===0?0:1):t,n]}),s.jsx("div",{className:"text-gray-600 text-sm mt-2",children:e})]})},Uv=({control:e})=>{const t={pass:{border:"border-green-400",bg:"bg-green-50",icon:"",iconColor:"text-green-600",label:"PASS"},warn:{border:"border-orange-400",bg:"bg-orange-50",icon:"",iconColor:"text-orange-600",label:"WARNING"},fail:{border:"border-red-400",bg:"bg-red-50",icon:"",iconColor:"text-red-600",label:"FAIL"}},n=t[e.status]||t.pass;return s.jsxs("div",{className:`border-2 rounded-xl p-4 ${n.border} ${n.bg}`,children:[s.jsxs("div",{className:"flex justify-between items-start mb-3",children:[s.jsx("h3",{className:"font-semibold text-gray-900 text-sm leading-tight pr-2",children:e.name}),s.jsx("span",{className:`text-xl ${n.iconColor}`,children:n.icon})]}),s.jsxs("div",{className:"space-y-2 text-xs text-gray-600",children:[s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"font-medium",children:"Status:"}),s.jsx("span",{className:n.iconColor,children:n.label})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"font-medium",children:"HIPAA:"}),s.jsxs("span",{className:"text-right max-w-[60%] truncate",title:e.hipaa_controls.join(", "),children:[e.hipaa_controls.slice(0,2).join(", "),e.hipaa_controls.length>2&&"..."]})]}),s.jsxs("div",{children:[s.jsx("span",{className:"font-medium",children:"Scope:"}),s.jsx("span",{className:"ml-1",children:e.scope_summary})]})]}),e.auto_fix_triggered&&s.jsxs("div",{className:"mt-3 text-xs text-green-700 bg-green-100 rounded-lg px-2 py-1.5 flex items-center gap-1",children:[s.jsx("span",{children:""}),s.jsxs("span",{children:["Auto-fixed in ",e.fix_duration_sec??0,"s"]})]}),e.exception_applied&&s.jsxs("div",{className:"mt-2 text-xs text-orange-700 bg-orange-100 rounded-lg px-2 py-1.5 flex items-center gap-1",children:[s.jsx("span",{children:""}),s.jsxs("span",{children:["Exception: ",e.exception_reason||"Active"]})]}),e.checked_at&&s.jsxs("div",{className:"mt-3 text-xs text-gray-400",children:["Last checked: ",new Date(e.checked_at).toLocaleString()]})]})},$v=({controls:e})=>{const t={critical:0,high:1,medium:2,low:3},n=[...e].sort((r,l)=>{const i=t[r.severity]??4,a=t[l.severity]??4;if(i!==a)return i-a;const o={fail:0,warn:1,pass:2};return(o[r.status]??3)-(o[l.status]??3)});return s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-4",children:n.map(r=>s.jsx(Uv,{control:r},r.rule_id))})},Bv=({incidents:e})=>{const t={critical:"bg-red-100 text-red-800",high:"bg-orange-100 text-orange-800",medium:"bg-yellow-100 text-yellow-800",low:"bg-blue-100 text-blue-800"},n=l=>l.replace(/_/g," ").replace(/\b\w/g,i=>i.toUpperCase()),r=l=>l?l<60?`${l}s`:l<3600?`${Math.floor(l/60)}m`:`${Math.floor(l/3600)}h ${Math.floor(l%3600/60)}m`:"-";return e.length===0?s.jsxs("div",{className:"bg-white rounded-xl border border-gray-200 p-8 text-center",children:[s.jsx("div",{className:"text-4xl mb-3",children:""}),s.jsx("p",{className:"text-gray-600",children:"No recent incidents"}),s.jsx("p",{className:"text-sm text-gray-400 mt-1",children:"Your systems are running smoothly"})]}):s.jsx("div",{className:"bg-white rounded-xl border border-gray-200 divide-y divide-gray-100",children:e.map(l=>s.jsx("div",{className:"p-4 hover:bg-gray-50",children:s.jsxs("div",{className:"flex items-start justify-between gap-4",children:[s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[s.jsx("span",{className:`px-2 py-0.5 text-xs font-medium rounded ${t[l.severity]||t.medium}`,children:l.severity.toUpperCase()}),s.jsx("span",{className:"text-sm font-medium text-gray-900 truncate",children:n(l.incident_type)})]}),s.jsx("p",{className:"text-xs text-gray-500",children:new Date(l.created_at).toLocaleString()})]}),s.jsxs("div",{className:"flex flex-col items-end gap-1",children:[l.auto_fixed?s.jsxs("span",{className:"inline-flex items-center gap-1 text-xs text-green-700 bg-green-100 px-2 py-1 rounded-full",children:[s.jsx("span",{children:""}),s.jsx("span",{children:"Auto-fixed"})]}):l.resolved_at?s.jsxs("span",{className:"inline-flex items-center gap-1 text-xs text-blue-700 bg-blue-100 px-2 py-1 rounded-full",children:[s.jsx("span",{children:""}),s.jsx("span",{children:"Resolved"})]}):s.jsxs("span",{className:"inline-flex items-center gap-1 text-xs text-orange-700 bg-orange-100 px-2 py-1 rounded-full",children:[s.jsx("span",{children:""}),s.jsx("span",{children:"In Progress"})]}),l.resolution_time_sec&&s.jsx("span",{className:"text-xs text-gray-400",children:r(l.resolution_time_sec)})]})]})},l.incident_id))})},Hv=({bundles:e,siteId:t,token:n})=>{const[r,l]=b.useState(null),i=d=>{if(d===0)return"0 B";const u=1024,h=["B","KB","MB","GB"],f=Math.floor(Math.log(d)/Math.log(u));return`${parseFloat((d/Math.pow(u,f)).toFixed(1))} ${h[f]}`},a=d=>({icon:{daily:"",weekly:"",monthly:""}[d]||"",label:d.charAt(0).toUpperCase()+d.slice(1)}),o=async d=>{l(d);try{const h=await(await fetch(`/api/portal/site/${t}/evidence/${d}/download?token=${n}`)).json();h.download_url&&window.open(h.download_url,"_blank")}catch(u){console.error("Download failed:",u)}finally{l(null)}};if(e.length===0)return s.jsxs("div",{className:"bg-white rounded-xl border border-gray-200 p-8 text-center",children:[s.jsx("div",{className:"text-4xl mb-3",children:""}),s.jsx("p",{className:"text-gray-600",children:"No evidence bundles yet"}),s.jsx("p",{className:"text-sm text-gray-400 mt-1",children:"Bundles will appear after first compliance check"})]});const c=e.reduce((d,u)=>{const h=u.bundle_type;return d[h]||(d[h]=[]),d[h].push(u),d},{});return s.jsxs("div",{className:"space-y-4",children:[Object.entries(c).map(([d,u])=>{const{icon:h,label:f}=a(d);return s.jsxs("div",{className:"bg-white rounded-xl border border-gray-200",children:[s.jsxs("div",{className:"px-4 py-3 border-b border-gray-100 flex items-center gap-2",children:[s.jsx("span",{children:h}),s.jsxs("span",{className:"font-medium text-gray-900",children:[f," Reports"]}),s.jsxs("span",{className:"text-xs text-gray-400",children:["(",u.length,")"]})]}),s.jsx("div",{className:"divide-y divide-gray-100",children:u.slice(0,5).map(x=>s.jsxs("div",{className:"px-4 py-3 flex items-center justify-between hover:bg-gray-50",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-gray-900",children:x.bundle_id}),s.jsxs("p",{className:"text-xs text-gray-500",children:[new Date(x.generated_at).toLocaleDateString(),"  ",i(x.size_bytes)]})]}),s.jsx("button",{onClick:()=>o(x.bundle_id),disabled:r===x.bundle_id,className:"px-3 py-1.5 text-sm font-medium text-blue-600 hover:text-blue-700 hover:bg-blue-50 rounded-lg disabled:opacity-50 disabled:cursor-wait",children:r===x.bundle_id?"Loading...":"Download"})]},x.bundle_id))})]},d)}),s.jsx("div",{className:"bg-gradient-to-r from-blue-50 to-indigo-50 rounded-xl border border-blue-200 p-4",children:s.jsxs("div",{className:"flex items-start justify-between gap-4",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"font-semibold text-gray-900",children:"Monthly Compliance Packet"}),s.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"PDF report with full compliance summary, incident log, and evidence index"})]}),s.jsx("a",{href:`/api/portal/site/${t}/report/monthly?token=${n}`,target:"_blank",rel:"noopener noreferrer",className:"px-4 py-2 bg-blue-600 text-white text-sm font-medium rounded-lg hover:bg-blue-700 whitespace-nowrap",children:"Download PDF"})]})})]})},Wv=()=>s.jsxs("div",{className:"min-h-screen bg-gray-50 animate-pulse",children:[s.jsx("div",{className:"bg-white border-b px-6 py-4",children:s.jsxs("div",{className:"max-w-7xl mx-auto",children:[s.jsx("div",{className:"h-8 w-64 bg-gray-200 rounded mb-2"}),s.jsx("div",{className:"h-4 w-48 bg-gray-200 rounded"})]})}),s.jsxs("main",{className:"max-w-7xl mx-auto px-6 py-8",children:[s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4 mb-8",children:[1,2,3,4].map(e=>s.jsx("div",{className:"h-24 bg-gray-200 rounded-xl"},e))}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[1,2,3,4,5,6,7,8].map(e=>s.jsx("div",{className:"h-48 bg-gray-200 rounded-xl"},e))})]})]}),Vv=({message:e})=>s.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center p-6",children:s.jsxs("div",{className:"max-w-md w-full bg-white rounded-2xl shadow-lg p-8 text-center",children:[s.jsx("div",{className:"w-16 h-16 bg-red-100 rounded-full flex items-center justify-center mx-auto mb-4",children:s.jsx("span",{className:"text-3xl",children:""})}),s.jsx("h1",{className:"text-xl font-semibold text-gray-900 mb-2",children:"Access Denied"}),s.jsx("p",{className:"text-gray-600 mb-6",children:e}),s.jsx("p",{className:"text-sm text-gray-400",children:"If you believe this is an error, please contact your administrator."})]})}),Qv=()=>{const[e]=Ty(),{siteId:t}=ic(),n=e.get("token"),[r,l]=b.useState(null),[i,a]=b.useState(!0),[o,c]=b.useState(null);if(b.useEffect(()=>{if(!n){c("Missing portal access token. Please use the link provided by your administrator."),a(!1);return}if(!t){c("Invalid portal URL."),a(!1);return}fetch(`/api/portal/site/${t}?token=${n}`).then(u=>{if(!u.ok)throw new Error("Invalid or expired portal link. Please request a new link from your administrator.");return u.json()}).then(l).catch(u=>c(u.message)).finally(()=>a(!1))},[t,n]),i)return s.jsx(Wv,{});if(o)return s.jsx(Vv,{message:o});if(!r)return null;const d=(u,h)=>u>=h.pass?"pass":u>=h.warn?"warn":"fail";return s.jsxs("div",{className:"min-h-screen bg-gray-50",children:[s.jsx("header",{className:"bg-white border-b shadow-sm",children:s.jsxs("div",{className:"max-w-7xl mx-auto px-6 py-4 flex justify-between items-center",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:r.site.name}),s.jsxs("p",{className:"text-sm text-gray-500",children:["HIPAA Compliance Dashboard  Last updated:"," ",r.site.last_checkin?new Date(r.site.last_checkin).toLocaleString():"Never"]})]}),s.jsx("div",{className:"flex items-center gap-3",children:s.jsx("span",{className:`px-3 py-1.5 rounded-full text-sm font-medium ${r.site.status==="online"?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:r.site.status==="online"?" Online":" Offline"})})]})}),s.jsxs("main",{className:"max-w-7xl mx-auto px-6 py-8",children:[s.jsxs("section",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4 mb-8",children:[s.jsx(ll,{label:"Compliance Score",value:r.kpis.compliance_pct??0,unit:"%",status:d(r.kpis.compliance_pct??0,{pass:95,warn:80})}),s.jsx(ll,{label:"Patch MTTR",value:r.kpis.patch_mttr_hours??0,unit:" hrs",status:(r.kpis.patch_mttr_hours??0)<24?"pass":(r.kpis.patch_mttr_hours??0)<72?"warn":"fail"}),s.jsx(ll,{label:"MFA Coverage",value:r.kpis.mfa_coverage_pct??0,unit:"%",status:(r.kpis.mfa_coverage_pct??0)===100?"pass":"warn"}),s.jsx(ll,{label:"Auto-Fixes (24h)",value:r.kpis.auto_fixes_24h??0,unit:"",status:"pass"})]}),s.jsx("section",{className:"mb-6",children:s.jsxs("div",{className:"bg-white rounded-xl border border-gray-200 p-4 flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-6",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{className:"w-3 h-3 rounded-full bg-green-500"}),s.jsxs("span",{className:"text-sm text-gray-600",children:[s.jsx("strong",{className:"text-gray-900",children:r.kpis.controls_passing??0})," Passing"]})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{className:"w-3 h-3 rounded-full bg-orange-500"}),s.jsxs("span",{className:"text-sm text-gray-600",children:[s.jsx("strong",{className:"text-gray-900",children:r.kpis.controls_warning??0})," Warning"]})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{className:"w-3 h-3 rounded-full bg-red-500"}),s.jsxs("span",{className:"text-sm text-gray-600",children:[s.jsx("strong",{className:"text-gray-900",children:r.kpis.controls_failing??0})," Failing"]})]})]}),s.jsx("span",{className:"text-sm text-gray-400",children:"8 Core HIPAA Controls"})]})}),s.jsxs("section",{className:"mb-8",children:[s.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"Control Status"}),s.jsx($v,{controls:r.controls})]}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[s.jsxs("section",{children:[s.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"Recent Activity"}),s.jsx(Bv,{incidents:r.incidents})]}),s.jsxs("section",{children:[s.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"Evidence & Reports"}),s.jsx(Hv,{bundles:r.evidence_bundles,siteId:t,token:n})]})]}),s.jsxs("footer",{className:"mt-12 pt-8 border-t border-gray-200 text-center",children:[s.jsx("p",{className:"text-sm text-gray-500 max-w-2xl mx-auto",children:"This report contains system metadata only. No Protected Health Information (PHI) is processed, stored, or transmitted by the compliance monitoring system."}),s.jsxs("p",{className:"mt-4 text-sm text-gray-400",children:["Questions?"," ",s.jsx("a",{href:"mailto:support@osiriscare.net",className:"text-blue-600 hover:underline",children:"support@osiriscare.net"})]}),s.jsxs("div",{className:"mt-4 flex items-center justify-center gap-2",children:[s.jsx("span",{className:"text-xs text-gray-300",children:"Powered by"}),s.jsx("span",{className:"text-sm font-semibold text-gray-500",children:"OsirisCare"})]})]})]})]})},Kv=new sg({defaultOptions:{queries:{retry:1,refetchOnWindowFocus:!1}}}),Kd={"/":"Dashboard","/sites":"Sites","/onboarding":"Onboarding Pipeline","/runbooks":"Runbook Library","/learning":"Learning Loop","/reports":"Reports","/audit-logs":"Audit Logs","/docs":"Documentation"},qv=()=>{const e=it(),t=Vn(),{user:n,logout:r,addAuditLog:l}=yi(),[i,a]=b.useState(null),[o,c]=b.useState(new Date),[d,u]=b.useState(!1),[h,f]=b.useState(!1),{data:x=[],dataUpdatedAt:j}=Qm(),N=Bg();tv(()=>f(!0)),b.useEffect(()=>{j&&c(new Date(j))},[j]),b.useEffect(()=>{const v=Kd[t.pathname]||t.pathname;l("VIEW",v,`Viewed ${v}`)},[t.pathname]);const w=v=>{a(v),e(`/client/${v}`),l("VIEW","Client Detail",`Viewed client: ${v}`)},m=async()=>{u(!0),N(),l("REFRESH","Dashboard","Manually refreshed data"),setTimeout(()=>{u(!1),c(new Date)},1e3)},p=()=>{r(),e("/")},g=()=>t.pathname.startsWith("/client/")?t.pathname.replace("/client/","").replace(/-/g," ").replace(/\b\w/g,k=>k.toUpperCase()):Kd[t.pathname]||"Central Command";return s.jsxs("div",{className:"min-h-screen bg-background-primary",children:[s.jsx(Ng,{clients:x,onClientSelect:w,selectedClient:i,user:n,onLogout:p}),s.jsxs("div",{className:"ml-64",children:[s.jsx(bg,{title:g(),onRefresh:m,refreshing:d,lastUpdated:o,user:n}),s.jsx("main",{className:"p-6",children:s.jsxs(Pm,{children:[s.jsx(Ae,{path:"/",element:s.jsx(nv,{})}),s.jsx(Ae,{path:"/sites",element:s.jsx(Tv,{})}),s.jsx(Ae,{path:"/sites/:siteId",element:s.jsx(Fv,{})}),s.jsx(Ae,{path:"/onboarding",element:s.jsx(jv,{})}),s.jsx(Ae,{path:"/runbooks",element:s.jsx(av,{})}),s.jsx(Ae,{path:"/learning",element:s.jsx(dv,{})}),s.jsx(Ae,{path:"/audit-logs",element:s.jsx(_v,{})}),s.jsx(Ae,{path:"/docs",element:s.jsx(zv,{})}),s.jsx(Ae,{path:"/client/:siteId",element:s.jsx(Nv,{})}),s.jsx(Ae,{path:"/reports",element:s.jsx(Gv,{title:"Reports"})})]})})]}),s.jsx(_g,{isOpen:h,onClose:()=>f(!1)})]})},Gv=({title:e})=>s.jsxs("div",{className:"flex flex-col items-center justify-center min-h-[400px] text-center",children:[s.jsx("h1",{className:"text-2xl font-semibold text-label-primary mb-2",children:e}),s.jsx("p",{className:"text-label-tertiary",children:"Coming soon in a future phase."})]}),Xv=()=>{const{isAuthenticated:e}=yi(),[t,n]=b.useState(!1);return b.useEffect(()=>{n(e)},[e]),t?s.jsx(qv,{}):s.jsx(kv,{onSuccess:()=>n(!0)})},Yv=()=>s.jsx(rg,{client:Kv,children:s.jsx(wv,{children:s.jsx(Sy,{children:s.jsxs(Pm,{children:[s.jsx(Ae,{path:"/portal/site/:siteId",element:s.jsx(Qv,{})}),s.jsx(Ae,{path:"/*",element:s.jsx(Xv,{})})]})})})});Xi.createRoot(document.getElementById("root")).render(s.jsx(po.StrictMode,{children:s.jsx(Yv,{})}));
//# sourceMappingURL=index-CYuhK7oi.js.map
