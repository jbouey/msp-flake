import{r as a,j as e,m as B,Z as me,K as L}from"./index-ByrxzNCH.js";const Z=a.createContext(void 0),fe=({children:g})=>{const[n,x]=a.useState(null),[r,h]=a.useState(!0),[s,c]=a.useState(null);a.useEffect(()=>{b()},[]);const b=async()=>{h(!0);try{const p=await fetch("/api/client/auth/me",{credentials:"include"});if(p.ok){const j=await p.json();return x({id:j.id,email:j.email,name:j.name,role:j.role,org:{id:j.org.id,name:j.org.name}}),c(null),!0}else return x(null),!1}catch(p){return console.error("Session check failed:",p),x(null),!1}finally{h(!1)}},y=async()=>{try{await fetch("/api/client/auth/logout",{method:"POST",credentials:"include"})}catch(p){console.error("Logout request failed:",p)}x(null),c(null)};return e.jsx(Z.Provider,{value:{user:n,isAuthenticated:n!==null,isLoading:r,error:s,logout:y,checkSession:b},children:g})},A=()=>{const g=a.useContext(Z);if(g===void 0)throw new Error("useClient must be used within a ClientProvider");return g},be=()=>{const g=B(),{isAuthenticated:n,isLoading:x}=A(),[r,h]=a.useState(""),[s,c]=a.useState("idle"),[b,y]=a.useState(null);a.useEffect(()=>{n&&!x&&g("/client/dashboard",{replace:!0})},[n,x,g]);const p=async j=>{if(j.preventDefault(),!!r.trim()){c("loading"),y(null);try{(await fetch("/api/client/auth/request-magic-link",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:r.trim().toLowerCase()})})).ok,c("sent")}catch{y("Failed to connect. Please try again."),c("error")}}};return x?e.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-teal-950 via-cyan-900 to-teal-900 flex items-center justify-center p-6 relative overflow-hidden",children:[e.jsx("div",{className:"absolute top-1/4 -left-32 w-96 h-96 bg-teal-600/20 rounded-full blur-3xl"}),e.jsx("div",{className:"absolute bottom-1/4 -right-32 w-96 h-96 bg-cyan-600/20 rounded-full blur-3xl"}),e.jsx("div",{className:"max-w-md w-full relative",style:{background:"rgba(255,255,255,0.85)",backdropFilter:"blur(40px) saturate(180%)",WebkitBackdropFilter:"blur(40px) saturate(180%)",borderRadius:"20px",boxShadow:"0 8px 32px rgba(0,0,0,0.12), inset 0 1px 0 rgba(255,255,255,0.5)"},children:e.jsxs("div",{className:"p-8 text-center",children:[e.jsx("div",{className:"w-14 h-14 mx-auto mb-4 rounded-2xl flex items-center justify-center",style:{background:"linear-gradient(135deg, #14A89E 0%, #3CBCB4 100%)"},children:e.jsx("svg",{className:"w-7 h-7 text-white animate-pulse-soft",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m5.618-4.016A11.955 11.955 0 0112 2.944a11.955 11.955 0 01-8.618 3.04A12.02 12.02 0 003 9c0 5.591 3.824 10.29 9 11.622 5.176-1.332 9-6.03 9-11.622 0-1.042-.133-2.052-.382-3.016z"})})}),e.jsx("p",{className:"text-gray-500",children:"Loading..."})]})})]}):s==="sent"?e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-teal-950 via-cyan-900 to-teal-900 flex items-center justify-center p-6 relative overflow-hidden",children:e.jsxs("div",{className:"max-w-md w-full",children:[e.jsxs("div",{className:"text-center mb-8",children:[e.jsx("div",{className:"w-16 h-16 bg-white rounded-2xl shadow-lg mx-auto mb-4 flex items-center justify-center",children:e.jsx("svg",{className:"w-10 h-10 text-teal-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 8l7.89 5.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"})})}),e.jsx("h1",{className:"text-3xl font-bold text-white",children:"Check Your Email"})]}),e.jsxs("div",{className:"bg-white rounded-2xl shadow-xl p-8 text-center",children:[e.jsx("div",{className:"w-16 h-16 bg-teal-100 rounded-full mx-auto mb-4 flex items-center justify-center",children:e.jsx("svg",{className:"w-8 h-8 text-teal-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})})}),e.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-2",children:"Login Link Sent"}),e.jsxs("p",{className:"text-gray-600 mb-6",children:["If ",e.jsx("strong",{children:r})," is registered, you'll receive a login link shortly."]}),e.jsx("p",{className:"text-sm text-gray-500",children:"The link expires in 60 minutes. Check your spam folder if you don't see it."}),e.jsx("button",{onClick:()=>{c("idle"),h("")},className:"mt-6 text-teal-600 hover:underline text-sm",children:"Use a different email"})]})]})}):e.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-teal-950 via-cyan-900 to-teal-900 flex items-center justify-center p-6 relative overflow-hidden animate-fade-in",children:[e.jsx("div",{className:"absolute top-1/4 -left-32 w-96 h-96 bg-teal-600/20 rounded-full blur-3xl"}),e.jsx("div",{className:"absolute bottom-1/4 -right-32 w-96 h-96 bg-cyan-600/20 rounded-full blur-3xl"}),e.jsxs("div",{className:"max-w-md w-full relative z-10",children:[e.jsxs("div",{className:"text-center mb-8",children:[e.jsx("div",{className:"w-16 h-16 rounded-2xl mx-auto mb-4 flex items-center justify-center shadow-lg",style:{background:"linear-gradient(135deg, #14A89E 0%, #3CBCB4 100%)",boxShadow:"0 4px 20px rgba(60, 188, 180, 0.4)"},children:e.jsx("svg",{className:"w-9 h-9 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m5.618-4.016A11.955 11.955 0 0112 2.944a11.955 11.955 0 01-8.618 3.04A12.02 12.02 0 003 9c0 5.591 3.824 10.29 9 11.622 5.176-1.332 9-6.03 9-11.622 0-1.042-.133-2.052-.382-3.016z"})})}),e.jsx("h1",{className:"text-3xl font-bold text-white tracking-tight",children:"Client Portal"}),e.jsx("p",{className:"text-teal-200/80 mt-2",children:"Access your HIPAA compliance dashboard"})]}),e.jsxs("div",{className:"p-8",style:{background:"rgba(255,255,255,0.88)",backdropFilter:"blur(40px) saturate(180%)",WebkitBackdropFilter:"blur(40px) saturate(180%)",borderRadius:"20px",boxShadow:"0 8px 32px rgba(0,0,0,0.12), inset 0 1px 0 rgba(255,255,255,0.5)"},children:[e.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-2 text-center",children:"Sign In"}),e.jsx("p",{className:"text-gray-600 text-center mb-6",children:"Enter your email to receive a secure login link."}),b&&e.jsx("div",{className:"mb-6 p-4 bg-red-50 border border-red-200 rounded-lg",children:e.jsx("p",{className:"text-red-700 text-sm",children:b})}),e.jsxs("form",{onSubmit:p,className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700 mb-1",children:"Email Address"}),e.jsx("input",{type:"email",id:"email",value:r,onChange:j=>h(j.target.value),placeholder:"you@yourpractice.com",required:!0,className:"w-full px-4 py-3 bg-gray-50/80 border border-gray-200 rounded-xl focus:ring-2 focus:ring-teal-500/40 focus:border-teal-300 outline-none transition"})]}),e.jsx("button",{type:"submit",disabled:!r.trim()||s==="loading",className:"w-full py-3 text-white font-semibold rounded-xl disabled:opacity-50 disabled:cursor-not-allowed transition-all hover:brightness-110 flex items-center justify-center gap-2",style:{background:"linear-gradient(135deg, #14A89E 0%, #3CBCB4 100%)",boxShadow:"0 4px 14px rgba(60, 188, 180, 0.35)"},children:s==="loading"?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"w-5 h-5 border-2 border-white border-t-transparent rounded-full animate-spin"}),"Sending..."]}):"Send Login Link"})]}),e.jsx("div",{className:"mt-6 pt-6 border-t border-gray-200",children:e.jsx("p",{className:"text-center text-sm text-gray-500",children:"No password required. We'll send you a secure link."})})]}),e.jsx("p",{className:"mt-8 text-center text-sm text-teal-300/60",children:"Powered by OsirisCare HIPAA Compliance Platform"})]})]})},ve=()=>{const[g]=me(),n=B(),{checkSession:x}=A(),[r,h]=a.useState("loading"),[s,c]=a.useState(null),b=g.get("token");a.useEffect(()=>{if(!b){c("Invalid link - no token provided"),h("error");return}y(b)},[b]);const y=async p=>{try{const j=await fetch("/api/client/auth/validate-magic-link",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({token:p}),credentials:"include"});if(j.ok)h("success"),await x(),setTimeout(()=>{n("/client/dashboard",{replace:!0})},1e3);else{const i=await j.json();c(i.detail||"Invalid or expired link"),h("error")}}catch{c("Failed to validate link. Please try again."),h("error")}};return r==="loading"?e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-teal-950 via-cyan-900 to-teal-900 flex items-center justify-center p-6",children:e.jsxs("div",{className:"max-w-md w-full rounded-2xl p-8 text-center",style:{background:"rgba(255,255,255,0.88)",backdropFilter:"blur(40px) saturate(180%)",WebkitBackdropFilter:"blur(40px) saturate(180%)",borderRadius:"20px",boxShadow:"0 8px 32px rgba(0,0,0,0.12), inset 0 1px 0 rgba(255,255,255,0.5)"},children:[e.jsx("div",{className:"w-16 h-16 mx-auto mb-4 flex items-center justify-center",children:e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-4 border-teal-500 border-t-transparent"})}),e.jsx("h1",{className:"text-xl font-semibold text-gray-900 mb-2",children:"Verifying Your Login"}),e.jsx("p",{className:"text-gray-600",children:"Please wait..."})]})}):r==="success"?e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-teal-950 via-cyan-900 to-teal-900 flex items-center justify-center p-6",children:e.jsxs("div",{className:"max-w-md w-full rounded-2xl p-8 text-center",style:{background:"rgba(255,255,255,0.88)",backdropFilter:"blur(40px) saturate(180%)",WebkitBackdropFilter:"blur(40px) saturate(180%)",borderRadius:"20px",boxShadow:"0 8px 32px rgba(0,0,0,0.12), inset 0 1px 0 rgba(255,255,255,0.5)"},children:[e.jsx("div",{className:"w-16 h-16 bg-teal-100 rounded-full mx-auto mb-4 flex items-center justify-center",children:e.jsx("svg",{className:"w-8 h-8 text-teal-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})})}),e.jsx("h1",{className:"text-xl font-semibold text-gray-900 mb-2",children:"Welcome Back!"}),e.jsx("p",{className:"text-gray-600",children:"Redirecting to your dashboard..."})]})}):e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-teal-950 via-cyan-900 to-teal-900 flex items-center justify-center p-6",children:e.jsxs("div",{className:"max-w-md w-full rounded-2xl p-8 text-center",style:{background:"rgba(255,255,255,0.88)",backdropFilter:"blur(40px) saturate(180%)",WebkitBackdropFilter:"blur(40px) saturate(180%)",borderRadius:"20px",boxShadow:"0 8px 32px rgba(0,0,0,0.12), inset 0 1px 0 rgba(255,255,255,0.5)"},children:[e.jsx("div",{className:"w-16 h-16 bg-red-100 rounded-full mx-auto mb-4 flex items-center justify-center",children:e.jsx("svg",{className:"w-8 h-8 text-red-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})}),e.jsx("h1",{className:"text-xl font-semibold text-gray-900 mb-2",children:"Link Invalid or Expired"}),e.jsx("p",{className:"text-gray-600 mb-6",children:s}),e.jsx("button",{onClick:()=>n("/client/login"),className:"px-6 py-3 text-white font-semibold rounded-xl hover:brightness-110 transition-all",style:{background:"linear-gradient(135deg, #14A89E 0%, #3CBCB4 100%)",boxShadow:"0 4px 14px rgba(60, 188, 180, 0.35)"},children:"Request New Login Link"})]})})},ye=()=>{const g=B(),{user:n,isAuthenticated:x,isLoading:r,logout:h}=A(),[s,c]=a.useState(null),[b,y]=a.useState([]),[p,j]=a.useState(!0),[i,m]=a.useState(null),[f,d]=a.useState(!1);a.useEffect(()=>{!r&&!x&&g("/client/login",{replace:!0})},[x,r,g]),a.useEffect(()=>{x&&(v(),w())},[x]);const v=async()=>{try{const o=await fetch("/api/client/dashboard",{credentials:"include"});if(o.ok){const M=await o.json();c(M)}else m("Failed to load dashboard")}catch{m("Failed to connect to server")}finally{j(!1)}},w=async()=>{try{const o=await fetch("/api/client/notifications?limit=10",{credentials:"include"});if(o.ok){const M=await o.json();y(M.notifications||[])}}catch(o){console.error("Failed to fetch notifications:",o)}},u=async()=>{await h(),g("/client/login")},k=o=>o>=95?"text-green-600":o>=80?"text-yellow-600":"text-red-600",S=o=>o>=95?"bg-green-100":o>=80?"bg-yellow-100":"bg-red-100";return r||p?e.jsx("div",{className:"min-h-screen bg-gray-50/80 flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"w-14 h-14 mx-auto mb-4 rounded-2xl flex items-center justify-center animate-pulse-soft",style:{background:"linear-gradient(135deg, #14A89E 0%, #3CBCB4 100%)"},children:e.jsx("svg",{className:"w-7 h-7 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m5.618-4.016A11.955 11.955 0 0112 2.944a11.955 11.955 0 01-8.618 3.04A12.02 12.02 0 003 9c0 5.591 3.824 10.29 9 11.622 5.176-1.332 9-6.03 9-11.622 0-1.042-.133-2.052-.382-3.016z"})})}),e.jsx("p",{className:"text-gray-500",children:"Loading your dashboard..."})]})}):i?e.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"w-16 h-16 bg-red-100 rounded-full mx-auto mb-4 flex items-center justify-center",children:e.jsx("svg",{className:"w-8 h-8 text-red-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})})}),e.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-2",children:"Error Loading Dashboard"}),e.jsx("p",{className:"text-gray-600 mb-4",children:i}),e.jsx("button",{onClick:()=>{m(null),j(!0),v()},className:"px-4 py-2 bg-teal-600 text-white rounded-lg hover:bg-teal-700",children:"Try Again"})]})}):e.jsxs("div",{className:"min-h-screen bg-gray-50/80 page-enter",children:[e.jsx("header",{className:"sticky top-0 z-50 border-b border-gray-200/60",style:{background:"rgba(255,255,255,0.82)",backdropFilter:"blur(20px) saturate(180%)",WebkitBackdropFilter:"blur(20px) saturate(180%)"},children:e.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:e.jsxs("div",{className:"flex justify-between items-center h-14",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:"w-10 h-10 rounded-xl flex items-center justify-center",style:{background:"linear-gradient(135deg, #14A89E 0%, #3CBCB4 100%)",boxShadow:"0 2px 10px rgba(60,188,180,0.3)"},children:e.jsx("svg",{className:"w-5 h-5 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m5.618-4.016A11.955 11.955 0 0112 2.944a11.955 11.955 0 01-8.618 3.04A12.02 12.02 0 003 9c0 5.591 3.824 10.29 9 11.622 5.176-1.332 9-6.03 9-11.622 0-1.042-.133-2.052-.382-3.016z"})})}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-lg font-semibold text-gray-900",children:s==null?void 0:s.org.name}),e.jsxs("p",{className:"text-sm text-gray-500",children:[(s==null?void 0:s.org.partner_brand)||"OsirisCare"," Compliance Portal"]})]})]}),e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsxs("div",{className:"relative",children:[e.jsxs("button",{onClick:()=>d(!f),className:"relative p-2 text-gray-500 hover:text-teal-600 rounded-lg hover:bg-teal-50",children:[e.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 17h5l-1.405-1.405A2.032 2.032 0 0118 14.158V11a6.002 6.002 0 00-4-5.659V5a2 2 0 10-4 0v.341C7.67 6.165 6 8.388 6 11v3.159c0 .538-.214 1.055-.595 1.436L4 17h5m6 0v1a3 3 0 11-6 0v-1m6 0H9"})}),s&&s.unread_notifications>0&&e.jsx("span",{className:"absolute -top-1 -right-1 w-5 h-5 bg-red-500 text-white text-xs rounded-full flex items-center justify-center",children:s.unread_notifications})]}),f&&e.jsxs("div",{className:"absolute right-0 mt-2 w-80 bg-white rounded-2xl shadow-lg border border-gray-100 z-50",children:[e.jsx("div",{className:"p-4 border-b border-gray-200",children:e.jsx("h3",{className:"font-semibold text-gray-900",children:"Notifications"})}),e.jsx("div",{className:"max-h-96 overflow-y-auto",children:b.length===0?e.jsx("p",{className:"p-4 text-gray-500 text-sm text-center",children:"No notifications"}):b.map(o=>e.jsxs("div",{className:`p-4 border-b border-gray-100 ${o.is_read?"":"bg-teal-50"}`,children:[e.jsx("p",{className:"font-medium text-gray-900 text-sm",children:o.title}),e.jsx("p",{className:"text-gray-600 text-sm mt-1",children:o.message})]},o.id))})]})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsxs("div",{className:"text-right",children:[e.jsx("p",{className:"text-sm font-medium text-gray-900",children:(n==null?void 0:n.name)||(n==null?void 0:n.email)}),e.jsx("p",{className:"text-xs text-gray-500 capitalize",children:n==null?void 0:n.role})]}),e.jsx("button",{onClick:u,className:"p-2 text-gray-500 hover:text-teal-600 rounded-lg hover:bg-teal-50",title:"Sign out",children:e.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 16l4-4m0 0l-4-4m4 4H7m6 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h4a3 3 0 013 3v1"})})})]})]})]})})}),e.jsxs("main",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6 mb-8",children:[e.jsxs("div",{className:"bg-white rounded-2xl shadow-sm border border-gray-100 p-6 hover:shadow-md transition-shadow",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[e.jsx("div",{className:"w-10 h-10 rounded-xl flex items-center justify-center",style:{background:"linear-gradient(135deg, #14A89E 0%, #3CBCB4 100%)"},children:e.jsx("svg",{className:"w-5 h-5 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m5.618-4.016A11.955 11.955 0 0112 2.944a11.955 11.955 0 01-8.618 3.04A12.02 12.02 0 003 9c0 5.591 3.824 10.29 9 11.622 5.176-1.332 9-6.03 9-11.622 0-1.042-.133-2.052-.382-3.016z"})})}),e.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Compliance Score"})]}),e.jsxs("span",{className:`text-4xl font-bold tabular-nums ${k((s==null?void 0:s.kpis.compliance_score)||0)}`,children:[s==null?void 0:s.kpis.compliance_score.toFixed(1),"%"]}),e.jsx("div",{className:`mt-4 h-2 rounded-full ${S((s==null?void 0:s.kpis.compliance_score)||0)}`,children:e.jsx("div",{className:`h-full rounded-full transition-all ${s!=null&&s.kpis.compliance_score&&s.kpis.compliance_score>=95?"bg-green-500":s!=null&&s.kpis.compliance_score&&s.kpis.compliance_score>=80?"bg-yellow-500":"bg-red-500"}`,style:{width:`${(s==null?void 0:s.kpis.compliance_score)||0}%`}})})]}),e.jsxs("div",{className:"bg-white rounded-2xl shadow-sm border border-gray-100 p-6 hover:shadow-md transition-shadow",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[e.jsx("div",{className:"w-10 h-10 rounded-xl bg-green-100 flex items-center justify-center",children:e.jsx("svg",{className:"w-5 h-5 text-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})})}),e.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Controls Passed"})]}),e.jsxs("div",{className:"flex items-end gap-2",children:[e.jsx("span",{className:"text-4xl font-bold text-green-600 tabular-nums",children:s==null?void 0:s.kpis.passed}),e.jsxs("span",{className:"text-gray-500 mb-1 tabular-nums",children:["/ ",s==null?void 0:s.kpis.total_checks]})]}),e.jsx("p",{className:"mt-2 text-sm text-gray-500",children:"Last 24 hours"})]}),e.jsxs("div",{className:"bg-white rounded-2xl shadow-sm border border-gray-100 p-6 hover:shadow-md transition-shadow",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[e.jsx("div",{className:"w-10 h-10 rounded-xl bg-red-100 flex items-center justify-center",children:e.jsx("svg",{className:"w-5 h-5 text-red-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})})}),e.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Issues Detected"})]}),e.jsxs("div",{className:"flex items-end gap-4",children:[e.jsxs("div",{children:[e.jsx("span",{className:"text-4xl font-bold text-red-600 tabular-nums",children:s==null?void 0:s.kpis.failed}),e.jsx("p",{className:"text-xs text-gray-500",children:"Failed"})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-2xl font-bold text-yellow-600 tabular-nums",children:s==null?void 0:s.kpis.warnings}),e.jsx("p",{className:"text-xs text-gray-500",children:"Warnings"})]})]})]}),e.jsxs("div",{className:"bg-white rounded-2xl shadow-sm border border-gray-100 p-6 hover:shadow-md transition-shadow",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[e.jsx("div",{className:"w-10 h-10 rounded-xl bg-cyan-100 flex items-center justify-center",children:e.jsx("svg",{className:"w-5 h-5 text-cyan-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 21V5a2 2 0 00-2-2H7a2 2 0 00-2 2v16m14 0h2m-2 0h-5m-9 0H3m2 0h5M9 7h1m-1 4h1m4-4h1m-1 4h1m-5 10v-5a1 1 0 011-1h2a1 1 0 011 1v5m-4 0h4"})})}),e.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Sites Monitored"})]}),e.jsx("span",{className:"text-4xl font-bold text-gray-900 tabular-nums",children:(s==null?void 0:s.sites.length)||0}),e.jsxs("p",{className:"mt-2 text-sm text-gray-500",children:[s==null?void 0:s.org.provider_count," provider",(s==null?void 0:s.org.provider_count)!==1?"s":""]})]})]}),e.jsxs("div",{className:"bg-white rounded-2xl shadow-sm border border-gray-100",children:[e.jsxs("div",{className:"p-6 border-b border-gray-200",children:[e.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Your Sites"}),e.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"Click a site to view detailed compliance status"})]}),(s==null?void 0:s.sites.length)===0?e.jsxs("div",{className:"p-8 text-center",children:[e.jsx("svg",{className:"w-12 h-12 text-gray-300 mx-auto mb-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 21V5a2 2 0 00-2-2H7a2 2 0 00-2 2v16m14 0h2m-2 0h-5m-9 0H3m2 0h5M9 7h1m-1 4h1m4-4h1m-1 4h1m-5 10v-5a1 1 0 011-1h2a1 1 0 011 1v5m-4 0h4"})}),e.jsx("p",{className:"text-gray-600",children:"No sites configured yet"})]}):e.jsx("div",{className:"divide-y divide-gray-200",children:s==null?void 0:s.sites.map(o=>e.jsxs(L,{to:`/client/sites/${o.site_id}`,className:"flex items-center justify-between p-6 hover:bg-teal-50/50 transition",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:`w-3 h-3 rounded-full ${o.status==="active"?"bg-green-500":"bg-gray-400"}`}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-medium text-gray-900",children:o.clinic_name}),e.jsx("p",{className:"text-sm text-gray-500",children:o.site_id})]})]}),e.jsxs("div",{className:"flex items-center gap-8",children:[e.jsxs("div",{className:"text-right",children:[e.jsxs("p",{className:"text-sm font-medium text-gray-900",children:[o.evidence_count," checks"]}),e.jsx("p",{className:"text-xs text-gray-500",children:o.last_evidence?`Last: ${new Date(o.last_evidence).toLocaleDateString()}`:"No data yet"})]}),e.jsx("span",{className:`px-3 py-1 text-xs font-medium rounded-full ${o.tier==="essential"?"bg-blue-100 text-blue-700":o.tier==="professional"?"bg-purple-100 text-purple-700":"bg-gray-100 text-gray-700"}`,children:o.tier||"Standard"}),e.jsx("svg",{className:"w-5 h-5 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})]})]},o.site_id))})]}),e.jsxs("div",{className:"mt-8 grid grid-cols-1 md:grid-cols-4 gap-6",children:[e.jsx(L,{to:"/client/evidence",className:"bg-white rounded-2xl shadow-sm border border-gray-100 p-6 hover:border-teal-300 hover:shadow-md transition-all",children:e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:"w-12 h-12 bg-teal-100 rounded-lg flex items-center justify-center",children:e.jsx("svg",{className:"w-6 h-6 text-teal-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})})}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold text-gray-900",children:"Evidence Archive"}),e.jsx("p",{className:"text-sm text-gray-500",children:"View and download compliance evidence"})]})]})}),e.jsx(L,{to:"/client/reports",className:"bg-white rounded-2xl shadow-sm border border-gray-100 p-6 hover:border-teal-300 hover:shadow-md transition-all",children:e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:"w-12 h-12 bg-purple-100 rounded-lg flex items-center justify-center",children:e.jsx("svg",{className:"w-6 h-6 text-purple-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 17v-2m3 2v-4m3 4v-6m2 10H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})})}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold text-gray-900",children:"Monthly Reports"}),e.jsx("p",{className:"text-sm text-gray-500",children:"Download compliance report PDFs"})]})]})}),e.jsx(L,{to:"/client/settings",className:"bg-white rounded-2xl shadow-sm border border-gray-100 p-6 hover:border-teal-300 hover:shadow-md transition-all",children:e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:"w-12 h-12 bg-gray-100 rounded-lg flex items-center justify-center",children:e.jsxs("svg",{className:"w-6 h-6 text-gray-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z"}),e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"})]})}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold text-gray-900",children:"Account Settings"}),e.jsx("p",{className:"text-sm text-gray-500",children:"Manage users and preferences"})]})]})}),e.jsx(L,{to:"/client/help",className:"bg-white rounded-2xl shadow-sm border border-gray-100 p-6 hover:border-teal-300 hover:shadow-md transition-all",children:e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:"w-12 h-12 bg-blue-100 rounded-lg flex items-center justify-center",children:e.jsx("svg",{className:"w-6 h-6 text-blue-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8.228 9c.549-1.165 2.03-2 3.772-2 2.21 0 4 1.343 4 3 0 1.4-1.278 2.575-3.006 2.907-.542.104-.994.54-.994 1.093m0 3h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold text-gray-900",children:"Help & Docs"}),e.jsx("p",{className:"text-sm text-gray-500",children:"How-to guides and FAQs"})]})]})})]})]}),e.jsx("footer",{className:"border-t border-gray-200/60 mt-12 py-6",children:e.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:e.jsx("p",{className:"text-center text-sm text-gray-400",children:"Powered by OsirisCare HIPAA Compliance Platform"})})})]})},Ne=()=>{const g=B(),{isAuthenticated:n,isLoading:x}=A(),[r,h]=a.useState([]),[s,c]=a.useState(0),[b,y]=a.useState(!0),[p,j]=a.useState(0),[i,m]=a.useState(""),f=50;a.useEffect(()=>{!x&&!n&&g("/client/login",{replace:!0})},[n,x,g]),a.useEffect(()=>{n&&d()},[n,p,i]);const d=async()=>{y(!0);try{let u=`/api/client/evidence?limit=${f}&offset=${p}`;i&&(u+=`&result=${i}`);const k=await fetch(u,{credentials:"include"});if(k.ok){const S=await k.json();h(S.evidence),c(S.total)}}catch(u){console.error("Failed to fetch evidence:",u)}finally{y(!1)}},v=async u=>{try{const k=await fetch(`/api/client/evidence/${u}/download`,{credentials:"include"});if(k.ok){const S=await k.json();window.open(S.download_url,"_blank")}}catch(k){console.error("Failed to get download URL:",k)}},w=u=>{switch(u){case"pass":return e.jsx("span",{className:"px-2 py-1 text-xs font-medium rounded-full bg-green-100 text-green-700",children:"Pass"});case"fail":return e.jsx("span",{className:"px-2 py-1 text-xs font-medium rounded-full bg-red-100 text-red-700",children:"Fail"});case"warning":return e.jsx("span",{className:"px-2 py-1 text-xs font-medium rounded-full bg-yellow-100 text-yellow-700",children:"Warning"});default:return e.jsx("span",{className:"px-2 py-1 text-xs font-medium rounded-full bg-gray-100 text-gray-700",children:u})}};return x?e.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:e.jsx("div",{className:"w-12 h-12 border-4 border-teal-500 border-t-transparent rounded-full animate-spin"})}):e.jsxs("div",{className:"min-h-screen bg-gray-50/80 page-enter",children:[e.jsx("header",{className:"sticky top-0 z-30 border-b border-gray-200/60",style:{background:"rgba(255,255,255,0.82)",backdropFilter:"blur(20px) saturate(180%)",WebkitBackdropFilter:"blur(20px) saturate(180%)"},children:e.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:e.jsx("div",{className:"flex items-center justify-between h-14",children:e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx(L,{to:"/client/dashboard",className:"p-2 text-gray-500 hover:text-teal-600 rounded-lg hover:bg-teal-50",children:e.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})})}),e.jsx("h1",{className:"text-lg font-semibold text-gray-900",children:"Evidence Archive"})]})})})}),e.jsxs("main",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[e.jsxs("div",{className:"mb-6 flex items-center gap-4",children:[e.jsxs("select",{value:i,onChange:u=>{m(u.target.value),j(0)},className:"px-4 py-2 bg-gray-50/80 border border-gray-200 rounded-xl focus:ring-2 focus:ring-teal-500/40 focus:border-teal-300 outline-none transition",children:[e.jsx("option",{value:"",children:"All Results"}),e.jsx("option",{value:"pass",children:"Passed"}),e.jsx("option",{value:"fail",children:"Failed"}),e.jsx("option",{value:"warning",children:"Warnings"})]}),e.jsxs("span",{className:"text-sm text-gray-500",children:[s," total bundles"]})]}),e.jsxs("div",{className:"bg-white rounded-2xl shadow-sm border border-gray-100 overflow-hidden",children:[b?e.jsx("div",{className:"p-8 text-center",children:e.jsx("div",{className:"w-8 h-8 border-4 border-teal-500 border-t-transparent rounded-full animate-spin mx-auto"})}):r.length===0?e.jsx("div",{className:"p-8 text-center text-gray-500",children:"No evidence bundles found"}):e.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[e.jsx("thead",{className:"bg-gray-50",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Site"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Check"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Control"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Result"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Date"}),e.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),e.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:r.map(u=>e.jsxs("tr",{className:"hover:bg-teal-50/50",children:[e.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[e.jsx("p",{className:"text-sm font-medium text-gray-900",children:u.clinic_name}),e.jsx("p",{className:"text-xs text-gray-500",children:u.site_id})]}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:u.check_type}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:u.hipaa_control||"-"}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:w(u.check_result)}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:new Date(u.checked_at).toLocaleString()}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right",children:e.jsxs("div",{className:"flex items-center justify-end gap-2",children:[e.jsx(L,{to:`/client/evidence/${u.id}`,className:"p-2 text-gray-500 hover:text-teal-600 rounded hover:bg-teal-50",title:"View Details",children:e.jsxs("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"}),e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"})]})}),e.jsx("button",{onClick:()=>v(u.id),className:"p-2 text-gray-500 hover:text-teal-600 rounded hover:bg-teal-50",title:"Download",children:e.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 10v6m0 0l-3-3m3 3l3-3m2 8H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})})})]})})]},u.id))})]}),s>f&&e.jsxs("div",{className:"px-6 py-4 border-t border-gray-200 flex items-center justify-between",children:[e.jsx("button",{onClick:()=>j(Math.max(0,p-f)),disabled:p===0,className:"px-4 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-lg hover:bg-teal-50/50 disabled:opacity-50 disabled:cursor-not-allowed",children:"Previous"}),e.jsxs("span",{className:"text-sm text-gray-500",children:["Showing ",p+1," - ",Math.min(p+f,s)," of ",s]}),e.jsx("button",{onClick:()=>j(p+f),disabled:p+f>=s,className:"px-4 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-lg hover:bg-teal-50/50 disabled:opacity-50 disabled:cursor-not-allowed",children:"Next"})]})]})]})]})},we=()=>{const g=B(),{isAuthenticated:n,isLoading:x}=A(),[r,h]=a.useState([]),[s,c]=a.useState(!0),[b,y]=a.useState(null);a.useEffect(()=>{!x&&!n&&g("/client/login",{replace:!0})},[n,x,g]),a.useEffect(()=>{n&&p()},[n]);const p=async()=>{c(!0),y(null);try{const m=await fetch("/api/client/reports/monthly",{credentials:"include"});if(m.ok){const f=await m.json();h(f.reports||[])}else y("Failed to load reports")}catch(m){console.error("Failed to fetch reports:",m),y("Failed to load reports")}finally{c(!1)}},j=async m=>{try{const f=await fetch(`/api/client/reports/monthly/${m}`,{credentials:"include"});if(f.ok){const d=await f.blob(),v=window.URL.createObjectURL(d),w=document.createElement("a");w.href=v,w.download=`compliance-report-${m}.pdf`,document.body.appendChild(w),w.click(),window.URL.revokeObjectURL(v),document.body.removeChild(w)}}catch(f){console.error("Failed to download report:",f)}},i=m=>m>=90?"text-green-600":m>=70?"text-yellow-600":"text-red-600";return x?e.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:e.jsx("div",{className:"w-12 h-12 border-4 border-teal-500 border-t-transparent rounded-full animate-spin"})}):e.jsxs("div",{className:"min-h-screen bg-gray-50/80 page-enter",children:[e.jsx("header",{className:"sticky top-0 z-30 border-b border-gray-200/60",style:{background:"rgba(255,255,255,0.82)",backdropFilter:"blur(20px) saturate(180%)",WebkitBackdropFilter:"blur(20px) saturate(180%)"},children:e.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:e.jsx("div",{className:"flex items-center justify-between h-14",children:e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx(L,{to:"/client/dashboard",className:"p-2 text-gray-500 hover:text-teal-600 rounded-lg hover:bg-teal-50",children:e.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})})}),e.jsx("h1",{className:"text-lg font-semibold text-gray-900",children:"Monthly Reports"})]})})})}),e.jsx("main",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:e.jsx("div",{className:"bg-white rounded-2xl shadow-sm border border-gray-100 overflow-hidden",children:s?e.jsx("div",{className:"p-8 text-center",children:e.jsx("div",{className:"w-8 h-8 border-4 border-teal-500 border-t-transparent rounded-full animate-spin mx-auto"})}):b?e.jsx("div",{className:"p-8 text-center text-red-500",children:b}):r.length===0?e.jsxs("div",{className:"p-8 text-center text-gray-500",children:[e.jsx("svg",{className:"w-12 h-12 mx-auto mb-4 text-gray-300",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})}),e.jsx("p",{children:"No monthly reports available yet"}),e.jsx("p",{className:"text-sm mt-2",children:"Reports are generated at the end of each month"})]}):e.jsx("div",{className:"divide-y divide-gray-200",children:r.map(m=>e.jsxs("div",{className:"p-6 hover:bg-teal-50/50 flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:"w-12 h-12 rounded-lg bg-purple-100 flex items-center justify-center",children:e.jsx("svg",{className:"w-6 h-6 text-purple-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})})}),e.jsxs("div",{children:[e.jsxs("h3",{className:"font-medium text-gray-900",children:[m.month," ",m.year]}),e.jsxs("p",{className:"text-sm text-gray-500",children:["Generated ",new Date(m.generated_at).toLocaleDateString()]})]})]}),e.jsxs("div",{className:"flex items-center gap-8",children:[e.jsxs("div",{className:"text-right",children:[e.jsx("p",{className:`text-2xl font-bold ${i(m.compliance_score)}`,children:e.jsxs("span",{className:"tabular-nums",children:[m.compliance_score.toFixed(1),"%"]})}),e.jsx("p",{className:"text-xs text-gray-500",children:"Compliance Score"})]}),e.jsxs("div",{className:"text-right",children:[e.jsxs("p",{className:"text-sm text-gray-900",children:[m.passed_checks,"/",m.total_checks," passed"]}),e.jsxs("p",{className:"text-xs text-gray-500",children:[m.failed_checks," failed"]})]}),e.jsxs("button",{onClick:()=>j(m.month),className:"px-4 py-2 text-white rounded-xl hover:brightness-110 transition-all flex items-center gap-2",style:{background:"linear-gradient(135deg, #14A89E 0%, #3CBCB4 100%)"},children:[e.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 10v6m0 0l-3-3m3 3l3-3m2 8H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})}),"Download PDF"]})]})]},m.id))})})})]})},ke=()=>{const g=B(),{isAuthenticated:n,isLoading:x}=A(),[r,h]=a.useState([]),[s,c]=a.useState(0),[b,y]=a.useState(!0);a.useEffect(()=>{!x&&!n&&g("/client/login",{replace:!0})},[n,x,g]),a.useEffect(()=>{n&&p()},[n]);const p=async()=>{y(!0);try{const d=await fetch("/api/client/notifications",{credentials:"include"});if(d.ok){const v=await d.json();h(v.notifications||[]),c(v.unread_count||0)}}catch(d){console.error("Failed to fetch notifications:",d)}finally{y(!1)}},j=async d=>{try{(await fetch(`/api/client/notifications/${d}/read`,{method:"POST",credentials:"include"})).ok&&(h(w=>w.map(u=>u.id===d?{...u,is_read:!0}:u)),c(w=>Math.max(0,w-1)))}catch(v){console.error("Failed to mark as read:",v)}},i=async()=>{try{(await fetch("/api/client/notifications/read-all",{method:"POST",credentials:"include"})).ok&&(h(v=>v.map(w=>({...w,is_read:!0}))),c(0))}catch(d){console.error("Failed to mark all as read:",d)}},m=d=>{const v={critical:"bg-red-100 text-red-700",high:"bg-orange-100 text-orange-700",medium:"bg-yellow-100 text-yellow-700",low:"bg-blue-100 text-blue-700"};return e.jsx("span",{className:`px-2 py-1 text-xs font-medium rounded-full ${v[d]||v.low}`,children:d})},f=d=>{switch(d){case"alert":return e.jsx("div",{className:"w-10 h-10 rounded-full bg-red-100 flex items-center justify-center",children:e.jsx("svg",{className:"w-5 h-5 text-red-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})})});case"warning":return e.jsx("div",{className:"w-10 h-10 rounded-full bg-yellow-100 flex items-center justify-center",children:e.jsx("svg",{className:"w-5 h-5 text-yellow-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})});case"success":return e.jsx("div",{className:"w-10 h-10 rounded-full bg-green-100 flex items-center justify-center",children:e.jsx("svg",{className:"w-5 h-5 text-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})})});default:return e.jsx("div",{className:"w-10 h-10 rounded-full bg-blue-100 flex items-center justify-center",children:e.jsx("svg",{className:"w-5 h-5 text-blue-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})})}};return x?e.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:e.jsx("div",{className:"w-12 h-12 border-4 border-teal-500 border-t-transparent rounded-full animate-spin"})}):e.jsxs("div",{className:"min-h-screen bg-gray-50/80 page-enter",children:[e.jsx("header",{className:"sticky top-0 z-30 border-b border-gray-200/60",style:{background:"rgba(255,255,255,0.82)",backdropFilter:"blur(20px) saturate(180%)",WebkitBackdropFilter:"blur(20px) saturate(180%)"},children:e.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:e.jsxs("div",{className:"flex items-center justify-between h-14",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx(L,{to:"/client/dashboard",className:"p-2 text-gray-500 hover:text-teal-600 rounded-lg hover:bg-teal-50",children:e.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})})}),e.jsx("h1",{className:"text-lg font-semibold text-gray-900",children:"Notifications"}),s>0&&e.jsxs("span",{className:"px-2 py-1 text-xs font-medium bg-red-100 text-red-700 rounded-full",children:[s," unread"]})]}),s>0&&e.jsx("button",{onClick:i,className:"text-sm text-teal-600 hover:text-teal-700 font-medium",children:"Mark all as read"})]})})}),e.jsx("main",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:e.jsx("div",{className:"bg-white rounded-2xl shadow-sm border border-gray-100 overflow-hidden",children:b?e.jsx("div",{className:"p-8 text-center",children:e.jsx("div",{className:"w-8 h-8 border-4 border-teal-500 border-t-transparent rounded-full animate-spin mx-auto"})}):r.length===0?e.jsxs("div",{className:"p-8 text-center text-gray-500",children:[e.jsx("svg",{className:"w-12 h-12 mx-auto mb-4 text-gray-300",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 17h5l-1.405-1.405A2.032 2.032 0 0118 14.158V11a6.002 6.002 0 00-4-5.659V5a2 2 0 10-4 0v.341C7.67 6.165 6 8.388 6 11v3.159c0 .538-.214 1.055-.595 1.436L4 17h5m6 0v1a3 3 0 11-6 0v-1m6 0H9"})}),e.jsx("p",{children:"No notifications"})]}):e.jsx("div",{className:"divide-y divide-gray-200",children:r.map(d=>e.jsx("div",{className:`p-4 hover:bg-teal-50/50 ${d.is_read?"":"bg-teal-50"}`,onClick:()=>!d.is_read&&j(d.id),children:e.jsxs("div",{className:"flex items-start gap-4",children:[f(d.type),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[e.jsx("h3",{className:"font-medium text-gray-900",children:d.title}),m(d.severity),!d.is_read&&e.jsx("span",{className:"w-2 h-2 bg-teal-500 rounded-full"})]}),e.jsx("p",{className:"text-sm text-gray-600",children:d.message}),e.jsxs("div",{className:"flex items-center gap-4 mt-2",children:[d.site_name&&e.jsx("span",{className:"text-xs text-gray-500",children:d.site_name}),e.jsx("span",{className:"text-xs text-gray-400",children:new Date(d.created_at).toLocaleString()})]})]})]})},d.id))})})})]})},Ce=()=>{var G,K,Q;const g=B(),{isAuthenticated:n,isLoading:x,user:r}=A(),[h,s]=a.useState("users"),[c,b]=a.useState([]),[y,p]=a.useState(!0),[j,i]=a.useState(null),[m,f]=a.useState(null),[d,v]=a.useState(""),[w,u]=a.useState("viewer"),[k,S]=a.useState(!1),[o,M]=a.useState(""),[W,_]=a.useState(""),[T,z]=a.useState(!1),[P,D]=a.useState(null),[H,I]=a.useState(""),[V,q]=a.useState(!1),[N,X]=a.useState(null),[$,ee]=a.useState([]),[se,O]=a.useState(!1),[U,E]=a.useState(!0);a.useEffect(()=>{!x&&!n&&g("/client/login",{replace:!0})},[n,x,g]),a.useEffect(()=>{n&&(F(),Y(),J())},[n]),a.useEffect(()=>{const l=new URLSearchParams(window.location.search).get("billing");l==="success"?(f("Subscription activated successfully!"),s("billing"),window.history.replaceState({},"","/client/settings"),J()):l==="cancelled"&&(s("billing"),window.history.replaceState({},"","/client/settings"))},[]);const F=async()=>{p(!0);try{const t=await fetch("/api/client/users",{credentials:"include"});if(t.ok){const l=await t.json();b(l.users||[])}}catch(t){console.error("Failed to fetch users:",t)}finally{p(!1)}},Y=async()=>{try{const t=await fetch("/api/client/transfer/status",{credentials:"include"});if(t.ok){const l=await t.json();D(l.transfer||null)}}catch(t){console.error("Failed to fetch transfer status:",t)}},te=async t=>{t.preventDefault(),S(!0),i(null),f(null);try{const l=await fetch("/api/client/users/invite",{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({email:d,role:w})});if(l.ok)f(`Invitation sent to ${d}`),v(""),F();else{const C=await l.json();i(C.detail||"Failed to send invitation")}}catch{i("Failed to send invitation")}finally{S(!1)}},ae=async t=>{if(confirm("Are you sure you want to remove this user?"))try{const l=await fetch(`/api/client/users/${t}`,{method:"DELETE",credentials:"include"});if(l.ok)f("User removed"),F();else{const C=await l.json();i(C.detail||"Failed to remove user")}}catch{i("Failed to remove user")}},re=async(t,l)=>{try{const C=await fetch(`/api/client/users/${t}/role`,{method:"PUT",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({role:l})});if(C.ok)f("Role updated"),F();else{const xe=await C.json();i(xe.detail||"Failed to update role")}}catch{i("Failed to update role")}},le=async t=>{if(t.preventDefault(),o!==W){i("Passwords do not match");return}if(o.length<8){i("Password must be at least 8 characters");return}z(!0),i(null),f(null);try{const l=await fetch("/api/client/password",{method:"PUT",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({password:o})});if(l.ok)f("Password updated successfully"),M(""),_("");else{const C=await l.json();i(C.detail||"Failed to update password")}}catch{i("Failed to update password")}finally{z(!1)}},ne=async t=>{t.preventDefault(),q(!0),i(null);try{const l=await fetch("/api/client/transfer/request",{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({reason:H})});if(l.ok)f("Transfer request submitted"),Y(),I("");else{const C=await l.json();i(C.detail||"Failed to submit transfer request")}}catch{i("Failed to submit transfer request")}finally{q(!1)}},ie=async()=>{try{const t=await fetch("/api/client/transfer/cancel",{method:"POST",credentials:"include"});if(t.ok)f("Transfer request cancelled"),D(null);else{const l=await t.json();i(l.detail||"Failed to cancel transfer request")}}catch{i("Failed to cancel transfer request")}},J=async()=>{O(!0);try{const t=await fetch("/api/client/billing",{credentials:"include"});if(t.status===503){E(!1);return}if(t.ok){const l=await t.json();X(l),E(!0),l.has_subscription&&de()}}catch(t){console.error("Failed to fetch billing:",t),E(!1)}finally{O(!1)}},de=async()=>{try{const t=await fetch("/api/client/billing/invoices",{credentials:"include"});if(t.ok){const l=await t.json();ee(l.invoices||[])}}catch(t){console.error("Failed to fetch invoices:",t)}},ce=async()=>{i(null);try{const t=await fetch("/api/client/billing/checkout",{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({})});if(t.ok){const l=await t.json();window.location.href=l.checkout_url}else{const l=await t.json();i(l.detail||"Failed to start checkout")}}catch{i("Failed to start checkout")}},oe=async()=>{i(null);try{const t=await fetch("/api/client/billing/portal",{method:"POST",credentials:"include"});if(t.ok){const l=await t.json();window.location.href=l.portal_url}else{const l=await t.json();i(l.detail||"Failed to open billing portal")}}catch{i("Failed to open billing portal")}},R=(r==null?void 0:r.role)==="owner"||(r==null?void 0:r.role)==="admin";return x?e.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:e.jsx("div",{className:"w-12 h-12 border-4 border-teal-500 border-t-transparent rounded-full animate-spin"})}):e.jsxs("div",{className:"min-h-screen bg-gray-50/80 page-enter",children:[e.jsx("header",{className:"sticky top-0 z-30 border-b border-gray-200/60",style:{background:"rgba(255,255,255,0.82)",backdropFilter:"blur(20px) saturate(180%)",WebkitBackdropFilter:"blur(20px) saturate(180%)"},children:e.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:e.jsx("div",{className:"flex items-center justify-between h-14",children:e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx(L,{to:"/client/dashboard",className:"p-2 text-gray-500 hover:text-teal-600 rounded-lg hover:bg-teal-50",children:e.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})})}),e.jsx("h1",{className:"text-lg font-semibold text-gray-900",children:"Account Settings"})]})})})}),e.jsxs("main",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[j&&e.jsx("div",{className:"mb-4 p-4 bg-red-50 border border-red-200 rounded-lg text-red-700",children:j}),m&&e.jsx("div",{className:"mb-4 p-4 bg-green-50 border border-green-200 rounded-lg text-green-700",children:m}),e.jsxs("div",{className:"flex gap-4 mb-6 border-b border-gray-200",children:[e.jsx("button",{onClick:()=>s("users"),className:`pb-2 px-1 font-medium ${h==="users"?"text-teal-600 border-b-2 border-teal-600":"text-gray-500 hover:text-teal-600"}`,children:"Users"}),e.jsx("button",{onClick:()=>s("password"),className:`pb-2 px-1 font-medium ${h==="password"?"text-teal-600 border-b-2 border-teal-600":"text-gray-500 hover:text-teal-600"}`,children:"Password"}),(r==null?void 0:r.role)==="owner"&&e.jsx("button",{onClick:()=>s("transfer"),className:`pb-2 px-1 font-medium ${h==="transfer"?"text-teal-600 border-b-2 border-teal-600":"text-gray-500 hover:text-teal-600"}`,children:"Transfer Provider"}),(r==null?void 0:r.role)==="owner"&&U&&e.jsx("button",{onClick:()=>s("billing"),className:`pb-2 px-1 font-medium ${h==="billing"?"text-teal-600 border-b-2 border-teal-600":"text-gray-500 hover:text-teal-600"}`,children:"Billing"})]}),h==="users"&&e.jsxs("div",{className:"space-y-6",children:[R&&e.jsxs("div",{className:"bg-white rounded-2xl shadow-sm border border-gray-100 p-6",children:[e.jsx("h2",{className:"text-lg font-medium mb-4",children:"Invite User"}),e.jsxs("form",{onSubmit:te,className:"flex gap-4",children:[e.jsx("input",{type:"email",value:d,onChange:t=>v(t.target.value),placeholder:"Email address",className:"flex-1 px-4 py-2 bg-gray-50/80 border border-gray-200 rounded-xl focus:ring-2 focus:ring-teal-500/40 focus:border-teal-300 outline-none transition",required:!0}),e.jsxs("select",{value:w,onChange:t=>u(t.target.value),className:"px-4 py-2 bg-gray-50/80 border border-gray-200 rounded-xl focus:ring-2 focus:ring-teal-500/40 focus:border-teal-300 outline-none transition",children:[e.jsx("option",{value:"viewer",children:"Viewer"}),e.jsx("option",{value:"admin",children:"Admin"})]}),e.jsx("button",{type:"submit",disabled:k,className:"px-6 py-2 text-white rounded-xl hover:brightness-110 transition-all disabled:opacity-50",style:{background:"linear-gradient(135deg, #14A89E 0%, #3CBCB4 100%)"},children:k?"Sending...":"Send Invite"})]})]}),e.jsxs("div",{className:"bg-white rounded-2xl shadow-sm border border-gray-100 overflow-hidden",children:[e.jsx("div",{className:"px-6 py-4 border-b border-gray-200",children:e.jsx("h2",{className:"text-lg font-medium",children:"Team Members"})}),y?e.jsx("div",{className:"p-8 text-center",children:e.jsx("div",{className:"w-8 h-8 border-4 border-teal-500 border-t-transparent rounded-full animate-spin mx-auto"})}):e.jsx("div",{className:"divide-y divide-gray-200",children:c.map(t=>e.jsxs("div",{className:"p-4 flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-gray-900",children:t.name||t.email}),e.jsx("p",{className:"text-sm text-gray-500",children:t.email})]}),e.jsxs("div",{className:"flex items-center gap-4",children:[R&&t.id!==(r==null?void 0:r.id)&&t.role!=="owner"?e.jsxs("select",{value:t.role,onChange:l=>re(t.id,l.target.value),className:"px-3 py-1 border border-gray-300 rounded text-sm",children:[e.jsx("option",{value:"viewer",children:"Viewer"}),e.jsx("option",{value:"admin",children:"Admin"})]}):e.jsx("span",{className:"px-3 py-1 text-sm font-medium bg-gray-100 text-gray-700 rounded capitalize",children:t.role}),R&&t.id!==(r==null?void 0:r.id)&&t.role!=="owner"&&e.jsx("button",{onClick:()=>ae(t.id),className:"p-2 text-red-500 hover:bg-red-50 rounded",title:"Remove user",children:e.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})})})]})]},t.id))})]})]}),h==="password"&&e.jsxs("div",{className:"bg-white rounded-2xl shadow-sm border border-gray-100 p-6 max-w-md",children:[e.jsx("h2",{className:"text-lg font-medium mb-4",children:"Set Password"}),e.jsx("p",{className:"text-sm text-gray-500 mb-4",children:"Set an optional password for convenient login. You can still use magic links."}),e.jsxs("form",{onSubmit:le,className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"New Password"}),e.jsx("input",{type:"password",value:o,onChange:t=>M(t.target.value),className:"w-full px-4 py-2 bg-gray-50/80 border border-gray-200 rounded-xl focus:ring-2 focus:ring-teal-500/40 focus:border-teal-300 outline-none transition",required:!0,minLength:8})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Confirm Password"}),e.jsx("input",{type:"password",value:W,onChange:t=>_(t.target.value),className:"w-full px-4 py-2 bg-gray-50/80 border border-gray-200 rounded-xl focus:ring-2 focus:ring-teal-500/40 focus:border-teal-300 outline-none transition",required:!0,minLength:8})]}),e.jsx("button",{type:"submit",disabled:T,className:"w-full px-6 py-2 text-white rounded-xl hover:brightness-110 transition-all disabled:opacity-50",style:{background:"linear-gradient(135deg, #14A89E 0%, #3CBCB4 100%)"},children:T?"Saving...":"Update Password"})]})]}),h==="transfer"&&(r==null?void 0:r.role)==="owner"&&e.jsxs("div",{className:"bg-white rounded-2xl shadow-sm border border-gray-100 p-6 max-w-lg",children:[e.jsx("h2",{className:"text-lg font-medium mb-4",children:"Request Provider Transfer"}),P?e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"p-4 bg-yellow-50 border border-yellow-200 rounded-lg",children:[e.jsx("p",{className:"font-medium text-yellow-800",children:"Transfer Request Pending"}),e.jsxs("p",{className:"text-sm text-yellow-700 mt-1",children:["Status: ",P.status]}),e.jsxs("p",{className:"text-sm text-yellow-700",children:["Requested: ",new Date(P.requested_at).toLocaleDateString()]})]}),P.status==="pending"&&e.jsx("button",{onClick:ie,className:"px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-teal-50/50",children:"Cancel Request"})]}):e.jsxs(e.Fragment,{children:[e.jsx("p",{className:"text-sm text-gray-500 mb-4",children:"Request to transfer your practice to a different MSP provider. Your compliance data will be preserved."}),e.jsxs("form",{onSubmit:ne,className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Reason for Transfer"}),e.jsx("textarea",{value:H,onChange:t=>I(t.target.value),rows:3,className:"w-full px-4 py-2 bg-gray-50/80 border border-gray-200 rounded-xl focus:ring-2 focus:ring-teal-500/40 focus:border-teal-300 outline-none transition",placeholder:"Please explain why you want to transfer...",required:!0})]}),e.jsx("button",{type:"submit",disabled:V,className:"w-full px-6 py-2 text-white rounded-xl hover:brightness-110 transition-all disabled:opacity-50",style:{background:"linear-gradient(135deg, #EA580C 0%, #F97316 100%)"},children:V?"Submitting...":"Submit Transfer Request"})]})]})]}),h==="billing"&&(r==null?void 0:r.role)==="owner"&&U&&e.jsx("div",{className:"space-y-6",children:se?e.jsx("div",{className:"bg-white rounded-2xl shadow-sm border border-gray-100 p-8 text-center",children:e.jsx("div",{className:"w-8 h-8 border-4 border-teal-500 border-t-transparent rounded-full animate-spin mx-auto"})}):N!=null&&N.has_subscription?e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"bg-white rounded-2xl shadow-sm border border-gray-100 p-6",children:[e.jsx("h2",{className:"text-lg font-medium mb-4",children:"Current Plan"}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-2xl font-bold text-gray-900",children:((G=N.plan)==null?void 0:G.name)||"OsirisCare Compliance"}),e.jsxs("p",{className:"text-gray-500",children:["$",(K=N.plan)==null?void 0:K.amount,"/",(Q=N.plan)==null?void 0:Q.interval]}),N.current_period_end&&e.jsxs("p",{className:"text-sm text-gray-500 mt-2",children:[N.cancel_at_period_end?"Cancels":"Renews"," on"," ",new Date(N.current_period_end).toLocaleDateString()]})]}),e.jsx("span",{className:`px-3 py-1 rounded-full text-sm font-medium ${N.status==="active"?"bg-green-100 text-green-800":N.status==="trialing"?"bg-blue-100 text-blue-800":"bg-yellow-100 text-yellow-800"}`,children:N.status==="active"?"Active":N.status==="trialing"?"Trial":N.status})]}),N.payment_method&&e.jsxs("div",{className:"mt-4 pt-4 border-t border-gray-200",children:[e.jsx("p",{className:"text-sm text-gray-500",children:"Payment Method"}),e.jsxs("p",{className:"font-medium",children:[N.payment_method.brand.toUpperCase(),"  ",N.payment_method.last4,e.jsxs("span",{className:"text-gray-500 ml-2",children:["Expires ",N.payment_method.exp_month,"/",N.payment_method.exp_year]})]})]}),e.jsx("button",{onClick:oe,className:"mt-4 px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-teal-50/50",children:"Manage Subscription"})]}),$.length>0&&e.jsxs("div",{className:"bg-white rounded-2xl shadow-sm border border-gray-100 overflow-hidden",children:[e.jsx("div",{className:"px-6 py-4 border-b border-gray-200",children:e.jsx("h2",{className:"text-lg font-medium",children:"Recent Invoices"})}),e.jsx("div",{className:"divide-y divide-gray-200",children:$.map(t=>e.jsxs("div",{className:"p-4 flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-gray-900",children:t.number}),e.jsx("p",{className:"text-sm text-gray-500",children:new Date(t.created).toLocaleDateString()})]}),e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("span",{className:`px-2 py-1 text-xs rounded ${t.status==="paid"?"bg-green-100 text-green-800":"bg-yellow-100 text-yellow-800"}`,children:t.status}),e.jsxs("span",{className:"font-medium",children:["$",t.amount_paid.toFixed(2)," ",t.currency]}),t.invoice_pdf&&e.jsx("a",{href:t.invoice_pdf,target:"_blank",rel:"noopener noreferrer",className:"text-teal-600 hover:text-teal-700",children:"Download"})]})]},t.id))})]})]}):e.jsxs("div",{className:"bg-white rounded-2xl shadow-sm border border-gray-100 p-6 max-w-lg",children:[e.jsx("h2",{className:"text-lg font-medium mb-4",children:"Subscribe to OsirisCare"}),e.jsx("p",{className:"text-gray-500 mb-6",children:"Get full access to compliance monitoring, evidence management, and audit-ready reports."}),e.jsxs("div",{className:"bg-gray-50 rounded-lg p-4 mb-6",children:[e.jsxs("p",{className:"text-2xl font-bold text-gray-900",children:["Starting at $200",e.jsx("span",{className:"text-base font-normal text-gray-500",children:"/month"})]}),e.jsxs("ul",{className:"mt-4 space-y-2 text-sm text-gray-600",children:[e.jsxs("li",{className:"flex items-center gap-2",children:[e.jsx("svg",{className:"w-4 h-4 text-teal-500",fill:"currentColor",viewBox:"0 0 20 20",children:e.jsx("path",{fillRule:"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z",clipRule:"evenodd"})}),"Continuous HIPAA compliance monitoring"]}),e.jsxs("li",{className:"flex items-center gap-2",children:[e.jsx("svg",{className:"w-4 h-4 text-teal-500",fill:"currentColor",viewBox:"0 0 20 20",children:e.jsx("path",{fillRule:"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z",clipRule:"evenodd"})}),"Automatic evidence collection"]}),e.jsxs("li",{className:"flex items-center gap-2",children:[e.jsx("svg",{className:"w-4 h-4 text-teal-500",fill:"currentColor",viewBox:"0 0 20 20",children:e.jsx("path",{fillRule:"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z",clipRule:"evenodd"})}),"7-year audit trail retention"]}),e.jsxs("li",{className:"flex items-center gap-2",children:[e.jsx("svg",{className:"w-4 h-4 text-teal-500",fill:"currentColor",viewBox:"0 0 20 20",children:e.jsx("path",{fillRule:"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z",clipRule:"evenodd"})}),"Monthly compliance reports"]})]})]}),e.jsx("button",{onClick:ce,className:"w-full px-6 py-3 text-white rounded-xl hover:brightness-110 transition-all font-medium",style:{background:"linear-gradient(135deg, #14A89E 0%, #3CBCB4 100%)",boxShadow:"0 4px 14px rgba(60, 188, 180, 0.35)"},children:"Start Subscription"})]})})]})]})},he=()=>e.jsxs("div",{className:"my-6 p-6 bg-gradient-to-r from-slate-50 to-teal-50 rounded-xl border border-teal-200",children:[e.jsx("h5",{className:"font-medium text-gray-900 mb-4 text-center",children:"How Evidence Chain Works"}),e.jsxs("div",{className:"flex items-center justify-center gap-2 overflow-x-auto py-4",children:[e.jsxs("div",{className:"flex-shrink-0 w-32",children:[e.jsxs("div",{className:"bg-white rounded-lg border-2 border-teal-500 p-3 shadow-sm",children:[e.jsx("div",{className:"text-xs text-gray-500 mb-1",children:"Check #1"}),e.jsx("div",{className:"text-sm font-medium text-gray-900",children:"Firewall"}),e.jsx("div",{className:"mt-2 font-mono text-xs bg-gray-100 p-1 rounded truncate",children:"hash: a3f2..."})]}),e.jsx("div",{className:"text-center text-xs text-gray-500 mt-1",children:"9:00 AM"})]}),e.jsxs("div",{className:"flex-shrink-0 flex items-center",children:[e.jsx("div",{className:"w-8 h-0.5 bg-teal-400"}),e.jsx("svg",{className:"w-4 h-4 text-teal-400 -ml-1",fill:"currentColor",viewBox:"0 0 20 20",children:e.jsx("path",{fillRule:"evenodd",d:"M10.293 3.293a1 1 0 011.414 0l6 6a1 1 0 010 1.414l-6 6a1 1 0 01-1.414-1.414L14.586 11H3a1 1 0 110-2h11.586l-4.293-4.293a1 1 0 010-1.414z",clipRule:"evenodd"})})]}),e.jsxs("div",{className:"flex-shrink-0 w-32",children:[e.jsxs("div",{className:"bg-white rounded-lg border-2 border-teal-500 p-3 shadow-sm",children:[e.jsx("div",{className:"text-xs text-gray-500 mb-1",children:"Check #2"}),e.jsx("div",{className:"text-sm font-medium text-gray-900",children:"Backup"}),e.jsx("div",{className:"mt-2 font-mono text-xs bg-gray-100 p-1 rounded truncate",children:"prev: a3f2..."})]}),e.jsx("div",{className:"text-center text-xs text-gray-500 mt-1",children:"9:05 AM"})]}),e.jsxs("div",{className:"flex-shrink-0 flex items-center",children:[e.jsx("div",{className:"w-8 h-0.5 bg-teal-400"}),e.jsx("svg",{className:"w-4 h-4 text-teal-400 -ml-1",fill:"currentColor",viewBox:"0 0 20 20",children:e.jsx("path",{fillRule:"evenodd",d:"M10.293 3.293a1 1 0 011.414 0l6 6a1 1 0 010 1.414l-6 6a1 1 0 01-1.414-1.414L14.586 11H3a1 1 0 110-2h11.586l-4.293-4.293a1 1 0 010-1.414z",clipRule:"evenodd"})})]}),e.jsxs("div",{className:"flex-shrink-0 w-32",children:[e.jsxs("div",{className:"bg-white rounded-lg border-2 border-teal-500 p-3 shadow-sm",children:[e.jsx("div",{className:"text-xs text-gray-500 mb-1",children:"Check #3"}),e.jsx("div",{className:"text-sm font-medium text-gray-900",children:"Antivirus"}),e.jsx("div",{className:"mt-2 font-mono text-xs bg-gray-100 p-1 rounded truncate",children:"prev: b7d4..."})]}),e.jsx("div",{className:"text-center text-xs text-gray-500 mt-1",children:"9:10 AM"})]}),e.jsx("div",{className:"flex-shrink-0 text-gray-400 text-2xl px-2",children:"..."})]}),e.jsx("p",{className:"text-sm text-gray-600 text-center mt-4",children:"Each evidence bundle references the previous one, creating a tamper-evident chain. Any modification would invalidate the chain and be detectable during verification."})]}),ue=()=>e.jsxs("div",{className:"my-6 space-y-4",children:[e.jsxs("div",{className:"bg-white rounded-xl border border-gray-200 overflow-hidden",children:[e.jsxs("div",{className:"bg-gray-50 border-b border-gray-200 px-4 py-3 flex items-center gap-3",children:[e.jsx("div",{className:"w-8 h-8 bg-teal-100 rounded-lg flex items-center justify-center",children:e.jsx("svg",{className:"w-4 h-4 text-teal-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m5.618-4.016A11.955 11.955 0 0112 2.944a11.955 11.955 0 01-8.618 3.04A12.02 12.02 0 003 9c0 5.591 3.824 10.29 9 11.622 5.176-1.332 9-6.03 9-11.622 0-1.042-.133-2.052-.382-3.016z"})})}),e.jsx("span",{className:"font-medium text-gray-700",children:"Your Practice Name"})]}),e.jsx("div",{className:"p-4",children:e.jsxs("div",{className:"grid grid-cols-4 gap-3",children:[e.jsxs("div",{className:"bg-gray-50 rounded-lg p-3 relative",children:[e.jsx("div",{className:"absolute -top-2 -right-2 w-6 h-6 bg-blue-500 text-white rounded-full flex items-center justify-center text-xs font-bold",children:"1"}),e.jsx("div",{className:"text-xs text-gray-500",children:"Compliance Score"}),e.jsx("div",{className:"text-lg font-bold text-green-600",children:"92%"})]}),e.jsxs("div",{className:"bg-gray-50 rounded-lg p-3 relative",children:[e.jsx("div",{className:"absolute -top-2 -right-2 w-6 h-6 bg-blue-500 text-white rounded-full flex items-center justify-center text-xs font-bold",children:"2"}),e.jsx("div",{className:"text-xs text-gray-500",children:"Controls Passed"}),e.jsx("div",{className:"text-lg font-bold text-gray-900",children:"12/13"})]}),e.jsxs("div",{className:"bg-gray-50 rounded-lg p-3 relative",children:[e.jsx("div",{className:"absolute -top-2 -right-2 w-6 h-6 bg-blue-500 text-white rounded-full flex items-center justify-center text-xs font-bold",children:"3"}),e.jsx("div",{className:"text-xs text-gray-500",children:"Issues"}),e.jsx("div",{className:"text-lg font-bold text-red-600",children:"1"})]}),e.jsxs("div",{className:"bg-gray-50 rounded-lg p-3 relative",children:[e.jsx("div",{className:"absolute -top-2 -right-2 w-6 h-6 bg-blue-500 text-white rounded-full flex items-center justify-center text-xs font-bold",children:"4"}),e.jsx("div",{className:"text-xs text-gray-500",children:"Sites"}),e.jsx("div",{className:"text-lg font-bold text-gray-900",children:"1"})]})]})})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-3 text-sm",children:[e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx("span",{className:"w-5 h-5 bg-blue-500 text-white rounded-full flex items-center justify-center text-xs font-bold flex-shrink-0",children:"1"}),e.jsxs("span",{className:"text-gray-600",children:[e.jsx("strong",{children:"Compliance Score"})," - Your overall HIPAA compliance percentage"]})]}),e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx("span",{className:"w-5 h-5 bg-blue-500 text-white rounded-full flex items-center justify-center text-xs font-bold flex-shrink-0",children:"2"}),e.jsxs("span",{className:"text-gray-600",children:[e.jsx("strong",{children:"Controls Passed"})," - How many checks are passing vs total"]})]}),e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx("span",{className:"w-5 h-5 bg-blue-500 text-white rounded-full flex items-center justify-center text-xs font-bold flex-shrink-0",children:"3"}),e.jsxs("span",{className:"text-gray-600",children:[e.jsx("strong",{children:"Issues"})," - Failed checks requiring attention"]})]}),e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx("span",{className:"w-5 h-5 bg-blue-500 text-white rounded-full flex items-center justify-center text-xs font-bold flex-shrink-0",children:"4"}),e.jsxs("span",{className:"text-gray-600",children:[e.jsx("strong",{children:"Sites"})," - Number of locations being monitored"]})]})]})]}),ge=()=>e.jsx("div",{className:"my-6",children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex gap-4",children:[e.jsx("div",{className:"flex-shrink-0 w-8 h-8 bg-teal-500 text-white rounded-full flex items-center justify-center font-bold",children:"1"}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h5",{className:"font-medium text-gray-900",children:"Navigate to Evidence Archive"}),e.jsx("p",{className:"text-sm text-gray-600 mt-1",children:'Click "Evidence Archive" from the dashboard quick links'}),e.jsxs("div",{className:"mt-2 bg-gray-50 rounded-lg p-3 flex items-center gap-3",children:[e.jsx("div",{className:"w-10 h-10 bg-teal-100 rounded-lg flex items-center justify-center",children:e.jsx("svg",{className:"w-5 h-5 text-teal-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})})}),e.jsxs("div",{children:[e.jsx("div",{className:"font-medium text-gray-900 text-sm",children:"Evidence Archive"}),e.jsx("div",{className:"text-xs text-gray-500",children:"View and download compliance evidence"})]})]})]})]}),e.jsxs("div",{className:"flex gap-4",children:[e.jsx("div",{className:"flex-shrink-0 w-8 h-8 bg-teal-500 text-white rounded-full flex items-center justify-center font-bold",children:"2"}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h5",{className:"font-medium text-gray-900",children:"Find the Evidence You Need"}),e.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"Use filters to find specific check types, dates, or HIPAA controls"}),e.jsx("div",{className:"mt-2 bg-gray-50 rounded-lg p-3",children:e.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[e.jsx("span",{className:"px-2 py-1 bg-white border border-gray-200 rounded text-gray-700",children:"All Results"}),e.jsx("span",{className:"text-gray-400",children:"|"}),e.jsx("span",{className:"text-gray-500",children:"97,891 total bundles"})]})})]})]}),e.jsxs("div",{className:"flex gap-4",children:[e.jsx("div",{className:"flex-shrink-0 w-8 h-8 bg-teal-500 text-white rounded-full flex items-center justify-center font-bold",children:"3"}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h5",{className:"font-medium text-gray-900",children:"Download or View Details"}),e.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"Click the eye icon to view details, or download icon to get the bundle"}),e.jsxs("div",{className:"mt-2 bg-gray-50 rounded-lg p-3 flex items-center justify-between",children:[e.jsxs("div",{className:"text-sm",children:[e.jsx("div",{className:"text-gray-900",children:"windows_backup_status"}),e.jsx("div",{className:"text-xs text-gray-500",children:"164.312(b) - Audit Controls"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"px-2 py-0.5 bg-green-100 text-green-700 text-xs rounded",children:"Pass"}),e.jsx("button",{className:"p-1.5 hover:bg-teal-50 rounded",title:"View",children:e.jsxs("svg",{className:"w-4 h-4 text-gray-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"}),e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"})]})}),e.jsx("button",{className:"p-1.5 hover:bg-teal-50 rounded",title:"Download",children:e.jsx("svg",{className:"w-4 h-4 text-gray-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-4l-4 4m0 0l-4-4m4 4V4"})})})]})]})]})]})]})}),pe=()=>e.jsx("div",{className:"my-6 bg-amber-50 border border-amber-200 rounded-xl p-6",children:e.jsxs("div",{className:"flex items-start gap-4",children:[e.jsx("div",{className:"flex-shrink-0 w-12 h-12 bg-amber-100 rounded-full flex items-center justify-center",children:e.jsx("svg",{className:"w-6 h-6 text-amber-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})})}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold text-amber-900 mb-2",children:"What to Tell Your Auditor"}),e.jsxs("div",{className:"space-y-3 text-sm text-amber-800",children:[e.jsxs("p",{children:[e.jsx("strong",{children:"About the Evidence Chain:"}),' "Our compliance evidence uses cryptographic hash chains, similar to blockchain technology. Each piece of evidence contains a reference to the previous one, making it impossible to alter historical records without detection."']}),e.jsxs("p",{children:[e.jsx("strong",{children:"About Digital Signatures:"}),' "Every evidence bundle is digitally signed using Ed25519 cryptography by the on-premises appliance at the time of collection, proving authenticity and preventing tampering."']}),e.jsxs("p",{children:[e.jsx("strong",{children:"About Timestamps:"}),' "Timestamps are synchronized with NTP servers and cryptographically bound to each evidence bundle, providing verifiable proof of when each check occurred."']})]})]})]})}),Le=()=>{const g=B(),{user:n}=A(),[x,r]=a.useState("getting-started");if(!n)return g("/client/login"),null;const h=[{id:"getting-started",title:"Getting Started",icon:"",content:e.jsxs("div",{className:"space-y-4",children:[e.jsx("h4",{className:"font-medium text-gray-900",children:"Welcome to OsirisCare"}),e.jsx("p",{className:"text-gray-600",children:"Your compliance portal gives you visibility into your HIPAA compliance status, evidence collection, and audit readiness."}),e.jsx(ue,{})]})},{id:"evidence-chain",title:"Evidence Chain & Blockchain Verification",icon:"",content:e.jsxs("div",{className:"space-y-4",children:[e.jsx("p",{className:"text-gray-600",children:"OsirisCare uses cryptographic hash chains (similar to blockchain) to ensure your compliance evidence is tamper-proof and verifiable."}),e.jsx(he,{}),e.jsxs("div",{className:"bg-teal-50 p-4 rounded-lg",children:[e.jsx("h5",{className:"font-medium text-teal-800 mb-2",children:"Key Features"}),e.jsxs("ul",{className:"list-disc list-inside text-teal-700 space-y-2 text-sm",children:[e.jsxs("li",{children:[e.jsx("strong",{children:"Immutable Records"})," - Once recorded, evidence cannot be altered"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Digital Signatures"})," - Ed25519 cryptographic signatures prove authenticity"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Chain Verification"})," - Each bundle links to the previous, creating an audit trail"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Timestamping"})," - NTP-synchronized times prove when checks occurred"]})]})]}),e.jsx(pe,{})]})},{id:"downloading-evidence",title:"Downloading Evidence for Audits",icon:"",content:e.jsxs("div",{className:"space-y-4",children:[e.jsx("p",{className:"text-gray-600",children:"When preparing for a HIPAA audit, you'll need to provide evidence of your compliance controls. Here's how to download what you need:"}),e.jsx(ge,{}),e.jsxs("div",{className:"bg-blue-50 p-4 rounded-lg",children:[e.jsx("h5",{className:"font-medium text-blue-800 mb-2",children:"Evidence Bundle Contents"}),e.jsx("p",{className:"text-blue-700 text-sm mb-3",children:"Each downloaded bundle includes:"}),e.jsxs("ul",{className:"grid grid-cols-2 gap-2 text-sm text-blue-700",children:[e.jsxs("li",{className:"flex items-center gap-2",children:[e.jsx("svg",{className:"w-4 h-4 text-blue-500",fill:"currentColor",viewBox:"0 0 20 20",children:e.jsx("path",{fillRule:"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z",clipRule:"evenodd"})}),"Check result (Pass/Fail/Warn)"]}),e.jsxs("li",{className:"flex items-center gap-2",children:[e.jsx("svg",{className:"w-4 h-4 text-blue-500",fill:"currentColor",viewBox:"0 0 20 20",children:e.jsx("path",{fillRule:"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z",clipRule:"evenodd"})}),"Timestamp (verified)"]}),e.jsxs("li",{className:"flex items-center gap-2",children:[e.jsx("svg",{className:"w-4 h-4 text-blue-500",fill:"currentColor",viewBox:"0 0 20 20",children:e.jsx("path",{fillRule:"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z",clipRule:"evenodd"})}),"HIPAA control mapping"]}),e.jsxs("li",{className:"flex items-center gap-2",children:[e.jsx("svg",{className:"w-4 h-4 text-blue-500",fill:"currentColor",viewBox:"0 0 20 20",children:e.jsx("path",{fillRule:"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z",clipRule:"evenodd"})}),"Digital signature"]}),e.jsxs("li",{className:"flex items-center gap-2",children:[e.jsx("svg",{className:"w-4 h-4 text-blue-500",fill:"currentColor",viewBox:"0 0 20 20",children:e.jsx("path",{fillRule:"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z",clipRule:"evenodd"})}),"Chain hash (prev link)"]}),e.jsxs("li",{className:"flex items-center gap-2",children:[e.jsx("svg",{className:"w-4 h-4 text-blue-500",fill:"currentColor",viewBox:"0 0 20 20",children:e.jsx("path",{fillRule:"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z",clipRule:"evenodd"})}),"Raw check data"]})]})]})]})},{id:"compliance-score",title:"Understanding Your Compliance Score",icon:"",content:e.jsxs("div",{className:"space-y-4",children:[e.jsx("p",{className:"text-gray-600",children:"Your compliance score reflects the percentage of HIPAA controls that are passing."}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsxs("div",{className:"bg-green-50 p-4 rounded-lg border-l-4 border-green-500",children:[e.jsx("div",{className:"text-2xl font-bold text-green-600",children:"90-100%"}),e.jsx("div",{className:"text-sm font-medium text-green-800",children:"Excellent"}),e.jsx("div",{className:"text-xs text-green-700 mt-1",children:"Audit ready - minimal risk"})]}),e.jsxs("div",{className:"bg-yellow-50 p-4 rounded-lg border-l-4 border-yellow-500",children:[e.jsx("div",{className:"text-2xl font-bold text-yellow-600",children:"70-89%"}),e.jsx("div",{className:"text-sm font-medium text-yellow-800",children:"Good"}),e.jsx("div",{className:"text-xs text-yellow-700 mt-1",children:"Minor issues to address"})]}),e.jsxs("div",{className:"bg-red-50 p-4 rounded-lg border-l-4 border-red-500",children:[e.jsx("div",{className:"text-2xl font-bold text-red-600",children:"Below 70%"}),e.jsx("div",{className:"text-sm font-medium text-red-800",children:"Needs Attention"}),e.jsx("div",{className:"text-xs text-red-700 mt-1",children:"Contact your IT provider"})]})]}),e.jsx("p",{className:"text-gray-600 text-sm",children:"The score updates automatically as compliance checks run throughout the day."})]})},{id:"hipaa-controls",title:"HIPAA Controls Reference",icon:"",content:e.jsxs("div",{className:"space-y-4",children:[e.jsx("p",{className:"text-gray-600",children:"Each compliance check maps to specific HIPAA Security Rule requirements. Here's what they mean:"}),e.jsxs("div",{className:"space-y-3",children:[e.jsx("div",{className:"bg-white border border-gray-200 rounded-lg p-4",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:"w-8 h-8 bg-teal-100 rounded flex items-center justify-center flex-shrink-0",children:e.jsx("span",{className:"text-teal-600 font-bold text-xs",children:"a"})}),e.jsxs("div",{children:[e.jsx("div",{className:"font-medium text-gray-900",children:"164.312(a)(1) - Access Control"}),e.jsx("div",{className:"text-sm text-gray-600 mt-1",children:"User authentication, unique user IDs, automatic logoff policies"}),e.jsxs("div",{className:"text-xs text-gray-500 mt-2",children:[e.jsx("strong",{children:"Checks:"})," Password policy, account lockout, session timeouts"]})]})]})}),e.jsx("div",{className:"bg-white border border-gray-200 rounded-lg p-4",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:"w-8 h-8 bg-teal-100 rounded flex items-center justify-center flex-shrink-0",children:e.jsx("span",{className:"text-teal-600 font-bold text-xs",children:"b"})}),e.jsxs("div",{children:[e.jsx("div",{className:"font-medium text-gray-900",children:"164.312(b) - Audit Controls"}),e.jsx("div",{className:"text-sm text-gray-600 mt-1",children:"Recording and examining system activity, backup verification"}),e.jsxs("div",{className:"text-xs text-gray-500 mt-2",children:[e.jsx("strong",{children:"Checks:"})," Event logging, backup status, log retention"]})]})]})}),e.jsx("div",{className:"bg-white border border-gray-200 rounded-lg p-4",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:"w-8 h-8 bg-teal-100 rounded flex items-center justify-center flex-shrink-0",children:e.jsx("span",{className:"text-teal-600 font-bold text-xs",children:"c"})}),e.jsxs("div",{children:[e.jsx("div",{className:"font-medium text-gray-900",children:"164.312(c)(1) - Integrity"}),e.jsx("div",{className:"text-sm text-gray-600 mt-1",children:"Protecting ePHI from improper alteration or destruction"}),e.jsxs("div",{className:"text-xs text-gray-500 mt-2",children:[e.jsx("strong",{children:"Checks:"})," System updates, configuration drift, file integrity"]})]})]})}),e.jsx("div",{className:"bg-white border border-gray-200 rounded-lg p-4",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:"w-8 h-8 bg-teal-100 rounded flex items-center justify-center flex-shrink-0",children:e.jsx("span",{className:"text-teal-600 font-bold text-xs",children:"d"})}),e.jsxs("div",{children:[e.jsx("div",{className:"font-medium text-gray-900",children:"164.312(d) - Person or Entity Authentication"}),e.jsx("div",{className:"text-sm text-gray-600 mt-1",children:"Verifying that persons seeking access are who they claim to be"}),e.jsxs("div",{className:"text-xs text-gray-500 mt-2",children:[e.jsx("strong",{children:"Checks:"})," Password complexity, MFA status, user verification"]})]})]})}),e.jsx("div",{className:"bg-white border border-gray-200 rounded-lg p-4",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:"w-8 h-8 bg-teal-100 rounded flex items-center justify-center flex-shrink-0",children:e.jsx("span",{className:"text-teal-600 font-bold text-xs",children:"e"})}),e.jsxs("div",{children:[e.jsx("div",{className:"font-medium text-gray-900",children:"164.312(e)(1) - Transmission Security"}),e.jsx("div",{className:"text-sm text-gray-600 mt-1",children:"Protecting ePHI during electronic transmission"}),e.jsxs("div",{className:"text-xs text-gray-500 mt-2",children:[e.jsx("strong",{children:"Checks:"})," Firewall config, encryption (BitLocker), network security"]})]})]})})]})]})},{id:"users",title:"Managing Team Members",icon:"",content:e.jsxs("div",{className:"space-y-4",children:[e.jsx("p",{className:"text-gray-600",children:"Add team members to give them access to the compliance portal."}),e.jsx("h5",{className:"font-medium text-gray-900",children:"User Roles"}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-start gap-3 p-3 bg-purple-50 rounded-lg",children:[e.jsx("span",{className:"bg-purple-200 text-purple-800 px-2 py-1 rounded text-sm font-medium",children:"Owner"}),e.jsx("span",{className:"text-gray-700 text-sm",children:"Full access including billing, user management, and provider transfer requests"})]}),e.jsxs("div",{className:"flex items-start gap-3 p-3 bg-blue-50 rounded-lg",children:[e.jsx("span",{className:"bg-blue-200 text-blue-800 px-2 py-1 rounded text-sm font-medium",children:"Admin"}),e.jsx("span",{className:"text-gray-700 text-sm",children:"Manage users, view all data, download evidence - everything except billing"})]}),e.jsxs("div",{className:"flex items-start gap-3 p-3 bg-gray-50 rounded-lg",children:[e.jsx("span",{className:"bg-gray-200 text-gray-800 px-2 py-1 rounded text-sm font-medium",children:"Viewer"}),e.jsx("span",{className:"text-gray-700 text-sm",children:"View dashboard and evidence only - read-only access"})]})]})]})},{id:"support",title:"Getting Help & Support",icon:"",content:e.jsx("div",{className:"space-y-4",children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-4",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[e.jsx("div",{className:"w-10 h-10 bg-blue-100 rounded-lg flex items-center justify-center",children:e.jsx("svg",{className:"w-5 h-5 text-blue-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10 20l4-16m4 4l4 4-4 4M6 16l-4-4 4-4"})})}),e.jsx("h5",{className:"font-medium text-gray-900",children:"Technical Issues"})]}),e.jsx("p",{className:"text-gray-600 text-sm",children:"For compliance failures, workstation issues, or technical problems, contact your IT provider (MSP) first."})]}),e.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-4",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[e.jsx("div",{className:"w-10 h-10 bg-teal-100 rounded-lg flex items-center justify-center",children:e.jsx("svg",{className:"w-5 h-5 text-teal-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 8l7.89 5.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"})})}),e.jsx("h5",{className:"font-medium text-gray-900",children:"Portal Support"})]}),e.jsxs("p",{className:"text-gray-600 text-sm",children:["For portal questions or account help:",e.jsx("br",{}),e.jsx("a",{href:"mailto:support@osiriscare.net",className:"text-teal-600 hover:underline",children:"support@osiriscare.net"})]})]})]})})}],s=c=>{r(x===c?null:c)};return e.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-800 via-slate-700 to-teal-900",children:[e.jsx("header",{className:"bg-white/10 backdrop-blur-sm border-b border-white/10",children:e.jsxs("div",{className:"max-w-4xl mx-auto px-6 py-4 flex items-center justify-between",children:[e.jsxs("button",{onClick:()=>g("/client/dashboard"),className:"flex items-center gap-2 text-white/80 hover:text-white transition-colors",children:[e.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})}),"Back to Dashboard"]}),e.jsx("h1",{className:"text-xl font-semibold text-white",children:"Help & Documentation"}),e.jsx("div",{className:"w-24"})]})}),e.jsxs("main",{className:"max-w-4xl mx-auto px-6 py-8",children:[e.jsx("div",{className:"bg-white rounded-2xl shadow-sm border border-gray-100 p-6 mb-6",children:e.jsxs("div",{className:"flex items-center gap-4 mb-4",children:[e.jsx("div",{className:"w-12 h-12 rounded-full bg-teal-100 flex items-center justify-center",children:e.jsx("svg",{className:"w-6 h-6 text-teal-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8.228 9c.549-1.165 2.03-2 3.772-2 2.21 0 4 1.343 4 3 0 1.4-1.278 2.575-3.006 2.907-.542.104-.994.54-.994 1.093m0 3h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"How can we help?"}),e.jsx("p",{className:"text-gray-600",children:"Find answers to common questions about your compliance portal"})]})]})}),e.jsx("div",{className:"space-y-3",children:h.map(c=>e.jsxs("div",{className:"bg-white rounded-2xl shadow-sm border border-gray-100 overflow-hidden",children:[e.jsxs("button",{onClick:()=>s(c.id),className:"w-full px-6 py-4 flex items-center justify-between hover:bg-teal-50/50 transition-colors",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("span",{className:"text-2xl",children:c.icon}),e.jsx("span",{className:"font-medium text-gray-900",children:c.title})]}),e.jsx("svg",{className:`w-5 h-5 text-gray-400 transition-transform ${x===c.id?"rotate-180":""}`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]}),x===c.id&&e.jsx("div",{className:"px-6 pb-6 pt-2 border-t border-gray-100",children:c.content})]},c.id))}),e.jsx("div",{className:"mt-8 text-center text-white/60 text-sm",children:e.jsx("p",{children:"Powered by OsirisCare HIPAA Compliance Platform"})})]})]})};export{ye as ClientDashboard,Ne as ClientEvidence,Le as ClientHelp,be as ClientLogin,ke as ClientNotifications,fe as ClientProvider,we as ClientReports,Ce as ClientSettings,ve as ClientVerify,A as useClient};
